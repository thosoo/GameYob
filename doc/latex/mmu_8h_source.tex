\hypertarget{mmu_8h_source}{}\doxysection{mmu.\+h}
\label{mmu_8h_source}\index{arm9/include/mmu.h@{arm9/include/mmu.h}}
\mbox{\hyperlink{mmu_8h}{Go to the documentation of this file.}}
\begin{DoxyCode}{0}
\DoxyCodeLine{\Hypertarget{mmu_8h_source_l00001}00001\ \textcolor{preprocessor}{\#pragma\ once}}
\DoxyCodeLine{\Hypertarget{mmu_8h_source_l00002}00002\ \textcolor{preprocessor}{\#include\ "{}time.h"{}}}
\DoxyCodeLine{\Hypertarget{mmu_8h_source_l00003}00003\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{global_8h}{global.h}}"{}}}
\DoxyCodeLine{\Hypertarget{mmu_8h_source_l00004}00004\ \textcolor{preprocessor}{\#include\ <stdio.h>}}
\DoxyCodeLine{\Hypertarget{mmu_8h_source_l00005}00005\ }
\DoxyCodeLine{\Hypertarget{mmu_8h_source_l00006}\mbox{\hyperlink{mmu_8h_adc5e4702e0df5a409e3f69c25685d0a4}{00006}}\ \textcolor{preprocessor}{\#define\ MAX\_SRAM\_SIZE\ 0x20000}}
\DoxyCodeLine{\Hypertarget{mmu_8h_source_l00007}00007\ }
\DoxyCodeLine{\Hypertarget{mmu_8h_source_l00008}00008\ \textcolor{comment}{//\ Be\ careful\ changing\ this;\ it\ affects\ save\ state\ compatibility.}}
\DoxyCodeLine{\Hypertarget{mmu_8h_source_l00009}\mbox{\hyperlink{structclock_struct}{00009}}\ \textcolor{keyword}{struct\ }\mbox{\hyperlink{structclock_struct}{clockStruct}}}
\DoxyCodeLine{\Hypertarget{mmu_8h_source_l00010}00010\ \{}
\DoxyCodeLine{\Hypertarget{mmu_8h_source_l00011}00011\ \ \ \ \ \textcolor{keyword}{union}}
\DoxyCodeLine{\Hypertarget{mmu_8h_source_l00012}00012\ \ \ \ \ \{}
\DoxyCodeLine{\Hypertarget{mmu_8h_source_l00013}00013\ \ \ \ \ \ \ \ \ \textcolor{keyword}{struct}}
\DoxyCodeLine{\Hypertarget{mmu_8h_source_l00014}00014\ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{\Hypertarget{mmu_8h_source_l00015}\mbox{\hyperlink{structclock_struct_aa13f81a3cac1c558d51f5f9a9f99b4d9}{00015}}\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{structclock_struct_a7bd2fe52f1c3189e17fa4ea9584cf55e}{s}},\ \mbox{\hyperlink{structclock_struct_a35c2e23e6019c4cae30f5f3914aba87c}{m}},\ \mbox{\hyperlink{structclock_struct_aa080101b6a1cfb5004e441403c87e2a2}{h}},\ \mbox{\hyperlink{structclock_struct_a0bf6ccd2457054ef89c4734ef71e55eb}{d}},\ \mbox{\hyperlink{structclock_struct_aa13f81a3cac1c558d51f5f9a9f99b4d9}{ctrl}};}
\DoxyCodeLine{\Hypertarget{mmu_8h_source_l00016}\mbox{\hyperlink{structclock_struct_a424be029a19559c57dca1d925bd5fee4}{00016}}\ \ \ \ \ \ \ \ \ \}\ \mbox{\hyperlink{structclock_struct_a424be029a19559c57dca1d925bd5fee4}{mbc3}};}
\DoxyCodeLine{\Hypertarget{mmu_8h_source_l00017}00017\ \ \ \ \ \ \ \ \ \textcolor{keyword}{struct}}
\DoxyCodeLine{\Hypertarget{mmu_8h_source_l00018}00018\ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{\Hypertarget{mmu_8h_source_l00019}\mbox{\hyperlink{structclock_struct_a62adb8ec5f422673540989a00cb6a5df}{00019}}\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{structclock_struct_a35c2e23e6019c4cae30f5f3914aba87c}{m}},\ \mbox{\hyperlink{structclock_struct_a0bf6ccd2457054ef89c4734ef71e55eb}{d}},\ \mbox{\hyperlink{structclock_struct_a62adb8ec5f422673540989a00cb6a5df}{y}};}
\DoxyCodeLine{\Hypertarget{mmu_8h_source_l00020}\mbox{\hyperlink{structclock_struct_af95a8a2d3ed63059a88036c1bb4dea88}{00020}}\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{structclock_struct_af95a8a2d3ed63059a88036c1bb4dea88}{u}}[2];\ \textcolor{comment}{/*\ Unused\ */}}
\DoxyCodeLine{\Hypertarget{mmu_8h_source_l00021}\mbox{\hyperlink{structclock_struct_acd7326f2a6e114dc2409b258e80c6415}{00021}}\ \ \ \ \ \ \ \ \ \}\ \mbox{\hyperlink{structclock_struct_acd7326f2a6e114dc2409b258e80c6415}{huc3}};}
\DoxyCodeLine{\Hypertarget{mmu_8h_source_l00022}00022\ \ \ \ \ \};}
\DoxyCodeLine{\Hypertarget{mmu_8h_source_l00023}\mbox{\hyperlink{structclock_struct_a58b2109c86621b72c982ae3c33fbb442}{00023}}\ \ \ \ \ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{structclock_struct_a58b2109c86621b72c982ae3c33fbb442}{latch}}[5];\ \textcolor{comment}{/*\ For\ VBA\ compatibility\ */}}
\DoxyCodeLine{\Hypertarget{mmu_8h_source_l00024}\mbox{\hyperlink{structclock_struct_ada2369150eb21113e071346e0e2563da}{00024}}\ \ \ \ \ time\_t\ \mbox{\hyperlink{structclock_struct_ada2369150eb21113e071346e0e2563da}{last}};}
\DoxyCodeLine{\Hypertarget{mmu_8h_source_l00025}00025\ \};}
\DoxyCodeLine{\Hypertarget{mmu_8h_source_l00026}00026\ }
\DoxyCodeLine{\Hypertarget{mmu_8h_source_l00027}00027\ \textcolor{keyword}{extern}\ \mbox{\hyperlink{structclock_struct}{clockStruct}}\ \mbox{\hyperlink{mmu_8h_ada781de9090463464264d9f6eef9a397}{gbClock}};}
\DoxyCodeLine{\Hypertarget{mmu_8h_source_l00028}00028\ }
\DoxyCodeLine{\Hypertarget{mmu_8h_source_l00029}00029\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{mmu_8h_a1660bd805506c41836f415364b20440b}{initMMU}}();}
\DoxyCodeLine{\Hypertarget{mmu_8h_source_l00030}00030\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{mmu_8h_aaff623eef2ec4af523c8a8963b61cf73}{mapMemory}}();}
\DoxyCodeLine{\Hypertarget{mmu_8h_source_l00031}00031\ u8\ \mbox{\hyperlink{mmu_8h_a14840c955aa72022046ea731262ee843}{readMemory}}(u16\ addr);}
\DoxyCodeLine{\Hypertarget{mmu_8h_source_l00032}00032\ u16\ \mbox{\hyperlink{mmu_8h_a558bc6fb4a68e2add3fee88eec1c2a6c}{readMemory16}}(u16\ addr);}
\DoxyCodeLine{\Hypertarget{mmu_8h_source_l00033}00033\ u8\ \mbox{\hyperlink{mmu_8h_ab8a42bf79f008339a337f67be30e7282}{readIO}}(u8\ ioReg);}
\DoxyCodeLine{\Hypertarget{mmu_8h_source_l00034}00034\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{mmu_8h_a3e4ce4b7fa59a8e7784a6665e2f8f588}{writeMemory}}(u16\ addr,\ u8\ val);}
\DoxyCodeLine{\Hypertarget{mmu_8h_source_l00035}00035\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{mmu_8h_acf23f43365192603962a5b11716d0102}{writeIO}}(u8\ ioReg,\ u8\ val);}
\DoxyCodeLine{\Hypertarget{mmu_8h_source_l00036}00036\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{mmu_8h_a3afecb5267d14dab19df97a82208cb85}{refreshP1}}();}
\DoxyCodeLine{\Hypertarget{mmu_8h_source_l00037}00037\ }
\DoxyCodeLine{\Hypertarget{mmu_8h_source_l00038}00038\ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{mmu_8h_a343775d9586e8f6468a3e9062ea782f0}{updateHblankDMA}}();}
\DoxyCodeLine{\Hypertarget{mmu_8h_source_l00039}00039\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{mmu_8h_a08fec8c2e7136e93c021a18e4d11e176}{latchClock}}();}
\DoxyCodeLine{\Hypertarget{mmu_8h_source_l00040}00040\ }
\DoxyCodeLine{\Hypertarget{mmu_8h_source_l00041}00041\ \textcolor{keyword}{extern}\ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{mmu_8h_a1bb6c4f70e5a271b3a713c3e625cade7}{numRomBanks}};}
\DoxyCodeLine{\Hypertarget{mmu_8h_source_l00042}00042\ \textcolor{keyword}{extern}\ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{mmu_8h_a0ab672ff412b81f8e9bba15e0b2fbf74}{numRamBanks}};}
\DoxyCodeLine{\Hypertarget{mmu_8h_source_l00043}00043\ \textcolor{keyword}{extern}\ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{mmu_8h_a08a68b1c289b33130f5e3b3d11c49974}{hasRumble}};}
\DoxyCodeLine{\Hypertarget{mmu_8h_source_l00044}00044\ \textcolor{keyword}{extern}\ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{mmu_8h_aa6654eea5fc0c5ae97a818042a1c18c5}{rumbleStrength}};}
\DoxyCodeLine{\Hypertarget{mmu_8h_source_l00045}00045\ \textcolor{keyword}{extern}\ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{mmu_8h_aac8b23ae63783721de82945e3fd04585}{rumbleInserted}};}
\DoxyCodeLine{\Hypertarget{mmu_8h_source_l00046}00046\ }
\DoxyCodeLine{\Hypertarget{mmu_8h_source_l00047}00047\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{mmu_8h_acc152270575ff7a8e64f2f5ac3d69fda}{doRumble}}(\textcolor{keywordtype}{bool}\ rumbleVal);}
\DoxyCodeLine{\Hypertarget{mmu_8h_source_l00048}00048\ }
\DoxyCodeLine{\Hypertarget{mmu_8h_source_l00049}00049\ \textcolor{keyword}{extern}\ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{mmu_8h_a2fc704c0296f94348be667e775ff23b3}{ramEnabled}};}
\DoxyCodeLine{\Hypertarget{mmu_8h_source_l00050}00050\ \textcolor{keyword}{extern}\ \textcolor{keywordtype}{char}\ \mbox{\hyperlink{mmu_8h_a557ee919bffef77a7a32e54b9ac12233}{rtcReg}};}
\DoxyCodeLine{\Hypertarget{mmu_8h_source_l00051}00051\ \textcolor{keyword}{extern}\ u8\ \mbox{\hyperlink{mmu_8h_a84c8ac3809804e3fe8091a69618966bc}{HuC3Mode}};}
\DoxyCodeLine{\Hypertarget{mmu_8h_source_l00052}00052\ \textcolor{keyword}{extern}\ u8\ \mbox{\hyperlink{mmu_8h_a691f212de288d6d9dc6b88ebfff77682}{HuC3Value}};}
\DoxyCodeLine{\Hypertarget{mmu_8h_source_l00053}00053\ \textcolor{keyword}{extern}\ u8\ \mbox{\hyperlink{mmu_8h_a0269fd64d6fc9cb01d065abcbdcf3fa8}{HuC3Shift}};}
\DoxyCodeLine{\Hypertarget{mmu_8h_source_l00054}00054\ }
\DoxyCodeLine{\Hypertarget{mmu_8h_source_l00055}00055\ \textcolor{keyword}{extern}\ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{mmu_8h_a2595910b448f4f3cb2826c7207f2e5d0}{resultantGBMode}};}
\DoxyCodeLine{\Hypertarget{mmu_8h_source_l00056}00056\ }
\DoxyCodeLine{\Hypertarget{mmu_8h_source_l00057}00057\ \textcolor{comment}{//\ whether\ the\ bios\ exists\ and\ has\ been\ loaded}}
\DoxyCodeLine{\Hypertarget{mmu_8h_source_l00058}00058\ \textcolor{keyword}{extern}\ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{mmu_8h_a3afb95c5ba95a8b7a5be05efead3da80}{biosExists}};}
\DoxyCodeLine{\Hypertarget{mmu_8h_source_l00059}00059\ \textcolor{comment}{//\ how/when\ the\ bios\ should\ be\ used}}
\DoxyCodeLine{\Hypertarget{mmu_8h_source_l00060}00060\ \textcolor{keyword}{extern}\ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{mmu_8h_a26dbe7db7c352807cdb237605e808268}{biosEnabled}};}
\DoxyCodeLine{\Hypertarget{mmu_8h_source_l00061}00061\ \textcolor{comment}{//\ whether\ the\ bios\ is\ mapped\ to\ memory}}
\DoxyCodeLine{\Hypertarget{mmu_8h_source_l00062}00062\ \textcolor{keyword}{extern}\ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{mmu_8h_a15ebf698d3c867fd1fcd0ef9bcfd5e9e}{biosOn}};}
\DoxyCodeLine{\Hypertarget{mmu_8h_source_l00063}00063\ }
\DoxyCodeLine{\Hypertarget{mmu_8h_source_l00064}00064\ \textcolor{keyword}{extern}\ u8\ \mbox{\hyperlink{mmu_8h_a7d8aa7cd05aad3b87cf03fc1067ed3cd}{bios}}[0x900];}
\DoxyCodeLine{\Hypertarget{mmu_8h_source_l00065}00065\ }
\DoxyCodeLine{\Hypertarget{mmu_8h_source_l00066}00066\ \textcolor{comment}{//\ memory[x][yyy]\ =\ ram\ value\ at\ xyyy}}
\DoxyCodeLine{\Hypertarget{mmu_8h_source_l00067}00067\ \textcolor{keyword}{extern}\ u8\ *\mbox{\hyperlink{mmu_8h_a0f09ea9762f03d69ea68b6c34a0b59d0}{memory}}[0x10];}
\DoxyCodeLine{\Hypertarget{mmu_8h_source_l00068}00068\ }
\DoxyCodeLine{\Hypertarget{mmu_8h_source_l00069}00069\ \textcolor{keyword}{extern}\ u8\ \mbox{\hyperlink{mmu_8h_a7d0ed1b85995cb654491c9e0958abed2}{vram}}[2][0x2000];}
\DoxyCodeLine{\Hypertarget{mmu_8h_source_l00070}00070\ \textcolor{keyword}{extern}\ u8\ *\mbox{\hyperlink{mmu_8h_a778a1d929da98073cbc4e7b78f4a5e09}{externRam}};}
\DoxyCodeLine{\Hypertarget{mmu_8h_source_l00071}00071\ \textcolor{keyword}{extern}\ u8\ \mbox{\hyperlink{mmu_8h_abc159efa8df9b452d4a5cfefee7258e5}{wram}}[8][0x1000];}
\DoxyCodeLine{\Hypertarget{mmu_8h_source_l00072}00072\ \textcolor{keyword}{extern}\ u8\ *\textcolor{keyword}{const}\ \mbox{\hyperlink{mmu_8h_ac883c44820bf261155e8eb1dc1e6160f}{hram}};}
\DoxyCodeLine{\Hypertarget{mmu_8h_source_l00073}00073\ \textcolor{keyword}{extern}\ u8\ *\textcolor{keyword}{const}\ \mbox{\hyperlink{mmu_8h_a7436ad149c3b3f2974966d6b546d14d9}{ioRam}};}
\DoxyCodeLine{\Hypertarget{mmu_8h_source_l00074}00074\ \textcolor{keyword}{extern}\ u8\ \mbox{\hyperlink{mmu_8h_a33bd1edbc22f1b0180441d711829cd9b}{spriteData}}[];}
\DoxyCodeLine{\Hypertarget{mmu_8h_source_l00075}00075\ \textcolor{keyword}{extern}\ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{mmu_8h_ad746f082fa7f3e1b582d29eb9863cc33}{wramBank}};}
\DoxyCodeLine{\Hypertarget{mmu_8h_source_l00076}00076\ \textcolor{keyword}{extern}\ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{mmu_8h_adf5f76879a2dc41ba5b73a2fbe844c26}{vramBank}};}
\DoxyCodeLine{\Hypertarget{mmu_8h_source_l00077}00077\ }
\DoxyCodeLine{\Hypertarget{mmu_8h_source_l00078}00078\ \textcolor{keyword}{extern}\ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{mmu_8h_aaca3d44b9724e7f74f4b539fce226e8f}{MBC}};}
\DoxyCodeLine{\Hypertarget{mmu_8h_source_l00079}00079\ \textcolor{keyword}{extern}\ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{mmu_8h_a07a1fd40504b02fdc6c5c6251b754a42}{memoryModel}};}
\DoxyCodeLine{\Hypertarget{mmu_8h_source_l00080}00080\ \textcolor{keyword}{extern}\ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{mmu_8h_a387acc1ee58ad673599563c796ca19a6}{hasClock}};}
\DoxyCodeLine{\Hypertarget{mmu_8h_source_l00081}00081\ \textcolor{keyword}{extern}\ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{mmu_8h_aa6f131debd73127c437bad1e4a9a5232}{romBank}};}
\DoxyCodeLine{\Hypertarget{mmu_8h_source_l00082}00082\ \textcolor{keyword}{extern}\ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{mmu_8h_ab78a4864c181d598a24f871920962dbb}{currentRamBank}};}
\DoxyCodeLine{\Hypertarget{mmu_8h_source_l00083}00083\ }
\DoxyCodeLine{\Hypertarget{mmu_8h_source_l00084}00084\ \textcolor{keyword}{extern}\ u16\ \mbox{\hyperlink{mmu_8h_a612487c10dbac8ba5497ed0d7abc2f18}{dmaSource}};}
\DoxyCodeLine{\Hypertarget{mmu_8h_source_l00085}00085\ \textcolor{keyword}{extern}\ u16\ \mbox{\hyperlink{mmu_8h_ae047b4cc65393b3197a47030b3b49723}{dmaDest}};}
\DoxyCodeLine{\Hypertarget{mmu_8h_source_l00086}00086\ \textcolor{keyword}{extern}\ u16\ \mbox{\hyperlink{mmu_8h_a343659c9837413cff52cd1c2deec36f7}{dmaLength}};}
\DoxyCodeLine{\Hypertarget{mmu_8h_source_l00087}00087\ \textcolor{keyword}{extern}\ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{mmu_8h_aa74f2ecc0869e77a2834d9c812ca3b40}{dmaMode}};}
\DoxyCodeLine{\Hypertarget{mmu_8h_source_l00088}00088\ }
\DoxyCodeLine{\Hypertarget{mmu_8h_source_l00089}00089\ \textcolor{keyword}{extern}\ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{mmu_8h_a2dba7f54476ce8bb4a8f304c33a41075}{saveModified}};}
\DoxyCodeLine{\Hypertarget{mmu_8h_source_l00090}00090\ \textcolor{keyword}{extern}\ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{mmu_8h_a1cfc5814874463c1b3d2a9bc029a0ce8}{dirtySectors}}[\mbox{\hyperlink{mmu_8h_adc5e4702e0df5a409e3f69c25685d0a4}{MAX\_SRAM\_SIZE}}\ /\ 512];}
\DoxyCodeLine{\Hypertarget{mmu_8h_source_l00091}00091\ \textcolor{keyword}{extern}\ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{mmu_8h_a66ef36eca2112011379866bb326fbb62}{numSaveWrites}};}
\DoxyCodeLine{\Hypertarget{mmu_8h_source_l00092}00092\ \textcolor{keyword}{extern}\ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{mmu_8h_a2e4495bc83e0afa418034d22fb6cb881}{autosaveStarted}};}

\end{DoxyCode}
