\hypertarget{gbgfx_8cpp_source}{}\doxysection{gbgfx.\+cpp}
\label{gbgfx_8cpp_source}\index{arm9/source/gbgfx.cpp@{arm9/source/gbgfx.cpp}}
\mbox{\hyperlink{gbgfx_8cpp}{Go to the documentation of this file.}}
\begin{DoxyCode}{0}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00001}00001\ \textcolor{preprocessor}{\#include\ "{}printerIcon.h"{}}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00002}00002\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{inputhelper_8h}{inputhelper.h}}"{}}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00003}00003\ \textcolor{preprocessor}{\#include\ <string.h>}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00004}00004\ \textcolor{preprocessor}{\#include\ <dirent.h>}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00005}00005\ \textcolor{preprocessor}{\#include\ <unistd.h>}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00006}00006\ \textcolor{preprocessor}{\#include\ <vector>}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00007}00007\ \textcolor{preprocessor}{\#include\ <nds.h>}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00008}00008\ \textcolor{preprocessor}{\#include\ <stdio.h>}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00009}00009\ \textcolor{preprocessor}{\#include\ <math.h>}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00010}00010\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{gbs_8h}{gbs.h}}"{}}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00011}00011\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{gbgfx_8h}{gbgfx.h}}"{}}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00012}00012\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{mmu_8h}{mmu.h}}"{}}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00013}00013\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{gbcpu_8h}{gbcpu.h}}"{}}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00014}00014\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{main_8h}{main.h}}"{}}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00015}00015\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{gameboy_8h}{gameboy.h}}"{}}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00016}00016\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{sgb_8h}{sgb.h}}"{}}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00017}00017\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{console_8h}{console.h}}"{}}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00018}00018\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{filechooser_8h}{filechooser.h}}"{}}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00019}00019\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{inputhelper_8h}{inputhelper.h}}"{}}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00020}00020\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{common_8h}{common.h}}"{}}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00021}00021\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{gbsnd_8h}{gbsnd.h}}"{}}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00022}00022\ }
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00023}\mbox{\hyperlink{gbgfx_8cpp_a075aa9549fd1d8e0bde8b65e2233d169}{00023}}\ \textcolor{preprocessor}{\#define\ BACKDROP\_COLOUR\ RGB15(0,\ 0,\ 0)}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00024}00024\ }
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00025}\mbox{\hyperlink{gbgfx_8cpp_a83ace767bc1330b97e1e66dac3d0ec32}{00025}}\ \textcolor{keyword}{const}\ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{gbgfx_8cpp_a83ace767bc1330b97e1e66dac3d0ec32}{map\_base}}[]\ =\ \{1,\ 2\};}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00026}\mbox{\hyperlink{gbgfx_8cpp_ae6e7b7ff5173baf7ca4316c5de93a2c7}{00026}}\ \textcolor{keyword}{const}\ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{gbgfx_8cpp_ae6e7b7ff5173baf7ca4316c5de93a2c7}{color0\_map\_base}}[]\ =\ \{3,\ 4\};}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00027}\mbox{\hyperlink{gbgfx_8cpp_a40bbc77db17292c166f889155e08fe44}{00027}}\ \textcolor{keyword}{const}\ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{gbgfx_8cpp_a40bbc77db17292c166f889155e08fe44}{overlay\_map\_base}}[]\ =\ \{5,\ 6\};}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00028}\mbox{\hyperlink{gbgfx_8cpp_a91ce402e5df15ae36e306bc87e0e8571}{00028}}\ \textcolor{keyword}{const}\ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{gbgfx_8cpp_a91ce402e5df15ae36e306bc87e0e8571}{off\_map\_base}}\ =\ 7;}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00029}\mbox{\hyperlink{gbgfx_8cpp_abd413371db8b3b61cd83231c431f4479}{00029}}\ \textcolor{keyword}{const}\ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{gbgfx_8cpp_abd413371db8b3b61cd83231c431f4479}{border\_map\_base}}\ =\ 8;}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00030}00030\ }
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00031}\mbox{\hyperlink{gbgfx_8cpp_ad3002ecdd358dc1031b7f3f5367d856d}{00031}}\ \textcolor{keyword}{const}\ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{gbgfx_8cpp_ad3002ecdd358dc1031b7f3f5367d856d}{OFF\_MAP\_PALETTE\_INDEX}}\ =\ 15\ *\ 16\ +\ 1;}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00032}00032\ }
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00033}\mbox{\hyperlink{gbgfx_8cpp_a1e800a6a0ab719ff1af9a81efd02877a}{00033}}\ u16\ *\textcolor{keyword}{const}\ \mbox{\hyperlink{gbgfx_8cpp_a1e800a6a0ab719ff1af9a81efd02877a}{map}}[2]\ =\ \{BG\_MAP\_RAM(\mbox{\hyperlink{gbgfx_8cpp_a83ace767bc1330b97e1e66dac3d0ec32}{map\_base}}[0]),\ BG\_MAP\_RAM(\mbox{\hyperlink{gbgfx_8cpp_a83ace767bc1330b97e1e66dac3d0ec32}{map\_base}}[1])\};}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00034}\mbox{\hyperlink{gbgfx_8cpp_a11c5fa757d50eb2a76a07eab96e06af2}{00034}}\ u16\ *\textcolor{keyword}{const}\ \mbox{\hyperlink{gbgfx_8cpp_a11c5fa757d50eb2a76a07eab96e06af2}{color0Map}}[2]\ =\ \{BG\_MAP\_RAM(\mbox{\hyperlink{gbgfx_8cpp_ae6e7b7ff5173baf7ca4316c5de93a2c7}{color0\_map\_base}}[0]),\ BG\_MAP\_RAM(\mbox{\hyperlink{gbgfx_8cpp_ae6e7b7ff5173baf7ca4316c5de93a2c7}{color0\_map\_base}}[1])\};}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00035}\mbox{\hyperlink{gbgfx_8cpp_adb86ece52e11b17321b0ba3ae9b2710a}{00035}}\ u16\ *\textcolor{keyword}{const}\ \mbox{\hyperlink{gbgfx_8cpp_adb86ece52e11b17321b0ba3ae9b2710a}{overlayMap}}[2]\ =\ \{BG\_MAP\_RAM(\mbox{\hyperlink{gbgfx_8cpp_a40bbc77db17292c166f889155e08fe44}{overlay\_map\_base}}[0]),\ BG\_MAP\_RAM(\mbox{\hyperlink{gbgfx_8cpp_a40bbc77db17292c166f889155e08fe44}{overlay\_map\_base}}[1])\};}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00036}\mbox{\hyperlink{gbgfx_8cpp_a7ec3797409dcee1456d33ccce6eaddde}{00036}}\ u16\ *\textcolor{keyword}{const}\ \mbox{\hyperlink{gbgfx_8cpp_a7ec3797409dcee1456d33ccce6eaddde}{offMap}}\ =\ BG\_MAP\_RAM(\mbox{\hyperlink{gbgfx_8cpp_a91ce402e5df15ae36e306bc87e0e8571}{off\_map\_base}});}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00037}\mbox{\hyperlink{gbgfx_8cpp_a1098ad62439e76ffa2cc640296a8d9f1}{00037}}\ u16\ *\textcolor{keyword}{const}\ \mbox{\hyperlink{gbgfx_8cpp_a1098ad62439e76ffa2cc640296a8d9f1}{borderMap}}\ =\ BG\_MAP\_RAM(\mbox{\hyperlink{gbgfx_8cpp_abd413371db8b3b61cd83231c431f4479}{border\_map\_base}});}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00038}00038\ }
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00039}\mbox{\hyperlink{gbgfx_8cpp_a1b6ed3b899ddd242915f4dd097981b9c}{00039}}\ \textcolor{keyword}{const}\ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{gbgfx_8cpp_a1b6ed3b899ddd242915f4dd097981b9c}{firstGbSprite}}\ =\ 128\ -\/\ 40;}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00040}00040\ }
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00041}\mbox{\hyperlink{gbgfx_8cpp_a74f524dec8b515de3783f1ca4fe9966a}{00041}}\ \textcolor{keyword}{const}\ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{gbgfx_8cpp_a74f524dec8b515de3783f1ca4fe9966a}{spr\_priority}}\ =\ 2;}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00042}\mbox{\hyperlink{gbgfx_8cpp_acb5531c62e489ea1cae44400ac9336ee}{00042}}\ \textcolor{keyword}{const}\ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{gbgfx_8cpp_acb5531c62e489ea1cae44400ac9336ee}{spr\_priority\_low}}\ =\ 3;}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00043}00043\ }
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00044}\mbox{\hyperlink{gbgfx_8cpp_abf4dba0db945ceed11b00da029badbde}{00044}}\ \textcolor{keyword}{const}\ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{gbgfx_8cpp_abf4dba0db945ceed11b00da029badbde}{win\_color0\_priority}}\ =\ 3;}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00045}\mbox{\hyperlink{gbgfx_8cpp_af31a9f5a39555bd2b4a05dfdbc8c1835}{00045}}\ \textcolor{keyword}{const}\ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{gbgfx_8cpp_af31a9f5a39555bd2b4a05dfdbc8c1835}{win\_priority}}\ =\ 2;}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00046}00046\ }
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00047}\mbox{\hyperlink{gbgfx_8cpp_a0b46cea5d84f2577ca9084a7ce1938bb}{00047}}\ \textcolor{keyword}{const}\ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{gbgfx_8cpp_a0b46cea5d84f2577ca9084a7ce1938bb}{bg\_color0\_priority}}\ =\ 3;}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00048}\mbox{\hyperlink{gbgfx_8cpp_a3f02de6a79af2ad2983cd2b9cbfe2442}{00048}}\ \textcolor{keyword}{const}\ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{gbgfx_8cpp_a3f02de6a79af2ad2983cd2b9cbfe2442}{bg\_priority}}\ =\ 2;}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00049}00049\ }
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00050}\mbox{\hyperlink{gbgfx_8cpp_af56ca8375678dbe0b7bccaf88aa02469}{00050}}\ \textcolor{keyword}{const}\ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{gbgfx_8cpp_af56ca8375678dbe0b7bccaf88aa02469}{bg\_overlay\_priority}}\ =\ 1;}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00051}\mbox{\hyperlink{gbgfx_8cpp_ab963a509c56b484cae862e8f1db740dc}{00051}}\ \textcolor{keyword}{const}\ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{gbgfx_8cpp_ab963a509c56b484cae862e8f1db740dc}{win\_overlay\_priority}}\ =\ 1;}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00052}00052\ }
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00053}\mbox{\hyperlink{gbgfx_8cpp_ae3246472d110c092ff32a7f01971651e}{00053}}\ \textcolor{keyword}{const}\ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{gbgfx_8cpp_ae3246472d110c092ff32a7f01971651e}{bg\_all\_priority}}\ =\ 2;}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00054}\mbox{\hyperlink{gbgfx_8cpp_a2f7019b05da7580d78d7b80310aca299}{00054}}\ \textcolor{keyword}{const}\ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{gbgfx_8cpp_a2f7019b05da7580d78d7b80310aca299}{win\_all\_priority}}\ =\ 2;}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00055}00055\ }
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00056}\mbox{\hyperlink{gbgfx_8cpp_a285192f5390f5531ee1cca872f957d2d}{00056}}\ \textcolor{keyword}{const}\ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{gbgfx_8cpp_a285192f5390f5531ee1cca872f957d2d}{screenOffsX}}\ =\ 48;}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00057}\mbox{\hyperlink{gbgfx_8cpp_ae4626134fe8c5a191c8a9d36e9319cbc}{00057}}\ \textcolor{keyword}{const}\ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{gbgfx_8cpp_ae4626134fe8c5a191c8a9d36e9319cbc}{screenOffsY}}\ =\ 24;}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00058}00058\ }
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00059}\mbox{\hyperlink{gbgfx_8cpp_ae5d63a0df1fc230d6fb3b5c67314393d}{00059}}\ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{gbgfx_8cpp_ae5d63a0df1fc230d6fb3b5c67314393d}{gbGraphicsDisabled}}\ =\ \textcolor{keyword}{false};}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00060}00060\ }
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00061}00061\ \textcolor{comment}{//\ If\ the\ game\ is\ using\ the\ GBC's\ priority\ bit\ for\ tiles,\ the\ corresponding}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00062}00062\ \textcolor{comment}{//\ variable\ is\ set.\ This\ helps\ with\ layer\ management.}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00063}\mbox{\hyperlink{gbgfx_8cpp_a3b35e4c59fbe530ccfd4fc14c5d4c265}{00063}}\ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{gbgfx_8cpp_a3b35e4c59fbe530ccfd4fc14c5d4c265}{usingTilePriority}}[2];}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00064}00064\ }
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00065}\mbox{\hyperlink{gbgfx_8cpp_a5458fb138ca4b8f989873109fd0c53d7}{00065}}\ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{gbgfx_8cpp_a5458fb138ca4b8f989873109fd0c53d7}{didVblank}}\ =\ \textcolor{keyword}{false};}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00066}00066\ \textcolor{comment}{//\ Frame\ counter.\ Incremented\ each\ vblank.}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00067}\mbox{\hyperlink{gbgfx_8h_acc585c432eca446ce44bda6d820320d8}{00067}}\ \textcolor{keyword}{volatile}\ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{gbgfx_8cpp_acc585c432eca446ce44bda6d820320d8}{dsFrameCounter}}\ =\ 0;}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00068}00068\ }
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00069}\mbox{\hyperlink{gbgfx_8cpp_a542811a076e55daa66e05901298fc57a}{00069}}\ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{gbgfx_8cpp_a542811a076e55daa66e05901298fc57a}{changedTile}}[2][0x180];}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00070}\mbox{\hyperlink{gbgfx_8cpp_a45834c0f350c7bfbd7657d32bcf42d43}{00070}}\ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{gbgfx_8cpp_a45834c0f350c7bfbd7657d32bcf42d43}{changedTileQueueLength}}\ =\ 0;}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00071}\mbox{\hyperlink{gbgfx_8cpp_ade2d99a4b9f321c5dcb857b655c91f48}{00071}}\ u16\ \mbox{\hyperlink{gbgfx_8cpp_ade2d99a4b9f321c5dcb857b655c91f48}{changedTileQueue}}[0x300];}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00072}00072\ }
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00073}\mbox{\hyperlink{gbgfx_8cpp_af36bd9924bc4a1c5da12c77c46713f4c}{00073}}\ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{gbgfx_8cpp_af36bd9924bc4a1c5da12c77c46713f4c}{changedTileInFrame}}[2][0x180];}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00074}\mbox{\hyperlink{gbgfx_8cpp_adb7a4f818a75d747ae51e6b16dbe623f}{00074}}\ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{gbgfx_8cpp_adb7a4f818a75d747ae51e6b16dbe623f}{changedTileInFrameQueueLength}}\ =\ 0;}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00075}\mbox{\hyperlink{gbgfx_8cpp_ae569c6094981c38d5e0754f2dae61816}{00075}}\ u16\ \mbox{\hyperlink{gbgfx_8cpp_ae569c6094981c38d5e0754f2dae61816}{changedTileInFrameQueue}}[0x300];}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00076}00076\ }
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00077}\mbox{\hyperlink{gbgfx_8cpp_a7a79512469ed835be49735d7e6233390}{00077}}\ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{gbgfx_8cpp_a7a79512469ed835be49735d7e6233390}{changedMap}}[2][0x400];}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00078}\mbox{\hyperlink{gbgfx_8cpp_aad42beb02a7313afa3778db5e804f851}{00078}}\ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{gbgfx_8cpp_aad42beb02a7313afa3778db5e804f851}{changedMapQueueLength}}[2];}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00079}\mbox{\hyperlink{gbgfx_8cpp_a9d36dda4f8424acfa6e750cbb86fac06}{00079}}\ u16\ \mbox{\hyperlink{gbgfx_8cpp_a9d36dda4f8424acfa6e750cbb86fac06}{changedMapQueue}}[2][0x400];}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00080}00080\ }
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00081}\mbox{\hyperlink{gbgfx_8cpp_a8355f1c3ad9d0c737c5304f5ca2dba5e}{00081}}\ u8\ \mbox{\hyperlink{gbgfx_8h_a254d3c52c2ae7fff61e52168c0c37e86}{bgPaletteData}}[0x40]\ \mbox{\hyperlink{gbgfx_8cpp_a8355f1c3ad9d0c737c5304f5ca2dba5e}{ALIGN}}(4);}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00082}00082\ u8\ \mbox{\hyperlink{gbgfx_8h_ac22d8f92fe46c2fe4681159f06c6192a}{sprPaletteData}}[0x40]\ \mbox{\hyperlink{gbgfx_8cpp_a8355f1c3ad9d0c737c5304f5ca2dba5e}{ALIGN}}(4);}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00083}00083\ }
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00084}\mbox{\hyperlink{gbgfx_8cpp_adf5931a286627b99da8d76dc7eb033df}{00084}}\ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{gbgfx_8cpp_adf5931a286627b99da8d76dc7eb033df}{winPosY}}\ =\ 0;}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00085}00085\ }
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00086}\mbox{\hyperlink{gbgfx_8cpp_a5823f3af2c35fce45f1b50d16a313df4}{00086}}\ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{gbgfx_8cpp_a5823f3af2c35fce45f1b50d16a313df4}{lineModified}};}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00087}\mbox{\hyperlink{gbgfx_8cpp_a6d8811638f07e4ef3353977efe34c68b}{00087}}\ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{gbgfx_8cpp_a6d8811638f07e4ef3353977efe34c68b}{mapsModified}};}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00088}\mbox{\hyperlink{gbgfx_8cpp_a751160e1702627464ad6b4d6d063a655}{00088}}\ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{gbgfx_8cpp_a751160e1702627464ad6b4d6d063a655}{bgPalettesModified}};}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00089}\mbox{\hyperlink{gbgfx_8cpp_a7bdc492b1884bde1b603abce41cde89e}{00089}}\ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{gbgfx_8cpp_a7bdc492b1884bde1b603abce41cde89e}{sprPalettesModified}};}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00090}\mbox{\hyperlink{gbgfx_8cpp_a270d6ce2a8e0be18c9b587c22bd0a9b6}{00090}}\ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{gbgfx_8cpp_a270d6ce2a8e0be18c9b587c22bd0a9b6}{spritesModified}};}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00091}00091\ }
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00092}00092\ \textcolor{comment}{//\ Whether\ to\ wait\ for\ vblank\ if\ emulation\ is\ running\ behind\ schedule}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00093}\mbox{\hyperlink{gbgfx_8h_aa419499bc88635e3e3e2ad6616e17563}{00093}}\ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{gbgfx_8cpp_aa419499bc88635e3e3e2ad6616e17563}{interruptWaitMode}}\ =\ 0;}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00094}00094\ }
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00095}\mbox{\hyperlink{console_8cpp_a7e77ece2ff8da663172ec7854ce1ad4a}{00095}}\ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{gbgfx_8cpp_a7e77ece2ff8da663172ec7854ce1ad4a}{windowDisabled}}\ =\ \textcolor{keyword}{false};}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00096}\mbox{\hyperlink{console_8cpp_ab764cbdc62a676940e3d9c4940461cea}{00096}}\ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{gbgfx_8cpp_ab764cbdc62a676940e3d9c4940461cea}{hblankDisabled}}\ =\ \textcolor{keyword}{false};}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00097}00097\ }
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00098}\mbox{\hyperlink{gbgfx_8h_a156841b066241f0fedaeedc3b9bebe4f}{00098}}\ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{gbgfx_8cpp_a156841b066241f0fedaeedc3b9bebe4f}{scaleMode}};}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00099}\mbox{\hyperlink{gbgfx_8h_a89e8f23cbae54ca6f6935daecbb1c5c5}{00099}}\ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{gbgfx_8cpp_a89e8f23cbae54ca6f6935daecbb1c5c5}{scaleFilter}}\ =\ 1;}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00100}\mbox{\hyperlink{gbgfx_8h_a0e19dccb2272e5ec93cee1dbe5b3fee3}{00100}}\ u8\ \mbox{\hyperlink{gbgfx_8cpp_a0e19dccb2272e5ec93cee1dbe5b3fee3}{gfxMask}};}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00101}00101\ }
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00102}\mbox{\hyperlink{gbgfx_8h_aef6032a39f08d1728cefcc4e8be2d437}{00102}}\ \textcolor{keyword}{volatile}\ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{gbgfx_8cpp_aef6032a39f08d1728cefcc4e8be2d437}{loadedBorderType}};\ \textcolor{comment}{//\ This\ is\ read\ from\ hblank}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00103}\mbox{\hyperlink{gbgfx_8h_a6092e57bcfad6a29770fdc99f3f3b221}{00103}}\ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{gbgfx_8cpp_a6092e57bcfad6a29770fdc99f3f3b221}{customBorderExists}}\ =\ \textcolor{keyword}{true};}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00104}\mbox{\hyperlink{gbgfx_8h_a134de385e7f51e7cb43357cf0bb4b624}{00104}}\ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{gbgfx_8cpp_a134de385e7f51e7cb43357cf0bb4b624}{sgbBorderLoaded}};}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00105}00105\ }
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00106}\mbox{\hyperlink{gbgfx_8cpp_af3e8557b7fc26006b9850248932ddf8b}{00106}}\ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{gbgfx_8cpp_af3e8557b7fc26006b9850248932ddf8b}{SCALE\_BGX}},\ \mbox{\hyperlink{gbgfx_8cpp_a2f95b3058774b52ad7e38b3f5c7174f5}{SCALE\_BGY}};}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00107}00107\ }
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00108}\mbox{\hyperlink{gbgfx_8cpp_a31c7dcff373ddfa6b23617e9298f961d}{00108}}\ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{gbgfx_8cpp_a31c7dcff373ddfa6b23617e9298f961d}{lastScreenDisabled}};}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00109}\mbox{\hyperlink{gbgfx_8cpp_a097b7a3d0c46cf0afdc98b34bf6f99ed}{00109}}\ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{gbgfx_8cpp_a097b7a3d0c46cf0afdc98b34bf6f99ed}{screenDisabled}};}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00110}00110\ }
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00111}00111\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{gbgfx_8cpp_a2c3bc7cf83f9225ce88d2bcbd53875a6}{drawSprites}}(u8\ *data,\ \textcolor{keywordtype}{int}\ tallSprites);}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00112}00112\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{gbgfx_8cpp_a27a1116d3f41a4a2d146cf8386b99bdd}{drawTile}}(\textcolor{keywordtype}{int}\ tile,\ \textcolor{keywordtype}{int}\ bank);}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00113}00113\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{gbgfx_8cpp_a73afcb774f607a0031a6877ab3059fd3}{updateTiles}}();}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00114}00114\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{gbgfx_8cpp_a60975f999e5000cce01f957e5061efc2}{updateTileMaps}}();}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00115}00115\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{gbgfx_8cpp_abaa5f65ef32cc80bd17ba14c47984536}{updateTileMap}}(\textcolor{keywordtype}{int}\ \mbox{\hyperlink{gbgfx_8cpp_a1e800a6a0ab719ff1af9a81efd02877a}{map}},\ \textcolor{keywordtype}{int}\ i);}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00116}00116\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{gbgfx_8cpp_a9a8e94462dd86825fa22f6a3a145862e}{updateBgPalette}}(\textcolor{keywordtype}{int}\ paletteid,\ u8\ *data,\ u8\ dmgPal);}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00117}00117\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{gbgfx_8cpp_a1214c2484459d4a461f437e67a072694}{updateBgPalette\_GBC}}(\textcolor{keywordtype}{int}\ paletteid,\ u8\ *data);}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00118}00118\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{gbgfx_8cpp_a69f15ee8d4cda930e01bfe3e42bbd66a}{updateSprPalette}}(\textcolor{keywordtype}{int}\ paletteid,\ u8\ *data,\ u8\ dmgPal);}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00119}00119\ }
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00120}\mbox{\hyperlink{gbgfx_8cpp_a3cd39047a50d108bad589552d5c28d18}{00120}}\ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{gbgfx_8cpp_a3cd39047a50d108bad589552d5c28d18}{lineCompleted}}[144];}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00121}\mbox{\hyperlink{struct_scanline_struct}{00121}}\ \textcolor{keyword}{typedef}\ \textcolor{keyword}{struct}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00122}00122\ \{}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00123}\mbox{\hyperlink{struct_scanline_struct_a211a54f2977b36b5612d4221ceff850f}{00123}}\ \ \ \ \ u8\ \mbox{\hyperlink{gbgfx_8h_a254d3c52c2ae7fff61e52168c0c37e86}{bgPaletteData}}[0x40]\ \mbox{\hyperlink{struct_scanline_struct_a211a54f2977b36b5612d4221ceff850f}{ALIGN}}(4);}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00124}\mbox{\hyperlink{struct_scanline_struct_a2f63d1fb4f6e664116e95ff50fb4d771}{00124}}\ \ \ \ \ u8\ \mbox{\hyperlink{gbgfx_8h_ac22d8f92fe46c2fe4681159f06c6192a}{sprPaletteData}}[0x40]\ \mbox{\hyperlink{struct_scanline_struct_a2f63d1fb4f6e664116e95ff50fb4d771}{ALIGN}}(4);}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00125}\mbox{\hyperlink{struct_scanline_struct_a336f890daf27be7a9bd3728673d20a16}{00125}}\ \ \ \ \ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{struct_scanline_struct_a336f890daf27be7a9bd3728673d20a16}{modified}};}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00126}\mbox{\hyperlink{struct_scanline_struct_af7c7cb7f298fa852d7747a2734499cee}{00126}}\ \ \ \ \ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{struct_scanline_struct_af7c7cb7f298fa852d7747a2734499cee}{mapsModified}};}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00127}\mbox{\hyperlink{struct_scanline_struct_a29c1fa6eb5e29c3a97f0ade15c3d6c79}{00127}}\ \ \ \ \ u8\ \mbox{\hyperlink{struct_scanline_struct_a29c1fa6eb5e29c3a97f0ade15c3d6c79}{hofs}};}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00128}\mbox{\hyperlink{struct_scanline_struct_a8616c1aa21ec4e29a2fd542dda75cc8f}{00128}}\ \ \ \ \ u8\ \mbox{\hyperlink{struct_scanline_struct_a8616c1aa21ec4e29a2fd542dda75cc8f}{vofs}};}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00129}\mbox{\hyperlink{struct_scanline_struct_ac62895524abcf9746f5762536a1f8556}{00129}}\ \ \ \ \ u8\ \mbox{\hyperlink{struct_scanline_struct_ac62895524abcf9746f5762536a1f8556}{winX}};}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00130}\mbox{\hyperlink{struct_scanline_struct_a8d7776aee90d159b7957a30746690175}{00130}}\ \ \ \ \ u8\ \mbox{\hyperlink{struct_scanline_struct_a8d7776aee90d159b7957a30746690175}{winY}};}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00131}\mbox{\hyperlink{struct_scanline_struct_a1b98193d12dedc8710ce22bae9131fb3}{00131}}\ \ \ \ \ u8\ \mbox{\hyperlink{struct_scanline_struct_a1b98193d12dedc8710ce22bae9131fb3}{winPosY}};}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00132}\mbox{\hyperlink{struct_scanline_struct_a3eb9afc043d7b48081054d31bbd5b5ee}{00132}}\ \ \ \ \ u8\ \mbox{\hyperlink{struct_scanline_struct_a3eb9afc043d7b48081054d31bbd5b5ee}{winOn}};}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00133}\mbox{\hyperlink{struct_scanline_struct_a4d5a5e33b85637c02a93ec769c7631ae}{00133}}\ \ \ \ \ u16\ \mbox{\hyperlink{struct_scanline_struct_a4d5a5e33b85637c02a93ec769c7631ae}{bgColor0Cnt}};}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00134}\mbox{\hyperlink{struct_scanline_struct_ae7458b84776ae55eadf7d310764e60c5}{00134}}\ \ \ \ \ u16\ \mbox{\hyperlink{struct_scanline_struct_ae7458b84776ae55eadf7d310764e60c5}{bgCnt}};}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00135}\mbox{\hyperlink{struct_scanline_struct_a2c1e744c540d565ae23f79d5b6c4f13a}{00135}}\ \ \ \ \ u16\ \mbox{\hyperlink{struct_scanline_struct_a2c1e744c540d565ae23f79d5b6c4f13a}{bgOverlayCnt}};}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00136}\mbox{\hyperlink{struct_scanline_struct_a09b441f9df432f6b27868df63f75c86e}{00136}}\ \ \ \ \ u16\ \mbox{\hyperlink{struct_scanline_struct_a09b441f9df432f6b27868df63f75c86e}{bgAllCnt}};}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00137}\mbox{\hyperlink{struct_scanline_struct_a628dcb4a7573142ee58304a88a94ae2d}{00137}}\ \ \ \ \ u16\ \mbox{\hyperlink{struct_scanline_struct_a628dcb4a7573142ee58304a88a94ae2d}{winColor0Cnt}};\ \ \textcolor{comment}{//\ Contains\ color\ 0\ only}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00138}\mbox{\hyperlink{struct_scanline_struct_a0f9059cd63f6b283f48ac0a7178aba52}{00138}}\ \ \ \ \ u16\ \mbox{\hyperlink{struct_scanline_struct_a0f9059cd63f6b283f48ac0a7178aba52}{winCnt}};\ \ \ \ \ \ \ \ \textcolor{comment}{//\ Contains\ colors\ 1-\/3}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00139}\mbox{\hyperlink{struct_scanline_struct_a296e759aff6b478d1e115891c7f69e5f}{00139}}\ \ \ \ \ u16\ \mbox{\hyperlink{struct_scanline_struct_a296e759aff6b478d1e115891c7f69e5f}{winOverlayCnt}};\ \textcolor{comment}{//\ Contains\ colors\ 1-\/3,\ only\ for\ 'priority'\ tiles}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00140}\mbox{\hyperlink{struct_scanline_struct_a703c2f8f0ffc5c2a95ddc763db0743fd}{00140}}\ \ \ \ \ u16\ \mbox{\hyperlink{struct_scanline_struct_a703c2f8f0ffc5c2a95ddc763db0743fd}{winAllCnt}};\ \ \ \ \ \textcolor{comment}{//\ Contains\ colors\ 0-\/3.\ Used\ when\ available\ layers\ are\ limited.}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00141}\mbox{\hyperlink{struct_scanline_struct_a736b19cc5281791d106022368cc319fd}{00141}}\ \ \ \ \ u8\ \mbox{\hyperlink{struct_scanline_struct_a736b19cc5281791d106022368cc319fd}{bgMap}},\ winMap;}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00142}\mbox{\hyperlink{struct_scanline_struct_adf5cb31009707e20fb58ba43473f5b44}{00142}}\ \ \ \ \ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{struct_scanline_struct_adf5cb31009707e20fb58ba43473f5b44}{spritesOn}};}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00143}\mbox{\hyperlink{struct_scanline_struct_a2b628f4e841ccc096056d92b693eb6e3}{00143}}\ \ \ \ \ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{struct_scanline_struct_a2b628f4e841ccc096056d92b693eb6e3}{tileSigned}};}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00144}\mbox{\hyperlink{struct_scanline_struct_a0a3ad89252909262e540cff1f9c24d96}{00144}}\ \ \ \ \ u8\ \mbox{\hyperlink{struct_scanline_struct_a0a3ad89252909262e540cff1f9c24d96}{bgPal}};}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00145}\mbox{\hyperlink{struct_scanline_struct_a5ec6e08381b5b79194688b6469c8b3a8}{00145}}\ \ \ \ \ u8\ sprPal[2];}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00146}\mbox{\hyperlink{struct_scanline_struct_ac60a42cb8bfdc25f84c60649dc261184}{00146}}\ \ \ \ \ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{struct_scanline_struct_ac60a42cb8bfdc25f84c60649dc261184}{bgPalettesModified}};}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00147}\mbox{\hyperlink{struct_scanline_struct_a70f3906bb00b352432f08c8772415750}{00147}}\ \ \ \ \ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{struct_scanline_struct_a70f3906bb00b352432f08c8772415750}{sprPalettesModified}};}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00148}\mbox{\hyperlink{struct_scanline_struct_a81d6ccf694d3f73ee5a2e0a506a973b7}{00148}}\ \ \ \ \ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{struct_scanline_struct_a81d6ccf694d3f73ee5a2e0a506a973b7}{spritesModified}};}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00149}\mbox{\hyperlink{struct_scanline_struct_adedef0a09ae813ec8e8a3d1af6a1728b}{00149}}\ \ \ \ \ u8\ \mbox{\hyperlink{mmu_8h_a33bd1edbc22f1b0180441d711829cd9b}{spriteData}}[0xa0];}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00150}\mbox{\hyperlink{struct_scanline_struct_abf2bf57c4f3344e25ace69a7505a4f22}{00150}}\ \ \ \ \ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{struct_scanline_struct_abf2bf57c4f3344e25ace69a7505a4f22}{tallSprites}};}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00151}\mbox{\hyperlink{struct_scanline_struct_a923590cd756b59863e217703f401f058}{00151}}\ \ \ \ \ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{struct_scanline_struct_a923590cd756b59863e217703f401f058}{bgHash}};}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00152}00152\ \}\ \mbox{\hyperlink{struct_scanline_struct}{ScanlineStruct}};}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00153}00153\ }
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00154}\mbox{\hyperlink{gbgfx_8cpp_aa479e9c1666a9411084a3c63974e07ad}{00154}}\ \mbox{\hyperlink{struct_scanline_struct}{ScanlineStruct}}\ \mbox{\hyperlink{gbgfx_8cpp_aa479e9c1666a9411084a3c63974e07ad}{scanlineBuffers}}[2][144];}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00155}00155\ }
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00156}\mbox{\hyperlink{gbgfx_8cpp_ab603fe74b48d08c176eb343ade1dc566}{00156}}\ \mbox{\hyperlink{struct_scanline_struct}{ScanlineStruct}}\ *\mbox{\hyperlink{gbgfx_8cpp_ab603fe74b48d08c176eb343ade1dc566}{drawingState}}\ =\ \mbox{\hyperlink{gbgfx_8cpp_aa479e9c1666a9411084a3c63974e07ad}{scanlineBuffers}}[0];}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00157}\mbox{\hyperlink{gbgfx_8cpp_ae151e70163adb76a07dce9eaacf55800}{00157}}\ \mbox{\hyperlink{struct_scanline_struct}{ScanlineStruct}}\ *\mbox{\hyperlink{gbgfx_8cpp_ae151e70163adb76a07dce9eaacf55800}{renderingState}}\ =\ \mbox{\hyperlink{gbgfx_8cpp_aa479e9c1666a9411084a3c63974e07ad}{scanlineBuffers}}[1];}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00158}00158\ }
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00159}\mbox{\hyperlink{structsprite_entry}{00159}}\ \textcolor{keyword}{typedef}\ \textcolor{keyword}{struct}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00160}00160\ \{}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00161}\mbox{\hyperlink{structsprite_entry_a75f67522a197ddbb8bff9f27af427f2a}{00161}}\ \ \ \ \ u16\ \mbox{\hyperlink{structsprite_entry_a75f67522a197ddbb8bff9f27af427f2a}{attr0}};}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00162}\mbox{\hyperlink{structsprite_entry_a6ac9bb2abb17aaded43d1a833b1cda8b}{00162}}\ \ \ \ \ u16\ \mbox{\hyperlink{structsprite_entry_a6ac9bb2abb17aaded43d1a833b1cda8b}{attr1}};}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00163}\mbox{\hyperlink{structsprite_entry_a2ff0bdc7f67ff024ea4d99f5018a5b69}{00163}}\ \ \ \ \ u16\ \mbox{\hyperlink{structsprite_entry_a2ff0bdc7f67ff024ea4d99f5018a5b69}{attr2}};}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00164}\mbox{\hyperlink{structsprite_entry_a3b23f7ed7cc56b8da3c4cdab432ef4bc}{00164}}\ \ \ \ \ u16\ \mbox{\hyperlink{structsprite_entry_a3b23f7ed7cc56b8da3c4cdab432ef4bc}{affine\_data}};}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00165}00165\ \}\ \mbox{\hyperlink{structsprite_entry}{spriteEntry}};}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00166}00166\ }
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00167}\mbox{\hyperlink{gbgfx_8cpp_a34352c8a17802da70f27f22ce225178f}{00167}}\ \textcolor{preprocessor}{\#define\ sprites\ ((spriteEntry\ *)OAM)}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00168}00168\ }
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00169}\mbox{\hyperlink{gbgfx_8cpp_a8209539684d9069849b50012fd470999}{00169}}\ \textcolor{preprocessor}{\#define\ BG\_CNT(x)\ (*((vu16\ *)0x4000008\ +\ (x)))}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00170}\mbox{\hyperlink{gbgfx_8cpp_a13c0a18ffd7ce55bafcdce0e8c894b56}{00170}}\ \textcolor{preprocessor}{\#define\ BG\_HOFS(x)\ (*((vu16\ *)0x4000010\ +\ (x)*2))}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00171}\mbox{\hyperlink{gbgfx_8cpp_a45e75e00626ef822da5ea577454a22d7}{00171}}\ \textcolor{preprocessor}{\#define\ BG\_VOFS(x)\ (*((vu16\ *)0x4000012\ +\ (x)*2))}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00172}00172\ }
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00173}00173\ \textcolor{comment}{//\ The\ graphics\ are\ drawn\ with\ the\ DS's\ native\ hardware.}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00174}00174\ \textcolor{comment}{//\ Games\ tend\ to\ modify\ the\ graphics\ in\ the\ middle\ of\ being\ drawn.}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00175}00175\ \textcolor{comment}{//\ These\ changes\ are\ recorded\ and\ applied\ during\ DS\ hblank.}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00176}00176\ }
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00177}00177\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{gbgfx_8cpp_a3299fd8fbf2fadcfd88ee2f18824cbea}{drawLine}}(\textcolor{keywordtype}{int}\ gbLine)\ ITCM\_CODE;}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00178}00178\ }
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00179}\mbox{\hyperlink{gbgfx_8cpp_a3299fd8fbf2fadcfd88ee2f18824cbea}{00179}}\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{gbgfx_8cpp_a3299fd8fbf2fadcfd88ee2f18824cbea}{drawLine}}(\textcolor{keywordtype}{int}\ gbLine)}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00180}00180\ \{}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00181}00181\ \ \ \ \ \mbox{\hyperlink{struct_scanline_struct}{ScanlineStruct}}\ *state\ =\ \&\mbox{\hyperlink{gbgfx_8cpp_ab603fe74b48d08c176eb343ade1dc566}{drawingState}}[gbLine];}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00182}00182\ }
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00183}00183\ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{gbgfx_8cpp_a097b7a3d0c46cf0afdc98b34bf6f99ed}{screenDisabled}})}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00184}00184\ \ \ \ \ \{}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00185}00185\ \ \ \ \ \ \ \ \ REG\_DISPCNT\ \&=\ \string~DISPLAY\_SPR\_ACTIVE;}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00186}00186\ \ \ \ \ \ \ \ \ REG\_BG0CNT\ =\ BG\_MAP\_BASE(\mbox{\hyperlink{gbgfx_8cpp_a91ce402e5df15ae36e306bc87e0e8571}{off\_map\_base}});}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00187}00187\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{gbgfx_8cpp_aef6032a39f08d1728cefcc4e8be2d437}{loadedBorderType}})}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00188}00188\ \ \ \ \ \ \ \ \ \ \ \ \ WIN\_IN\ |=\ 7\ <<\ 8;}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00189}00189\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{else}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00190}00190\ \ \ \ \ \ \ \ \ \ \ \ \ WIN\_IN\ |=\ 15\ <<\ 8;}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00191}00191\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return};}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00192}00192\ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00193}00193\ \ \ \ \ \textcolor{keywordflow}{if}\ (state-\/>\mbox{\hyperlink{struct_scanline_struct_af7c7cb7f298fa852d7747a2734499cee}{mapsModified}})}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00194}00194\ \ \ \ \ \{}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00195}00195\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (state-\/>\mbox{\hyperlink{struct_scanline_struct_adf5cb31009707e20fb58ba43473f5b44}{spritesOn}})}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00196}00196\ \ \ \ \ \ \ \ \ \ \ \ \ REG\_DISPCNT\ |=\ DISPLAY\_SPR\_ACTIVE;}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00197}00197\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{else}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00198}00198\ \ \ \ \ \ \ \ \ \ \ \ \ REG\_DISPCNT\ \&=\ \string~DISPLAY\_SPR\_ACTIVE;}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00199}00199\ }
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00200}00200\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{bool}\ useWin\ =\ state-\/>\mbox{\hyperlink{struct_scanline_struct_a3eb9afc043d7b48081054d31bbd5b5ee}{winOn}}\ \&\&\ !\mbox{\hyperlink{gbgfx_8cpp_a7e77ece2ff8da663172ec7854ce1ad4a}{windowDisabled}};}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00201}00201\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{int}\ layer\ =\ 0;}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00202}00202\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{int}\ bgLayers,\ winLayers;}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00203}00203\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (useWin)}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00204}00204\ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00205}00205\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (state-\/>\mbox{\hyperlink{struct_scanline_struct_ac62895524abcf9746f5762536a1f8556}{winX}}\ >\ 7)}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00206}00206\ \ \ \ \ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00207}00207\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{gbgfx_8cpp_aef6032a39f08d1728cefcc4e8be2d437}{loadedBorderType}}\ ==\ \mbox{\hyperlink{gbgfx_8h_abc6126af1d45847bc59afa0aa3216b04a6051477cfcc8ff5efefaf4147723d9a2}{BORDER\_NONE}})}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00208}00208\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00209}00209\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ winLayers\ =\ 2;}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00210}00210\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ bgLayers\ =\ 2;}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00211}00211\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00212}00212\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{else}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00213}00213\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00214}00214\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{gbgfx_8cpp_a3b35e4c59fbe530ccfd4fc14c5d4c265}{usingTilePriority}}[state-\/>\mbox{\hyperlink{struct_scanline_struct_a736b19cc5281791d106022368cc319fd}{bgMap}}])}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00215}00215\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00216}00216\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ winLayers\ =\ 1;}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00217}00217\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ bgLayers\ =\ 2;}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00218}00218\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00219}00219\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{else}\ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{gbgfx_8cpp_a3b35e4c59fbe530ccfd4fc14c5d4c265}{usingTilePriority}}[state-\/>\mbox{\hyperlink{struct_scanline_struct_a488243d91d511956b87cd1ac5f25281d}{winMap}}])}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00220}00220\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00221}00221\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ winLayers\ =\ 2;}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00222}00222\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ bgLayers\ =\ 1;}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00223}00223\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00224}00224\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{else}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00225}00225\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00226}00226\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ winLayers\ =\ 1;}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00227}00227\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ bgLayers\ =\ 2;}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00228}00228\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00229}00229\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00230}00230\ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00231}00231\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{else}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00232}00232\ \ \ \ \ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00233}00233\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ winLayers\ =\ 3;}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00234}00234\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ bgLayers\ =\ 0;}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00235}00235\ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00236}00236\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00237}00237\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{else}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00238}00238\ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00239}00239\ \ \ \ \ \ \ \ \ \ \ \ \ winLayers\ =\ 0;}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00240}00240\ \ \ \ \ \ \ \ \ \ \ \ \ bgLayers\ =\ 3;}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00241}00241\ \ \ \ \ \ \ \ \ \ \ \ \ WIN0\_X0\ =\ \mbox{\hyperlink{gbgfx_8cpp_a285192f5390f5531ee1cca872f957d2d}{screenOffsX}}\ +\ 160;}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00242}00242\ \ \ \ \ \ \ \ \ \ \ \ \ WIN0\_Y0\ =\ \mbox{\hyperlink{gbgfx_8cpp_ae4626134fe8c5a191c8a9d36e9319cbc}{screenOffsY}};}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00243}00243\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00244}00244\ \ \ \ \ \ \ \ \ WIN\_IN\ |=\ 15\ <<\ 8;}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00245}00245\ }
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00246}00246\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (winLayers\ !=\ 0)}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00247}00247\ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00248}00248\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{int}\ whofs\ =\ -\/(state-\/>\mbox{\hyperlink{struct_scanline_struct_ac62895524abcf9746f5762536a1f8556}{winX}}\ -\/\ 7)\ -\/\ \mbox{\hyperlink{gbgfx_8cpp_a285192f5390f5531ee1cca872f957d2d}{screenOffsX}};}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00249}00249\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{int}\ wvofs\ =\ -\/(gbLine\ -\/\ state-\/>\mbox{\hyperlink{struct_scanline_struct_a1b98193d12dedc8710ce22bae9131fb3}{winPosY}})\ -\/\ \mbox{\hyperlink{gbgfx_8cpp_ae4626134fe8c5a191c8a9d36e9319cbc}{screenOffsY}};}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00250}00250\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{gameboy_8h_af3ddfcff387d53e03211aeaa7a0c14ef}{gbMode}}\ ==\ \mbox{\hyperlink{gbcpu_8h_a44172ac633c517cb4c9e278cef36b000}{GB}})}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00251}00251\ \ \ \ \ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00252}00252\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ In\ GB\ mode,\ BG\ and\ Window\ share\ the\ backdrop\ color.}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00253}00253\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ So\ they\ don't\ need\ their\ own\ dedicated\ layers.}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00254}00254\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{gbgfx_8cpp_a8209539684d9069849b50012fd470999}{BG\_CNT}}(layer)\ =\ state-\/>\mbox{\hyperlink{struct_scanline_struct_a0f9059cd63f6b283f48ac0a7178aba52}{winCnt}};}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00255}00255\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{gbgfx_8cpp_a13c0a18ffd7ce55bafcdce0e8c894b56}{BG\_HOFS}}(layer)\ =\ whofs;}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00256}00256\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{gbgfx_8cpp_a45e75e00626ef822da5ea577454a22d7}{BG\_VOFS}}(layer++)\ =\ wvofs;}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00257}00257\ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00258}00258\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{else}\ \textcolor{keywordflow}{if}\ (winLayers\ ==\ 1)}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00259}00259\ \ \ \ \ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00260}00260\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{gbgfx_8cpp_a8209539684d9069849b50012fd470999}{BG\_CNT}}(layer)\ =\ state-\/>\mbox{\hyperlink{struct_scanline_struct_a703c2f8f0ffc5c2a95ddc763db0743fd}{winAllCnt}};}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00261}00261\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{gbgfx_8cpp_a13c0a18ffd7ce55bafcdce0e8c894b56}{BG\_HOFS}}(layer)\ =\ whofs;}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00262}00262\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{gbgfx_8cpp_a45e75e00626ef822da5ea577454a22d7}{BG\_VOFS}}(layer++)\ =\ wvofs;}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00263}00263\ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00264}00264\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{else}\ \textcolor{keywordflow}{if}\ (winLayers\ ==\ 2)}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00265}00265\ \ \ \ \ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00266}00266\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{gbgfx_8cpp_a3b35e4c59fbe530ccfd4fc14c5d4c265}{usingTilePriority}}[state-\/>\mbox{\hyperlink{struct_scanline_struct_a488243d91d511956b87cd1ac5f25281d}{winMap}}])}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00267}00267\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00268}00268\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ Apply\ tile\ priority\ bit.}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00269}00269\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{gbgfx_8cpp_a8209539684d9069849b50012fd470999}{BG\_CNT}}(layer)\ =\ state-\/>\mbox{\hyperlink{struct_scanline_struct_a703c2f8f0ffc5c2a95ddc763db0743fd}{winAllCnt}};}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00270}00270\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{gbgfx_8cpp_a13c0a18ffd7ce55bafcdce0e8c894b56}{BG\_HOFS}}(layer)\ =\ whofs;}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00271}00271\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{gbgfx_8cpp_a45e75e00626ef822da5ea577454a22d7}{BG\_VOFS}}(layer++)\ =\ wvofs;}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00272}00272\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{gbgfx_8cpp_a8209539684d9069849b50012fd470999}{BG\_CNT}}(layer)\ =\ state-\/>\mbox{\hyperlink{struct_scanline_struct_a296e759aff6b478d1e115891c7f69e5f}{winOverlayCnt}};}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00273}00273\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{gbgfx_8cpp_a13c0a18ffd7ce55bafcdce0e8c894b56}{BG\_HOFS}}(layer)\ =\ whofs;}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00274}00274\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{gbgfx_8cpp_a45e75e00626ef822da5ea577454a22d7}{BG\_VOFS}}(layer++)\ =\ wvofs;}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00275}00275\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00276}00276\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{else}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00277}00277\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00278}00278\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ Apply\ sprite\ priority\ bit.}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00279}00279\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{gbgfx_8cpp_a8209539684d9069849b50012fd470999}{BG\_CNT}}(layer)\ =\ state-\/>\mbox{\hyperlink{struct_scanline_struct_a628dcb4a7573142ee58304a88a94ae2d}{winColor0Cnt}};}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00280}00280\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{gbgfx_8cpp_a13c0a18ffd7ce55bafcdce0e8c894b56}{BG\_HOFS}}(layer)\ =\ whofs;}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00281}00281\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{gbgfx_8cpp_a45e75e00626ef822da5ea577454a22d7}{BG\_VOFS}}(layer++)\ =\ wvofs;}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00282}00282\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{gbgfx_8cpp_a8209539684d9069849b50012fd470999}{BG\_CNT}}(layer)\ =\ state-\/>\mbox{\hyperlink{struct_scanline_struct_a0f9059cd63f6b283f48ac0a7178aba52}{winCnt}};}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00283}00283\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{gbgfx_8cpp_a13c0a18ffd7ce55bafcdce0e8c894b56}{BG\_HOFS}}(layer)\ =\ whofs;}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00284}00284\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{gbgfx_8cpp_a45e75e00626ef822da5ea577454a22d7}{BG\_VOFS}}(layer++)\ =\ wvofs;}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00285}00285\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00286}00286\ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00287}00287\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{else}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00288}00288\ \ \ \ \ \ \ \ \ \ \ \ \ \{\ \textcolor{comment}{//\ winLayers\ ==\ 3}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00289}00289\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ Apply\ both\ tile\ and\ sprite\ priority\ bits.}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00290}00290\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{gbgfx_8cpp_a8209539684d9069849b50012fd470999}{BG\_CNT}}(layer)\ =\ state-\/>\mbox{\hyperlink{struct_scanline_struct_a628dcb4a7573142ee58304a88a94ae2d}{winColor0Cnt}};}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00291}00291\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{gbgfx_8cpp_a13c0a18ffd7ce55bafcdce0e8c894b56}{BG\_HOFS}}(layer)\ =\ whofs;}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00292}00292\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{gbgfx_8cpp_a45e75e00626ef822da5ea577454a22d7}{BG\_VOFS}}(layer++)\ =\ wvofs;}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00293}00293\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{gbgfx_8cpp_a8209539684d9069849b50012fd470999}{BG\_CNT}}(layer)\ =\ state-\/>\mbox{\hyperlink{struct_scanline_struct_a0f9059cd63f6b283f48ac0a7178aba52}{winCnt}};}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00294}00294\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{gbgfx_8cpp_a13c0a18ffd7ce55bafcdce0e8c894b56}{BG\_HOFS}}(layer)\ =\ whofs;}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00295}00295\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{gbgfx_8cpp_a45e75e00626ef822da5ea577454a22d7}{BG\_VOFS}}(layer++)\ =\ wvofs;}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00296}00296\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{gbgfx_8cpp_a8209539684d9069849b50012fd470999}{BG\_CNT}}(layer)\ =\ state-\/>\mbox{\hyperlink{struct_scanline_struct_a296e759aff6b478d1e115891c7f69e5f}{winOverlayCnt}};}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00297}00297\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{gbgfx_8cpp_a13c0a18ffd7ce55bafcdce0e8c894b56}{BG\_HOFS}}(layer)\ =\ whofs;}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00298}00298\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{gbgfx_8cpp_a45e75e00626ef822da5ea577454a22d7}{BG\_VOFS}}(layer++)\ =\ wvofs;}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00299}00299\ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00300}00300\ }
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00301}00301\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (state-\/>\mbox{\hyperlink{struct_scanline_struct_ac62895524abcf9746f5762536a1f8556}{winX}}\ <=\ 7)}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00302}00302\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ WIN0\_X0\ =\ \mbox{\hyperlink{gbgfx_8cpp_a285192f5390f5531ee1cca872f957d2d}{screenOffsX}};}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00303}00303\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{else}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00304}00304\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ WIN0\_X0\ =\ state-\/>\mbox{\hyperlink{struct_scanline_struct_ac62895524abcf9746f5762536a1f8556}{winX}}\ -\/\ 7\ +\ \mbox{\hyperlink{gbgfx_8cpp_a285192f5390f5531ee1cca872f957d2d}{screenOffsX}};}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00305}00305\ \ \ \ \ \ \ \ \ \ \ \ \ WIN\_IN\ \&=\ \string~15;}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00306}00306\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keywordtype}{int}\ i\ =\ 0;\ i\ <\ layer;\ i++)}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00307}00307\ \ \ \ \ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00308}00308\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ WIN\_IN\ \&=\ \string~(1\ <<\ (8\ +\ i));}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00309}00309\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ WIN\_IN\ |=\ 1\ <<\ i;}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00310}00310\ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00311}00311\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00312}00312\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (bgLayers\ !=\ 0)}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00313}00313\ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00314}00314\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{int}\ hofs\ =\ state-\/>\mbox{\hyperlink{struct_scanline_struct_a29c1fa6eb5e29c3a97f0ade15c3d6c79}{hofs}}\ -\/\ \mbox{\hyperlink{gbgfx_8cpp_a285192f5390f5531ee1cca872f957d2d}{screenOffsX}};}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00315}00315\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{int}\ vofs\ =\ state-\/>\mbox{\hyperlink{struct_scanline_struct_a8616c1aa21ec4e29a2fd542dda75cc8f}{vofs}}\ -\/\ \mbox{\hyperlink{gbgfx_8cpp_ae4626134fe8c5a191c8a9d36e9319cbc}{screenOffsY}};}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00316}00316\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{gameboy_8h_af3ddfcff387d53e03211aeaa7a0c14ef}{gbMode}}\ ==\ \mbox{\hyperlink{gbcpu_8h_a44172ac633c517cb4c9e278cef36b000}{GB}})}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00317}00317\ \ \ \ \ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00318}00318\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{gbgfx_8cpp_a8209539684d9069849b50012fd470999}{BG\_CNT}}(layer)\ =\ state-\/>\mbox{\hyperlink{struct_scanline_struct_ae7458b84776ae55eadf7d310764e60c5}{bgCnt}};}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00319}00319\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{gbgfx_8cpp_a13c0a18ffd7ce55bafcdce0e8c894b56}{BG\_HOFS}}(layer)\ =\ hofs;}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00320}00320\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{gbgfx_8cpp_a45e75e00626ef822da5ea577454a22d7}{BG\_VOFS}}(layer++)\ =\ vofs;}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00321}00321\ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00322}00322\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{else}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00323}00323\ \ \ \ \ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00324}00324\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (bgLayers\ >=\ 3)}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00325}00325\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00326}00326\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{gbgfx_8cpp_a8209539684d9069849b50012fd470999}{BG\_CNT}}(layer)\ =\ state-\/>\mbox{\hyperlink{struct_scanline_struct_a4d5a5e33b85637c02a93ec769c7631ae}{bgColor0Cnt}};}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00327}00327\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{gbgfx_8cpp_a13c0a18ffd7ce55bafcdce0e8c894b56}{BG\_HOFS}}(layer)\ =\ hofs;}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00328}00328\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{gbgfx_8cpp_a45e75e00626ef822da5ea577454a22d7}{BG\_VOFS}}(layer++)\ =\ vofs;}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00329}00329\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{gbgfx_8cpp_a8209539684d9069849b50012fd470999}{BG\_CNT}}(layer)\ =\ state-\/>\mbox{\hyperlink{struct_scanline_struct_ae7458b84776ae55eadf7d310764e60c5}{bgCnt}};}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00330}00330\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{gbgfx_8cpp_a13c0a18ffd7ce55bafcdce0e8c894b56}{BG\_HOFS}}(layer)\ =\ hofs;}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00331}00331\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{gbgfx_8cpp_a45e75e00626ef822da5ea577454a22d7}{BG\_VOFS}}(layer++)\ =\ vofs;}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00332}00332\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{gbgfx_8cpp_a8209539684d9069849b50012fd470999}{BG\_CNT}}(layer)\ =\ state-\/>\mbox{\hyperlink{struct_scanline_struct_a2c1e744c540d565ae23f79d5b6c4f13a}{bgOverlayCnt}};}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00333}00333\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{gbgfx_8cpp_a13c0a18ffd7ce55bafcdce0e8c894b56}{BG\_HOFS}}(layer)\ =\ hofs;}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00334}00334\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{gbgfx_8cpp_a45e75e00626ef822da5ea577454a22d7}{BG\_VOFS}}(layer++)\ =\ vofs;}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00335}00335\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00336}00336\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{else}\ \textcolor{keywordflow}{if}\ (bgLayers\ ==\ 2)}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00337}00337\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \{\ \textcolor{comment}{//\ not\ enough\ for\ both\ priority\ bits.}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00338}00338\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{gbgfx_8cpp_a3b35e4c59fbe530ccfd4fc14c5d4c265}{usingTilePriority}}[state-\/>\mbox{\hyperlink{struct_scanline_struct_a736b19cc5281791d106022368cc319fd}{bgMap}}])}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00339}00339\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00340}00340\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ Apply\ tile\ priority\ bit.}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00341}00341\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{gbgfx_8cpp_a8209539684d9069849b50012fd470999}{BG\_CNT}}(layer)\ =\ state-\/>\mbox{\hyperlink{struct_scanline_struct_a09b441f9df432f6b27868df63f75c86e}{bgAllCnt}};}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00342}00342\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{gbgfx_8cpp_a13c0a18ffd7ce55bafcdce0e8c894b56}{BG\_HOFS}}(layer)\ =\ hofs;}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00343}00343\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{gbgfx_8cpp_a45e75e00626ef822da5ea577454a22d7}{BG\_VOFS}}(layer++)\ =\ vofs;}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00344}00344\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{gbgfx_8cpp_a8209539684d9069849b50012fd470999}{BG\_CNT}}(layer)\ =\ state-\/>\mbox{\hyperlink{struct_scanline_struct_a2c1e744c540d565ae23f79d5b6c4f13a}{bgOverlayCnt}};}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00345}00345\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{gbgfx_8cpp_a13c0a18ffd7ce55bafcdce0e8c894b56}{BG\_HOFS}}(layer)\ =\ hofs;}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00346}00346\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{gbgfx_8cpp_a45e75e00626ef822da5ea577454a22d7}{BG\_VOFS}}(layer++)\ =\ vofs;}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00347}00347\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00348}00348\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{else}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00349}00349\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00350}00350\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ Apply\ sprite\ priority\ bit.}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00351}00351\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{gbgfx_8cpp_a8209539684d9069849b50012fd470999}{BG\_CNT}}(layer)\ =\ state-\/>\mbox{\hyperlink{struct_scanline_struct_a4d5a5e33b85637c02a93ec769c7631ae}{bgColor0Cnt}};}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00352}00352\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{gbgfx_8cpp_a13c0a18ffd7ce55bafcdce0e8c894b56}{BG\_HOFS}}(layer)\ =\ hofs;}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00353}00353\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{gbgfx_8cpp_a45e75e00626ef822da5ea577454a22d7}{BG\_VOFS}}(layer++)\ =\ vofs;}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00354}00354\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{gbgfx_8cpp_a8209539684d9069849b50012fd470999}{BG\_CNT}}(layer)\ =\ state-\/>\mbox{\hyperlink{struct_scanline_struct_ae7458b84776ae55eadf7d310764e60c5}{bgCnt}};}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00355}00355\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{gbgfx_8cpp_a13c0a18ffd7ce55bafcdce0e8c894b56}{BG\_HOFS}}(layer)\ =\ hofs;}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00356}00356\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{gbgfx_8cpp_a45e75e00626ef822da5ea577454a22d7}{BG\_VOFS}}(layer++)\ =\ vofs;}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00357}00357\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00358}00358\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00359}00359\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{else}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00360}00360\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \{\ \textcolor{comment}{//\ bgLayers\ ==\ 1}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00361}00361\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{gbgfx_8cpp_a8209539684d9069849b50012fd470999}{BG\_CNT}}(layer)\ =\ state-\/>\mbox{\hyperlink{struct_scanline_struct_a09b441f9df432f6b27868df63f75c86e}{bgAllCnt}};}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00362}00362\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{gbgfx_8cpp_a13c0a18ffd7ce55bafcdce0e8c894b56}{BG\_HOFS}}(layer)\ =\ hofs;}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00363}00363\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{gbgfx_8cpp_a45e75e00626ef822da5ea577454a22d7}{BG\_VOFS}}(layer++)\ =\ vofs;}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00364}00364\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00365}00365\ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00366}00366\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00367}00367\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{gameboy_8h_af3ddfcff387d53e03211aeaa7a0c14ef}{gbMode}}\ ==\ \mbox{\hyperlink{gbcpu_8h_a44172ac633c517cb4c9e278cef36b000}{GB}})}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00368}00368\ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00369}00369\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ This\ layer\ provides\ the\ backdrop\ for\ both\ BG\ and\ Window.}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00370}00370\ \ \ \ \ \ \ \ \ \ \ \ \ WIN\_IN\ |=\ (1\ <<\ layer);\ \textcolor{comment}{//\ Must\ be\ displayed\ over\ window}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00371}00371\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{gbgfx_8cpp_a8209539684d9069849b50012fd470999}{BG\_CNT}}(layer)\ =\ state-\/>\mbox{\hyperlink{struct_scanline_struct_a628dcb4a7573142ee58304a88a94ae2d}{winColor0Cnt}};}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00372}00372\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{gbgfx_8cpp_a13c0a18ffd7ce55bafcdce0e8c894b56}{BG\_HOFS}}(layer)\ =\ 0;}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00373}00373\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{gbgfx_8cpp_a45e75e00626ef822da5ea577454a22d7}{BG\_VOFS}}(layer++)\ =\ 0;}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00374}00374\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00375}00375\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{while}\ (layer\ <\ 4)}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00376}00376\ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00377}00377\ \ \ \ \ \ \ \ \ \ \ \ \ WIN\_IN\ \&=\ \string~((1\ <<\ layer)\ <<\ 8);}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00378}00378\ \ \ \ \ \ \ \ \ \ \ \ \ WIN\_IN\ \&=\ \string~(1\ <<\ layer++);}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00379}00379\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00380}00380\ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00381}00381\ }
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00382}00382\ \ \ \ \ \textcolor{keywordflow}{if}\ (state-\/>\mbox{\hyperlink{struct_scanline_struct_ac60a42cb8bfdc25f84c60649dc261184}{bgPalettesModified}})}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00383}00383\ \ \ \ \ \{}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00384}00384\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{gameboy_8h_af3ddfcff387d53e03211aeaa7a0c14ef}{gbMode}}\ ==\ \mbox{\hyperlink{gbcpu_8h_a5d6a36e6c1ec6aad48d2db4868de600c}{CGB}})}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00385}00385\ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00386}00386\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keywordtype}{int}\ i\ =\ 0;\ i\ <\ 8;\ i++)}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00387}00387\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{gbgfx_8cpp_a1214c2484459d4a461f437e67a072694}{updateBgPalette\_GBC}}(i,\ state-\/>bgPaletteData);}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00388}00388\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00389}00389\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{else}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00390}00390\ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00391}00391\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keywordtype}{int}\ i\ =\ 0;\ i\ <\ 4;\ i++)}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00392}00392\ \ \ \ \ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00393}00393\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{gbgfx_8cpp_a9a8e94462dd86825fa22f6a3a145862e}{updateBgPalette}}(i,\ state-\/>bgPaletteData,\ state-\/>\mbox{\hyperlink{struct_scanline_struct_a0a3ad89252909262e540cff1f9c24d96}{bgPal}});}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00394}00394\ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00395}00395\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00396}00396\ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00397}00397\ \ \ \ \ \textcolor{keywordflow}{if}\ (state-\/>\mbox{\hyperlink{struct_scanline_struct_a70f3906bb00b352432f08c8772415750}{sprPalettesModified}})}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00398}00398\ \ \ \ \ \{}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00399}00399\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{gameboy_8h_af3ddfcff387d53e03211aeaa7a0c14ef}{gbMode}}\ ==\ \mbox{\hyperlink{gbcpu_8h_a44172ac633c517cb4c9e278cef36b000}{GB}})}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00400}00400\ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00401}00401\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keywordtype}{int}\ i\ =\ 0;\ i\ <\ 4;\ i++)}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00402}00402\ \ \ \ \ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00403}00403\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{gbgfx_8cpp_a69f15ee8d4cda930e01bfe3e42bbd66a}{updateSprPalette}}(i,\ state-\/>sprPaletteData,\ state-\/>\mbox{\hyperlink{struct_scanline_struct_a5ec6e08381b5b79194688b6469c8b3a8}{sprPal}}[0]);}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00404}00404\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{gbgfx_8cpp_a69f15ee8d4cda930e01bfe3e42bbd66a}{updateSprPalette}}(i\ +\ 4,\ state-\/>sprPaletteData,\ state-\/>\mbox{\hyperlink{struct_scanline_struct_a5ec6e08381b5b79194688b6469c8b3a8}{sprPal}}[1]);}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00405}00405\ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00406}00406\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00407}00407\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{else}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00408}00408\ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00409}00409\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keywordtype}{int}\ i\ =\ 0;\ i\ <\ 8;\ i++)}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00410}00410\ \ \ \ \ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00411}00411\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{gbgfx_8cpp_a69f15ee8d4cda930e01bfe3e42bbd66a}{updateSprPalette}}(i,\ state-\/>sprPaletteData,\ 0);}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00412}00412\ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00413}00413\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00414}00414\ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00415}00415\ }
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00416}00416\ \ \ \ \ \textcolor{keywordflow}{if}\ (state-\/>\mbox{\hyperlink{struct_scanline_struct_a81d6ccf694d3f73ee5a2e0a506a973b7}{spritesModified}})}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00417}00417\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{gbgfx_8cpp_a2c3bc7cf83f9225ce88d2bcbd53875a6}{drawSprites}}(state-\/>\mbox{\hyperlink{struct_scanline_struct_adedef0a09ae813ec8e8a3d1af6a1728b}{spriteData}},\ state-\/>\mbox{\hyperlink{struct_scanline_struct_abf2bf57c4f3344e25ace69a7505a4f22}{tallSprites}});}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00418}00418\ \}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00419}00419\ }
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00420}00420\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{gbgfx_8cpp_af81933618cd850b54967001130817a61}{doHBlank}}(\textcolor{keywordtype}{int}\ line)\ ITCM\_CODE;}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00421}00421\ }
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00422}\mbox{\hyperlink{gbgfx_8cpp_af81933618cd850b54967001130817a61}{00422}}\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{gbgfx_8cpp_af81933618cd850b54967001130817a61}{doHBlank}}(\textcolor{keywordtype}{int}\ line)}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00423}00423\ \{}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00424}00424\ \ \ \ \ \textcolor{keywordflow}{if}\ (line\ >=\ 192)}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00425}00425\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return};}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00426}00426\ \ \ \ \ \textcolor{keywordflow}{if}\ ((\mbox{\hyperlink{filechooser_8h_aacb1ffc04c40322a1b8df970a0fa698b}{isFileChooserOn}}()\ ||\ \mbox{\hyperlink{console_8h_a0592872559eb432700e6b54c46b9686d}{isMenuOn}}())\ \&\&\ line\ \%\ 8\ ==\ 0)}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00427}00427\ \ \ \ \ \{}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00428}00428\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ Change\ the\ backdrop\ color\ for\ a\ certain\ row.}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00429}00429\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ This\ is\ used\ in\ the\ file\ selection\ menu.}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00430}00430\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (line\ /\ 8\ ==\ \mbox{\hyperlink{console_8h_a2078567042b322f01cee579b15293627}{consoleSelectedRow}})}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00431}00431\ \ \ \ \ \ \ \ \ \ \ \ \ setBackdropColorSub(RGB15(0,\ 0,\ 31));}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00432}00432\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{else}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00433}00433\ \ \ \ \ \ \ \ \ \ \ \ \ setBackdropColorSub(RGB15(0,\ 0,\ 0));}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00434}00434\ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00435}00435\ }
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00436}00436\ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{gbgfx_8cpp_ae5d63a0df1fc230d6fb3b5c67314393d}{gbGraphicsDisabled}}\ ||\ \mbox{\hyperlink{gbgfx_8cpp_ab764cbdc62a676940e3d9c4940461cea}{hblankDisabled}})}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00437}00437\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return};}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00438}00438\ \ \ \ \ \textcolor{keywordtype}{int}\ gbLine\ =\ line\ -\/\ \mbox{\hyperlink{gbgfx_8cpp_ae4626134fe8c5a191c8a9d36e9319cbc}{screenOffsY}};}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00439}00439\ }
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00440}00440\ \ \ \ \ \textcolor{keywordflow}{if}\ (gbLine\ >=\ 144\ ||\ gbLine\ <=\ 0)}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00441}00441\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return};}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00442}00442\ }
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00443}00443\ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{gbgfx_8cpp_ab603fe74b48d08c176eb343ade1dc566}{drawingState}}[gbLine\ -\/\ 1].modified\ \&\&\ !\mbox{\hyperlink{gbgfx_8cpp_a3cd39047a50d108bad589552d5c28d18}{lineCompleted}}[gbLine\ -\/\ 1])}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00444}00444\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{gbgfx_8cpp_a3299fd8fbf2fadcfd88ee2f18824cbea}{drawLine}}(gbLine\ -\/\ 1);}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00445}00445\ }
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00446}00446\ \ \ \ \ \textcolor{keywordflow}{if}\ (!\mbox{\hyperlink{gbgfx_8cpp_ab603fe74b48d08c176eb343ade1dc566}{drawingState}}[gbLine].modified)}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00447}00447\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return};}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00448}00448\ }
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00449}00449\ \ \ \ \ \mbox{\hyperlink{gbgfx_8cpp_a3cd39047a50d108bad589552d5c28d18}{lineCompleted}}[gbLine]\ =\ \textcolor{keyword}{true};}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00450}00450\ }
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00451}00451\ \ \ \ \ \mbox{\hyperlink{gbgfx_8cpp_a3299fd8fbf2fadcfd88ee2f18824cbea}{drawLine}}(gbLine);}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00452}00452\ \}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00453}00453\ }
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00454}00454\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{gbgfx_8cpp_ab7eb6d540dc38c5d31291f5ef9308f91}{hblankHandler}}()\ ITCM\_CODE;}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00455}00455\ }
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00456}\mbox{\hyperlink{gbgfx_8cpp_ab7eb6d540dc38c5d31291f5ef9308f91}{00456}}\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{gbgfx_8cpp_ab7eb6d540dc38c5d31291f5ef9308f91}{hblankHandler}}()}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00457}00457\ \{}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00458}00458\ \ \ \ \ \textcolor{keywordtype}{int}\ line\ =\ REG\_VCOUNT\ +\ 1;}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00459}00459\ \ \ \ \ \textcolor{keywordflow}{if}\ ((REG\_DISPSTAT\ \&\ 3)\ !=\ 2)}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00460}00460\ \ \ \ \ \ \ \ \ line-\/-\/;}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00461}00461\ \ \ \ \ \mbox{\hyperlink{gbgfx_8cpp_af81933618cd850b54967001130817a61}{doHBlank}}(line);}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00462}00462\ \}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00463}00463\ }
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00464}00464\ \textcolor{comment}{//\ Triggered\ on\ line\ 235,\ middle\ of\ vblank}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00465}\mbox{\hyperlink{gbgfx_8cpp_abb0c9757b585d53633e72130af93d164}{00465}}\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{gbgfx_8cpp_abb0c9757b585d53633e72130af93d164}{vcountHandler}}()}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00466}00466\ \{}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00467}00467\ \ \ \ \ \textcolor{comment}{//\ These\ vram\ banks\ may\ have\ been\ allocated\ to\ arm7\ for\ scaling\ stuff.}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00468}00468\ \ \ \ \ vramSetBankC(VRAM\_C\_SUB\_BG);}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00469}00469\ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{main_8c_a2bb32c52cb5d21be737aaa2aefb353d4}{sharedData}}-\/>\mbox{\hyperlink{struct_shared_data_a2c0c6b195867ee5f8f5c974fcb1d4197}{scalingOn}})}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00470}00470\ \ \ \ \ \ \ \ \ vramSetBankD(VRAM\_D\_LCD);}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00471}00471\ }
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00472}00472\ \ \ \ \ \textcolor{comment}{//\ Do\ hblank\ stuff\ for\ the\ very\ top\ line\ (physical\ line\ 0)}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00473}00473\ \ \ \ \ \mbox{\hyperlink{gbgfx_8cpp_af81933618cd850b54967001130817a61}{doHBlank}}(0);}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00474}00474\ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{gbgfx_8cpp_ae5d63a0df1fc230d6fb3b5c67314393d}{gbGraphicsDisabled}})}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00475}00475\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return};}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00476}00476\ \ \ \ \ \textcolor{comment}{//\ Draw\ the\ first\ gameboy\ line\ early\ (physical\ line\ 24)}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00477}00477\ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{gbgfx_8cpp_ab603fe74b48d08c176eb343ade1dc566}{drawingState}}[0].modified)}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00478}00478\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{gbgfx_8cpp_a3299fd8fbf2fadcfd88ee2f18824cbea}{drawLine}}(0);}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00479}00479\ \ \ \ \ \mbox{\hyperlink{gbgfx_8cpp_a3cd39047a50d108bad589552d5c28d18}{lineCompleted}}[0]\ =\ \textcolor{keyword}{true};}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00480}00480\ \}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00481}00481\ }
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00482}\mbox{\hyperlink{gbgfx_8cpp_a661609bcd9b9316ac391ea66f6b86ac5}{00482}}\ std::vector<void\ (*)()>\ \mbox{\hyperlink{gbgfx_8cpp_a661609bcd9b9316ac391ea66f6b86ac5}{vblankTasks}};}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00483}00483\ }
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00484}\mbox{\hyperlink{gbgfx_8h_a2f55870003e8d34f5d175345f39f4105}{00484}}\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{gbgfx_8cpp_a2f55870003e8d34f5d175345f39f4105}{doAtVBlank}}(\textcolor{keywordtype}{void}\ (*func)(\textcolor{keywordtype}{void}))}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00485}00485\ \{}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00486}00486\ \ \ \ \ \mbox{\hyperlink{gbgfx_8cpp_a661609bcd9b9316ac391ea66f6b86ac5}{vblankTasks}}.push\_back(func);}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00487}00487\ \}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00488}00488\ }
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00489}\mbox{\hyperlink{gbgfx_8cpp_a9191c29ca1a0cf63adab0803375b342f}{00489}}\ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{gbgfx_8cpp_a9191c29ca1a0cf63adab0803375b342f}{filterFlip}}\ =\ \textcolor{keyword}{false};}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00490}\mbox{\hyperlink{gbgfx_8cpp_a61980113c878f9f0138454e1e1047750}{00490}}\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{gbgfx_8cpp_a61980113c878f9f0138454e1e1047750}{vblankHandler}}()}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00491}00491\ \{}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00492}00492\ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{main_8c_a2bb32c52cb5d21be737aaa2aefb353d4}{sharedData}}-\/>\mbox{\hyperlink{struct_shared_data_a2c0c6b195867ee5f8f5c974fcb1d4197}{scalingOn}})}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00493}00493\ \ \ \ \ \{}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00494}00494\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ Leave\ the\ DMA\ copying\ for\ arm7.}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00495}00495\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ dmaCopyWordsAsynch(0,\ (u16*)0x06860000+24*256,\ (u16*)0x06200000,\ 144*256*2);}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00496}00496\ \ \ \ \ \ \ \ \ vramSetBankD(VRAM\_D\_ARM7\_0x06000000);}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00497}00497\ \ \ \ \ \ \ \ \ vramSetBankC(VRAM\_C\_ARM7\_0x06020000);}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00498}00498\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{main_8c_a2bb32c52cb5d21be737aaa2aefb353d4}{sharedData}}-\/>\mbox{\hyperlink{struct_shared_data_ad9aa2a8dd98de663ae9e21874bd5f7c3}{scaleTransferReady}}\ =\ \textcolor{keyword}{true};}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00499}00499\ }
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00500}00500\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ Capture\ the\ main\ display\ into\ vram\ bank\ D}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00501}00501\ \ \ \ \ \ \ \ \ REG\_DISPCAPCNT\ =\ 15\ |\ 3\ <<\ 16\ |\ 0\ <<\ 18\ |\ 3\ <<\ 20\ |\ 0\ <<\ 29\ |\ 1\ <<\ 31;}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00502}00502\ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00503}00503\ \ \ \ \ \mbox{\hyperlink{gbgfx_8cpp_a5458fb138ca4b8f989873109fd0c53d7}{didVblank}}\ =\ \textcolor{keyword}{true};}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00504}00504\ \ \ \ \ \mbox{\hyperlink{gbgfx_8cpp_acc585c432eca446ce44bda6d820320d8}{dsFrameCounter}}++;}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00505}00505\ }
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00506}00506\ \ \ \ \ memset(\mbox{\hyperlink{gbgfx_8cpp_a3cd39047a50d108bad589552d5c28d18}{lineCompleted}},\ 0,\ \textcolor{keyword}{sizeof}(\mbox{\hyperlink{gbgfx_8cpp_a3cd39047a50d108bad589552d5c28d18}{lineCompleted}}));}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00507}00507\ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{gbgfx_8cpp_a89e8f23cbae54ca6f6935daecbb1c5c5}{scaleFilter}}\ ==\ 1)}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00508}00508\ \ \ \ \ \{}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00509}00509\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{gbgfx_8cpp_a9191c29ca1a0cf63adab0803375b342f}{filterFlip}})}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00510}00510\ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00511}00511\ \ \ \ \ \ \ \ \ \ \ \ \ REG\_BG2X\_SUB\ =\ \mbox{\hyperlink{gbgfx_8cpp_af3e8557b7fc26006b9850248932ddf8b}{SCALE\_BGX}}\ -\/\ (1\ <<\ 5);}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00512}00512\ \ \ \ \ \ \ \ \ \ \ \ \ REG\_BG2Y\_SUB\ =\ \mbox{\hyperlink{gbgfx_8cpp_a2f95b3058774b52ad7e38b3f5c7174f5}{SCALE\_BGY}}\ -\/\ (1\ <<\ 5);}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00513}00513\ \ \ \ \ \ \ \ \ \ \ \ \ REG\_BG3X\_SUB\ =\ \mbox{\hyperlink{gbgfx_8cpp_af3e8557b7fc26006b9850248932ddf8b}{SCALE\_BGX}}\ +\ (1\ <<\ 5);}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00514}00514\ \ \ \ \ \ \ \ \ \ \ \ \ REG\_BG3Y\_SUB\ =\ \mbox{\hyperlink{gbgfx_8cpp_a2f95b3058774b52ad7e38b3f5c7174f5}{SCALE\_BGY}}\ +\ (1\ <<\ 5);}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00515}00515\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00516}00516\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{else}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00517}00517\ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00518}00518\ \ \ \ \ \ \ \ \ \ \ \ \ REG\_BG2X\_SUB\ =\ \mbox{\hyperlink{gbgfx_8cpp_af3e8557b7fc26006b9850248932ddf8b}{SCALE\_BGX}}\ -\/\ (1\ <<\ 5);}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00519}00519\ \ \ \ \ \ \ \ \ \ \ \ \ REG\_BG2Y\_SUB\ =\ \mbox{\hyperlink{gbgfx_8cpp_a2f95b3058774b52ad7e38b3f5c7174f5}{SCALE\_BGY}}\ +\ (1\ <<\ 5);}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00520}00520\ \ \ \ \ \ \ \ \ \ \ \ \ REG\_BG3X\_SUB\ =\ \mbox{\hyperlink{gbgfx_8cpp_af3e8557b7fc26006b9850248932ddf8b}{SCALE\_BGX}}\ +\ (1\ <<\ 5);}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00521}00521\ \ \ \ \ \ \ \ \ \ \ \ \ REG\_BG3Y\_SUB\ =\ \mbox{\hyperlink{gbgfx_8cpp_a2f95b3058774b52ad7e38b3f5c7174f5}{SCALE\_BGY}}\ -\/\ (1\ <<\ 5);}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00522}00522\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00523}00523\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{gbgfx_8cpp_a9191c29ca1a0cf63adab0803375b342f}{filterFlip}}\ =\ !\mbox{\hyperlink{gbgfx_8cpp_a9191c29ca1a0cf63adab0803375b342f}{filterFlip}};}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00524}00524\ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00525}00525\ }
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00526}00526\ \ \ \ \ \textcolor{comment}{//\ Copy\ the\ list\ so\ that\ functions\ which\ access\ vblankTasks\ work.}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00527}00527\ \ \ \ \ std::vector<void\ (*)()>\ tasks\ =\ \mbox{\hyperlink{gbgfx_8cpp_a661609bcd9b9316ac391ea66f6b86ac5}{vblankTasks}};}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00528}00528\ \ \ \ \ \mbox{\hyperlink{gbgfx_8cpp_a661609bcd9b9316ac391ea66f6b86ac5}{vblankTasks}}.clear();}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00529}00529\ \ \ \ \ \textcolor{keywordflow}{for}\ (uint\ i\ =\ 0;\ i\ <\ tasks.size();\ i++)}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00530}00530\ \ \ \ \ \{}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00531}00531\ \ \ \ \ \ \ \ \ tasks[i]();}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00532}00532\ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00533}00533\ \}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00534}00534\ }
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00535}00535\ \textcolor{comment}{//\ This\ just\ sets\ up\ the\ background}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00536}\mbox{\hyperlink{gbgfx_8cpp_a6152d90bc27302b3fcd92f4973a2401c}{00536}}\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{gbgfx_8cpp_a6152d90bc27302b3fcd92f4973a2401c}{loadSGBBorder}}()}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00537}00537\ \{}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00538}00538\ \ \ \ \ \mbox{\hyperlink{gbgfx_8cpp_aef6032a39f08d1728cefcc4e8be2d437}{loadedBorderType}}\ =\ \mbox{\hyperlink{gbgfx_8h_abc6126af1d45847bc59afa0aa3216b04a67fb865853b0b945451732f850cd550f}{BORDER\_SGB}};}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00539}00539\ \ \ \ \ videoBgDisable(3);}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00540}00540\ \ \ \ \ WIN\_OUT\ =\ 1\ <<\ 3;}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00541}00541\ \ \ \ \ REG\_DISPCNT\ \&=\ \string~7;\ \textcolor{comment}{//\ Mode\ 0}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00542}00542\ \ \ \ \ REG\_BG3CNT\ =\ BG\_MAP\_BASE(\mbox{\hyperlink{gbgfx_8cpp_abd413371db8b3b61cd83231c431f4479}{border\_map\_base}})\ |\ BG\_TILE\_BASE(12);}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00543}00543\ \ \ \ \ REG\_BG3HOFS\ =\ 0;}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00544}00544\ \ \ \ \ REG\_BG3VOFS\ =\ -\/(\mbox{\hyperlink{gbgfx_8cpp_ae4626134fe8c5a191c8a9d36e9319cbc}{screenOffsY}}\ -\/\ 40);}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00545}00545\ \ \ \ \ videoBgEnable(3);}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00546}00546\ \}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00547}00547\ }
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00548}\mbox{\hyperlink{gbgfx_8h_ad00fca63a33eb7f18124dc4a19620a2e}{00548}}\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{gbgfx_8cpp_ad00fca63a33eb7f18124dc4a19620a2e}{initGFX}}()}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00549}00549\ \{}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00550}00550\ \ \ \ \ vramSetBankA(VRAM\_A\_MAIN\_BG);}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00551}00551\ \ \ \ \ vramSetBankB(VRAM\_B\_MAIN\_BG);}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00552}00552\ \ \ \ \ vramSetBankE(VRAM\_E\_MAIN\_SPRITE);}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00553}00553\ }
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00554}00554\ \ \ \ \ REG\_DISPSTAT\ \&=\ 0xFF;}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00555}00555\ \ \ \ \ REG\_DISPSTAT\ |=\ 235\ <<\ 8;\ \textcolor{comment}{//\ Set\ line\ 235\ for\ vcount}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00556}00556\ }
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00557}00557\ \ \ \ \ \mbox{\hyperlink{gbgfx_8cpp_ae5d63a0df1fc230d6fb3b5c67314393d}{gbGraphicsDisabled}}\ =\ \textcolor{keyword}{true};}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00558}00558\ }
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00559}00559\ \ \ \ \ irqEnable(IRQ\_VCOUNT);}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00560}00560\ \ \ \ \ irqEnable(IRQ\_HBLANK);}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00561}00561\ \ \ \ \ irqEnable(IRQ\_VBLANK);}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00562}00562\ \ \ \ \ irqSet(IRQ\_VCOUNT,\ \&\mbox{\hyperlink{gbgfx_8cpp_abb0c9757b585d53633e72130af93d164}{vcountHandler}});}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00563}00563\ \ \ \ \ irqSet(IRQ\_HBLANK,\ \&\mbox{\hyperlink{gbgfx_8cpp_ab7eb6d540dc38c5d31291f5ef9308f91}{hblankHandler}});}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00564}00564\ \ \ \ \ irqSet(IRQ\_VBLANK,\ \&\mbox{\hyperlink{gbgfx_8cpp_a61980113c878f9f0138454e1e1047750}{vblankHandler}});}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00565}00565\ }
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00566}00566\ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{gbs_8h_a6e7048c5efaac6e4916711ad174944cd}{gbsMode}})}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00567}00567\ \ \ \ \ \{}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00568}00568\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{gbgfx_8cpp_ae5d63a0df1fc230d6fb3b5c67314393d}{gbGraphicsDisabled}}\ =\ \textcolor{keyword}{true};}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00569}00569\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return};}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00570}00570\ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00571}00571\ }
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00572}00572\ \ \ \ \ \textcolor{comment}{//\ Tile\ for\ "{}color0\ maps"{},\ which\ contain\ only\ the\ gameboy's\ color\ 0.}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00573}00573\ \ \ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keywordtype}{int}\ i\ =\ 0;\ i\ <\ 16;\ i++)}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00574}00574\ \ \ \ \ \{}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00575}00575\ \ \ \ \ \ \ \ \ BG\_GFX[i]\ =\ 1\ |\ (1\ <<\ 4)\ |\ (1\ <<\ 8)\ |\ (1\ <<\ 12);}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00576}00576\ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00577}00577\ }
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00578}00578\ \ \ \ \ \textcolor{comment}{//\ Initialize\ the\ "{}off\ map"{},\ for\ when\ the\ gameboy\ screen\ is\ disabled.}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00579}00579\ \ \ \ \ \textcolor{comment}{//\ Uses\ the\ "{}color0\ map"{}\ tile\ because,\ why\ not.}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00580}00580\ \ \ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keywordtype}{int}\ i\ =\ 0;\ i\ <\ 32\ *\ 32;\ i++)}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00581}00581\ \ \ \ \ \{}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00582}00582\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{gbgfx_8cpp_a7ec3797409dcee1456d33ccce6eaddde}{offMap}}[i]\ =\ 15\ <<\ 12;}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00583}00583\ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00584}00584\ \ \ \ \ \textcolor{comment}{//\ Off\ map\ palette}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00585}00585\ \ \ \ \ BG\_PALETTE[\mbox{\hyperlink{gbgfx_8cpp_ad3002ecdd358dc1031b7f3f5367d856d}{OFF\_MAP\_PALETTE\_INDEX}}]\ =\ RGB15(31,\ 31,\ 31);}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00586}00586\ }
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00587}00587\ \ \ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keywordtype}{int}\ i\ =\ 0;\ i\ <\ 128;\ i++)}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00588}00588\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{gbgfx_8cpp_a34352c8a17802da70f27f22ce225178f}{sprites}}[i].attr0\ =\ ATTR0\_DISABLED;}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00589}00589\ }
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00590}00590\ \ \ \ \ \mbox{\hyperlink{gbgfx_8cpp_ad55b96f2678da1f09b16057cd76c3fe9}{initGFXPalette}}();}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00591}00591\ }
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00592}00592\ \ \ \ \ \mbox{\hyperlink{gbgfx_8cpp_ae5d63a0df1fc230d6fb3b5c67314393d}{gbGraphicsDisabled}}\ =\ \textcolor{keyword}{true};}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00593}00593\ \ \ \ \ swiWaitForVBlank();}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00594}00594\ }
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00595}00595\ \ \ \ \ WIN\_IN\ =\ (1\ <<\ 4)\ |\ (1\ <<\ 12)\ |\ 1;}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00596}00596\ \ \ \ \ WIN\_OUT\ =\ 1\ <<\ 3;}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00597}00597\ \ \ \ \ WIN1\_X0\ =\ \mbox{\hyperlink{gbgfx_8cpp_a285192f5390f5531ee1cca872f957d2d}{screenOffsX}};}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00598}00598\ \ \ \ \ WIN1\_X1\ =\ \mbox{\hyperlink{gbgfx_8cpp_a285192f5390f5531ee1cca872f957d2d}{screenOffsX}}\ +\ 160;}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00599}00599\ \ \ \ \ WIN1\_Y0\ =\ \mbox{\hyperlink{gbgfx_8cpp_ae4626134fe8c5a191c8a9d36e9319cbc}{screenOffsY}};}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00600}00600\ \ \ \ \ WIN1\_Y1\ =\ \mbox{\hyperlink{gbgfx_8cpp_ae4626134fe8c5a191c8a9d36e9319cbc}{screenOffsY}}\ +\ 144;}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00601}00601\ \ \ \ \ WIN0\_X0\ =\ \mbox{\hyperlink{gbgfx_8cpp_a285192f5390f5531ee1cca872f957d2d}{screenOffsX}};}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00602}00602\ \ \ \ \ WIN0\_Y0\ =\ \mbox{\hyperlink{gbgfx_8cpp_ae4626134fe8c5a191c8a9d36e9319cbc}{screenOffsY}};}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00603}00603\ \ \ \ \ WIN0\_X1\ =\ \mbox{\hyperlink{gbgfx_8cpp_a285192f5390f5531ee1cca872f957d2d}{screenOffsX}}\ +\ 160;}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00604}00604\ \ \ \ \ WIN0\_Y1\ =\ \mbox{\hyperlink{gbgfx_8cpp_ae4626134fe8c5a191c8a9d36e9319cbc}{screenOffsY}}\ +\ 144;}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00605}00605\ }
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00606}00606\ \ \ \ \ \textcolor{keywordtype}{int}\ mode\ =\ (\mbox{\hyperlink{gbgfx_8cpp_aef6032a39f08d1728cefcc4e8be2d437}{loadedBorderType}}\ ==\ \mbox{\hyperlink{gbgfx_8h_abc6126af1d45847bc59afa0aa3216b04ac1bf7e07e233f14e0c57a02c1644b737}{BORDER\_CUSTOM}}\ ?\ MODE\_3\_2D\ :\ MODE\_0\_2D);}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00607}00607\ \ \ \ \ videoSetMode(mode\ |\ DISPLAY\_BG0\_ACTIVE\ |\ DISPLAY\_BG1\_ACTIVE\ |\ DISPLAY\_BG2\_ACTIVE\ |\ DISPLAY\_BG3\_ACTIVE\ |}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00608}00608\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ DISPLAY\_WIN0\_ON\ |\ DISPLAY\_WIN1\_ON\ |\ DISPLAY\_SPR\_1D);}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00609}00609\ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{main_8c_a2bb32c52cb5d21be737aaa2aefb353d4}{sharedData}}-\/>\mbox{\hyperlink{struct_shared_data_a2c0c6b195867ee5f8f5c974fcb1d4197}{scalingOn}})}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00610}00610\ \ \ \ \ \ \ \ \ REG\_DISPCNT\ \&=\ \string~(3\ <<\ 16);\ \textcolor{comment}{//\ Main\ display\ is\ disabled\ when\ scaling\ is\ on}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00611}00611\ }
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00612}00612\ \ \ \ \ memset(\mbox{\hyperlink{mmu_8h_a7d0ed1b85995cb654491c9e0958abed2}{vram}}[0],\ 0,\ 0x2000);}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00613}00613\ \ \ \ \ memset(\mbox{\hyperlink{mmu_8h_a7d0ed1b85995cb654491c9e0958abed2}{vram}}[1],\ 0,\ 0x2000);}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00614}00614\ \ \ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keywordtype}{int}\ i\ =\ 0;\ i\ <\ 144;\ i++)}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00615}00615\ \ \ \ \ \{}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00616}00616\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{gbgfx_8cpp_aa479e9c1666a9411084a3c63974e07ad}{scanlineBuffers}}[0][i].\mbox{\hyperlink{struct_scanline_struct_a336f890daf27be7a9bd3728673d20a16}{modified}}\ =\ \textcolor{keyword}{false};}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00617}00617\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{gbgfx_8cpp_aa479e9c1666a9411084a3c63974e07ad}{scanlineBuffers}}[1][i].\mbox{\hyperlink{struct_scanline_struct_a336f890daf27be7a9bd3728673d20a16}{modified}}\ =\ \textcolor{keyword}{false};}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00618}00618\ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00619}00619\ \ \ \ \ \mbox{\hyperlink{gbgfx_8cpp_ae5d63a0df1fc230d6fb3b5c67314393d}{gbGraphicsDisabled}}\ =\ \textcolor{keyword}{false};}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00620}00620\ }
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00621}00621\ \ \ \ \ \mbox{\hyperlink{gbgfx_8cpp_a0e19dccb2272e5ec93cee1dbe5b3fee3}{gfxMask}}\ =\ 0;}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00622}00622\ }
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00623}00623\ \ \ \ \ \mbox{\hyperlink{gbgfx_8cpp_aa830515ff224eeaa5ae76432a118cd98}{checkBorder}}();}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00624}00624\ \ \ \ \ \mbox{\hyperlink{gbgfx_8cpp_a62b34356f6149d2c44ee24379cc347a6}{refreshGFX}}();}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00625}00625\ \}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00626}00626\ }
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00627}\mbox{\hyperlink{gbgfx_8h_ad55b96f2678da1f09b16057cd76c3fe9}{00627}}\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{gbgfx_8cpp_ad55b96f2678da1f09b16057cd76c3fe9}{initGFXPalette}}()}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00628}00628\ \{}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00629}00629\ \ \ \ \ memset(\mbox{\hyperlink{gbgfx_8h_a254d3c52c2ae7fff61e52168c0c37e86}{bgPaletteData}},\ 0xff,\ 0x40);}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00630}00630\ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{gameboy_8h_af3ddfcff387d53e03211aeaa7a0c14ef}{gbMode}}\ ==\ \mbox{\hyperlink{gbcpu_8h_a44172ac633c517cb4c9e278cef36b000}{GB}})}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00631}00631\ \ \ \ \ \{}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00632}00632\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{gbgfx_8h_ac22d8f92fe46c2fe4681159f06c6192a}{sprPaletteData}}[0]\ =\ 0xff;}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00633}00633\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{gbgfx_8h_ac22d8f92fe46c2fe4681159f06c6192a}{sprPaletteData}}[1]\ =\ 0xff;}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00634}00634\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{gbgfx_8h_ac22d8f92fe46c2fe4681159f06c6192a}{sprPaletteData}}[2]\ =\ 0x15\ |\ ((0x15\ \&\ 7)\ <<\ 5);}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00635}00635\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{gbgfx_8h_ac22d8f92fe46c2fe4681159f06c6192a}{sprPaletteData}}[3]\ =\ (0x15\ >>\ 3)\ |\ (0x15\ <<\ 2);}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00636}00636\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{gbgfx_8h_ac22d8f92fe46c2fe4681159f06c6192a}{sprPaletteData}}[4]\ =\ 0xa\ |\ ((0xa\ \&\ 7)\ <<\ 5);}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00637}00637\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{gbgfx_8h_ac22d8f92fe46c2fe4681159f06c6192a}{sprPaletteData}}[5]\ =\ (0xa\ >>\ 3)\ |\ (0xa\ <<\ 2);}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00638}00638\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{gbgfx_8h_ac22d8f92fe46c2fe4681159f06c6192a}{sprPaletteData}}[6]\ =\ 0;}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00639}00639\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{gbgfx_8h_ac22d8f92fe46c2fe4681159f06c6192a}{sprPaletteData}}[7]\ =\ 0;}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00640}00640\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{gbgfx_8h_ac22d8f92fe46c2fe4681159f06c6192a}{sprPaletteData}}[8]\ =\ 0xff;}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00641}00641\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{gbgfx_8h_ac22d8f92fe46c2fe4681159f06c6192a}{sprPaletteData}}[9]\ =\ 0xff;}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00642}00642\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{gbgfx_8h_ac22d8f92fe46c2fe4681159f06c6192a}{sprPaletteData}}[10]\ =\ 0x15\ |\ ((0x15\ \&\ 7)\ <<\ 5);}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00643}00643\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{gbgfx_8h_ac22d8f92fe46c2fe4681159f06c6192a}{sprPaletteData}}[11]\ =\ (0x15\ >>\ 3)\ |\ (0x15\ <<\ 2);}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00644}00644\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{gbgfx_8h_ac22d8f92fe46c2fe4681159f06c6192a}{sprPaletteData}}[12]\ =\ 0xa\ |\ ((0xa\ \&\ 7)\ <<\ 5);}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00645}00645\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{gbgfx_8h_ac22d8f92fe46c2fe4681159f06c6192a}{sprPaletteData}}[13]\ =\ (0xa\ >>\ 3)\ |\ (0xa\ <<\ 2);}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00646}00646\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{gbgfx_8h_ac22d8f92fe46c2fe4681159f06c6192a}{sprPaletteData}}[14]\ =\ 0;}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00647}00647\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{gbgfx_8h_ac22d8f92fe46c2fe4681159f06c6192a}{sprPaletteData}}[15]\ =\ 0;}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00648}00648\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{gbgfx_8h_a254d3c52c2ae7fff61e52168c0c37e86}{bgPaletteData}}[0]\ =\ 0xff;}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00649}00649\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{gbgfx_8h_a254d3c52c2ae7fff61e52168c0c37e86}{bgPaletteData}}[1]\ =\ 0xff;}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00650}00650\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{gbgfx_8h_a254d3c52c2ae7fff61e52168c0c37e86}{bgPaletteData}}[2]\ =\ 0x15\ |\ ((0x15\ \&\ 7)\ <<\ 5);}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00651}00651\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{gbgfx_8h_a254d3c52c2ae7fff61e52168c0c37e86}{bgPaletteData}}[3]\ =\ (0x15\ >>\ 3)\ |\ (0x15\ <<\ 2);}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00652}00652\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{gbgfx_8h_a254d3c52c2ae7fff61e52168c0c37e86}{bgPaletteData}}[4]\ =\ 0xa\ |\ ((0xa\ \&\ 7)\ <<\ 5);}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00653}00653\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{gbgfx_8h_a254d3c52c2ae7fff61e52168c0c37e86}{bgPaletteData}}[5]\ =\ (0xa\ >>\ 3)\ |\ (0xa\ <<\ 2);}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00654}00654\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{gbgfx_8h_a254d3c52c2ae7fff61e52168c0c37e86}{bgPaletteData}}[6]\ =\ 0;}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00655}00655\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{gbgfx_8h_a254d3c52c2ae7fff61e52168c0c37e86}{bgPaletteData}}[7]\ =\ 0;}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00656}00656\ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00657}00657\ \ \ \ \ \textcolor{comment}{//\ This\ prevents\ some\ flickering\ when\ loading\ roms}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00658}00658\ \ \ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keywordtype}{int}\ i\ =\ 0;\ i\ <\ 8;\ i++)}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00659}00659\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{gbgfx_8cpp_a1214c2484459d4a461f437e67a072694}{updateBgPalette\_GBC}}(i,\ \mbox{\hyperlink{gbgfx_8h_a254d3c52c2ae7fff61e52168c0c37e86}{bgPaletteData}}\ +\ i\ *\ 8);}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00660}00660\ \}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00661}00661\ }
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00662}\mbox{\hyperlink{gbgfx_8h_a62b34356f6149d2c44ee24379cc347a6}{00662}}\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{gbgfx_8cpp_a62b34356f6149d2c44ee24379cc347a6}{refreshGFX}}()}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00663}00663\ \{}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00664}00664\ \ \ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keywordtype}{int}\ i\ =\ 0;\ i\ <\ 0x180;\ i++)}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00665}00665\ \ \ \ \ \{}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00666}00666\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{gbgfx_8cpp_a27a1116d3f41a4a2d146cf8386b99bdd}{drawTile}}(i,\ 0);}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00667}00667\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{gbgfx_8cpp_a27a1116d3f41a4a2d146cf8386b99bdd}{drawTile}}(i,\ 1);}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00668}00668\ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00669}00669\ \ \ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keywordtype}{int}\ i\ =\ 0;\ i\ <\ 0x400;\ i++)}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00670}00670\ \ \ \ \ \{}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00671}00671\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{gbgfx_8cpp_abaa5f65ef32cc80bd17ba14c47984536}{updateTileMap}}(0,\ i);}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00672}00672\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{gbgfx_8cpp_abaa5f65ef32cc80bd17ba14c47984536}{updateTileMap}}(1,\ i);}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00673}00673\ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00674}00674\ \ \ \ \ \mbox{\hyperlink{gbgfx_8cpp_aad42beb02a7313afa3778db5e804f851}{changedMapQueueLength}}[0]\ =\ 0;}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00675}00675\ \ \ \ \ \mbox{\hyperlink{gbgfx_8cpp_aad42beb02a7313afa3778db5e804f851}{changedMapQueueLength}}[1]\ =\ 0;}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00676}00676\ \ \ \ \ \mbox{\hyperlink{gbgfx_8cpp_a45834c0f350c7bfbd7657d32bcf42d43}{changedTileQueueLength}}\ =\ 0;}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00677}00677\ \ \ \ \ \mbox{\hyperlink{gbgfx_8cpp_adb7a4f818a75d747ae51e6b16dbe623f}{changedTileInFrameQueueLength}}\ =\ 0;}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00678}00678\ \ \ \ \ memset(\mbox{\hyperlink{gbgfx_8cpp_a542811a076e55daa66e05901298fc57a}{changedTile}},\ 0,\ \textcolor{keyword}{sizeof}(\mbox{\hyperlink{gbgfx_8cpp_a542811a076e55daa66e05901298fc57a}{changedTile}}));}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00679}00679\ \ \ \ \ memset(\mbox{\hyperlink{gbgfx_8cpp_af36bd9924bc4a1c5da12c77c46713f4c}{changedTileInFrame}},\ 0,\ \textcolor{keyword}{sizeof}(\mbox{\hyperlink{gbgfx_8cpp_af36bd9924bc4a1c5da12c77c46713f4c}{changedTileInFrame}}));}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00680}00680\ }
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00681}00681\ \ \ \ \ \mbox{\hyperlink{gbgfx_8cpp_a31c7dcff373ddfa6b23617e9298f961d}{lastScreenDisabled}}\ =\ !(\mbox{\hyperlink{mmu_8h_a7436ad149c3b3f2974966d6b546d14d9}{ioRam}}[0x40]\ \&\ 0x80);}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00682}00682\ \ \ \ \ \mbox{\hyperlink{gbgfx_8cpp_a097b7a3d0c46cf0afdc98b34bf6f99ed}{screenDisabled}}\ =\ \mbox{\hyperlink{gbgfx_8cpp_a31c7dcff373ddfa6b23617e9298f961d}{lastScreenDisabled}};}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00683}00683\ \ \ \ \ \mbox{\hyperlink{gbgfx_8cpp_adf5931a286627b99da8d76dc7eb033df}{winPosY}}\ =\ -\/1;}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00684}00684\ }
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00685}00685\ \ \ \ \ \mbox{\hyperlink{gbgfx_8cpp_a3b35e4c59fbe530ccfd4fc14c5d4c265}{usingTilePriority}}[0]\ =\ 0;}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00686}00686\ \ \ \ \ \mbox{\hyperlink{gbgfx_8cpp_a3b35e4c59fbe530ccfd4fc14c5d4c265}{usingTilePriority}}[1]\ =\ 0;}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00687}00687\ \ \ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keywordtype}{int}\ i\ =\ 0x1800;\ i\ <\ 0x1c00;\ i++)}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00688}00688\ \ \ \ \ \{}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00689}00689\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{mmu_8h_a7d0ed1b85995cb654491c9e0958abed2}{vram}}[1][i]\ \&\ 0x80)}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00690}00690\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{gbgfx_8cpp_a3b35e4c59fbe530ccfd4fc14c5d4c265}{usingTilePriority}}[0]++;}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00691}00691\ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00692}00692\ \ \ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keywordtype}{int}\ i\ =\ 0x1c00;\ i\ <\ 0x2000;\ i++)}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00693}00693\ \ \ \ \ \{}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00694}00694\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{mmu_8h_a7d0ed1b85995cb654491c9e0958abed2}{vram}}[1][i]\ \&\ 0x80)}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00695}00695\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{gbgfx_8cpp_a3b35e4c59fbe530ccfd4fc14c5d4c265}{usingTilePriority}}[1]++;}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00696}00696\ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00697}00697\ \}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00698}00698\ }
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00699}\mbox{\hyperlink{gbgfx_8h_a484b3e71acef74d4337dbaf8765cb140}{00699}}\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{gbgfx_8cpp_a484b3e71acef74d4337dbaf8765cb140}{clearGFX}}()}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00700}00700\ \{}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00701}00701\ \ \ \ \ \mbox{\hyperlink{gbgfx_8cpp_ae5d63a0df1fc230d6fb3b5c67314393d}{gbGraphicsDisabled}}\ =\ \textcolor{keyword}{true};}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00702}00702\ \ \ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keywordtype}{int}\ i\ =\ 0;\ i\ <\ (\mbox{\hyperlink{gbgfx_8cpp_aef6032a39f08d1728cefcc4e8be2d437}{loadedBorderType}}\ ?\ 3\ :\ 4);\ i++)}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00703}00703\ \ \ \ \ \ \ \ \ videoBgDisable(i);}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00704}00704\ \ \ \ \ REG\_DISPCNT\ \&=\ \string~DISPLAY\_SPR\_ACTIVE;}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00705}00705\ }
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00706}00706\ \ \ \ \ \textcolor{comment}{//\ Blacken\ the\ screen.}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00707}00707\ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{gbgfx_8cpp_aef6032a39f08d1728cefcc4e8be2d437}{loadedBorderType}})}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00708}00708\ \ \ \ \ \{}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00709}00709\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ Make\ it\ white\ if\ there's\ a\ border\ loaded.}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00710}00710\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ I\ could\ use\ the\ backdrop,\ but\ that\ messes\ with\ SGB\ borders.}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00711}00711\ \ \ \ \ \ \ \ \ BG\_PALETTE[\mbox{\hyperlink{gbgfx_8cpp_ad3002ecdd358dc1031b7f3f5367d856d}{OFF\_MAP\_PALETTE\_INDEX}}]\ =\ RGB15(31,\ 31,\ 31);}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00712}00712\ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00713}00713\ \ \ \ \ \textcolor{keywordflow}{else}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00714}00714\ \ \ \ \ \{}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00715}00715\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ Otherwise\ make\ it\ black.}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00716}00716\ \ \ \ \ \ \ \ \ BG\_PALETTE[\mbox{\hyperlink{gbgfx_8cpp_ad3002ecdd358dc1031b7f3f5367d856d}{OFF\_MAP\_PALETTE\_INDEX}}]\ =\ RGB15(0,\ 0,\ 0);}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00717}00717\ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00718}00718\ \ \ \ \ \mbox{\hyperlink{gbgfx_8cpp_a8209539684d9069849b50012fd470999}{BG\_CNT}}(0)\ =\ BG\_MAP\_BASE(\mbox{\hyperlink{gbgfx_8cpp_a91ce402e5df15ae36e306bc87e0e8571}{off\_map\_base}})\ |\ 3;}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00719}00719\ \ \ \ \ videoBgEnable(0);}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00720}00720\ \}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00721}00721\ }
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00722}00722\ \textcolor{comment}{//\ SGB\ palettes\ can't\ quite\ be\ perfect\ because\ SGB\ doesn't\ (necessarily)\ align}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00723}00723\ \textcolor{comment}{//\ palettes\ with\ tiles.\ Mostly\ problematic\ with\ scrolling\ around\ status\ bars.}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00724}00724\ \textcolor{comment}{//\ Bars\ on\ the\ bottom\ are\ favored\ by\ this\ code.}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00725}\mbox{\hyperlink{gbgfx_8h_ab69a9c5313c53ae912567230d8ddfcf0}{00725}}\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{gbgfx_8cpp_ab69a9c5313c53ae912567230d8ddfcf0}{refreshSgbPalette}}()}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00726}00726\ \{}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00727}00727\ \ \ \ \ \textcolor{keywordtype}{int}\ winMap\ =\ 0,\ bgMap\ =\ 0;}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00728}00728\ \ \ \ \ \textcolor{keywordtype}{bool}\ winJustDisabled\ =\ \textcolor{keyword}{false};}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00729}00729\ \ \ \ \ \textcolor{keywordtype}{bool}\ winOn\ =\ 0;}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00730}00730\ \ \ \ \ \textcolor{keywordtype}{int}\ hofs\ =\ 0,\ vofs\ =\ 0,\ \mbox{\hyperlink{gbgfx_8cpp_af45ebf8710b5dc93aaf0421a4fe37764}{winX}}\ =\ 0,\ winY\ =\ 0;}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00731}00731\ }
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00732}00732\ \ \ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keywordtype}{int}\ y\ =\ 0;\ y\ <\ 18;\ y++)}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00733}00733\ \ \ \ \ \{}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00734}00734\ \ \ \ \ \ \ \ \ winJustDisabled\ =\ \textcolor{keyword}{false};}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00735}00735\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keywordtype}{int}\ yPix\ =\ y\ *\ 8\ -\/\ 7;\ yPix\ <=\ y\ *\ 8;\ yPix++)}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00736}00736\ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00737}00737\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (yPix\ >=\ 0\ \&\&\ \mbox{\hyperlink{gbgfx_8cpp_ab603fe74b48d08c176eb343ade1dc566}{drawingState}}[yPix].modified\ \&\&\ \mbox{\hyperlink{gbgfx_8cpp_ab603fe74b48d08c176eb343ade1dc566}{drawingState}}[yPix].\mbox{\hyperlink{gbgfx_8cpp_a6d8811638f07e4ef3353977efe34c68b}{mapsModified}})}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00738}00738\ \ \ \ \ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00739}00739\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (!winJustDisabled)}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00740}00740\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ winJustDisabled\ =\ winOn\ \&\&\ (!\mbox{\hyperlink{gbgfx_8cpp_ab603fe74b48d08c176eb343ade1dc566}{drawingState}}[yPix].\mbox{\hyperlink{struct_scanline_struct_a3eb9afc043d7b48081054d31bbd5b5ee}{winOn}});}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00741}00741\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ winOn\ =\ \mbox{\hyperlink{gbgfx_8cpp_ab603fe74b48d08c176eb343ade1dc566}{drawingState}}[yPix].\mbox{\hyperlink{struct_scanline_struct_a3eb9afc043d7b48081054d31bbd5b5ee}{winOn}};}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00742}00742\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{gbgfx_8cpp_af45ebf8710b5dc93aaf0421a4fe37764}{winX}}\ =\ \mbox{\hyperlink{gbgfx_8cpp_ab603fe74b48d08c176eb343ade1dc566}{drawingState}}[yPix].\mbox{\hyperlink{struct_scanline_struct_ac62895524abcf9746f5762536a1f8556}{winX}};}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00743}00743\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ winY\ =\ \mbox{\hyperlink{gbgfx_8cpp_ab603fe74b48d08c176eb343ade1dc566}{drawingState}}[yPix].\mbox{\hyperlink{struct_scanline_struct_a8d7776aee90d159b7957a30746690175}{winY}};}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00744}00744\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ hofs\ =\ \mbox{\hyperlink{gbgfx_8cpp_ab603fe74b48d08c176eb343ade1dc566}{drawingState}}[yPix].\mbox{\hyperlink{struct_scanline_struct_a29c1fa6eb5e29c3a97f0ade15c3d6c79}{hofs}};}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00745}00745\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ vofs\ =\ \mbox{\hyperlink{gbgfx_8cpp_ab603fe74b48d08c176eb343ade1dc566}{drawingState}}[yPix].\mbox{\hyperlink{struct_scanline_struct_a8616c1aa21ec4e29a2fd542dda75cc8f}{vofs}};}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00746}00746\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ winMap\ =\ \mbox{\hyperlink{gbgfx_8cpp_ab603fe74b48d08c176eb343ade1dc566}{drawingState}}[yPix].\mbox{\hyperlink{struct_scanline_struct_a488243d91d511956b87cd1ac5f25281d}{winMap}};}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00747}00747\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ bgMap\ =\ \mbox{\hyperlink{gbgfx_8cpp_ab603fe74b48d08c176eb343ade1dc566}{drawingState}}[yPix].\mbox{\hyperlink{struct_scanline_struct_a736b19cc5281791d106022368cc319fd}{bgMap}};}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00748}00748\ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00749}00749\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00750}00750\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keywordtype}{int}\ x\ =\ 0;\ x\ <\ 20;\ x++)}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00751}00751\ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00752}00752\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{int}\ palette\ =\ \mbox{\hyperlink{sgb_8h_a15e19c23520a5b3c3a3ddb347af5273b}{sgbMap}}[y\ *\ 20\ +\ x]\ \&\ 3;}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00753}00753\ }
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00754}00754\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ BACKGROUND}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00755}00755\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{int}\ yLoop\ =\ (y\ ==\ 0\ ||\ winJustDisabled\ ?\ 2\ :\ 1);\ \textcolor{comment}{//\ Give\ vertical\ tile\ -\/1\ tile\ 0's\ palette\ as\ it's\ scrolling\ in}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00756}00756\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{int}\ xLoop\ =\ (x\ ==\ 19\ ?\ 2\ :\ 1);\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ Give\ horizontal\ tile\ 20\ tile\ 19's\ palette,\ as\ it's\ scrolling\ in}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00757}00757\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{while}\ (yLoop-\/-\/\ >\ 0)}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00758}00758\ \ \ \ \ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00759}00759\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keywordtype}{int}\ j\ =\ 0;\ j\ <\ xLoop;\ j++)}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00760}00760\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00761}00761\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{int}\ realx\ =\ (((x\ +\ j)\ *\ 8\ +\ hofs)\ \&\ 0xff)\ /\ 8;}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00762}00762\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{int}\ realy\ =\ (((y\ -\/\ yLoop)\ *\ 8\ +\ vofs\ +\ 7)\ \&\ 0xff)\ /\ 8;}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00763}00763\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{int}\ i\ =\ realy\ *\ 32\ +\ realx;}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00764}00764\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{gbgfx_8cpp_a1e800a6a0ab719ff1af9a81efd02877a}{map}}[bgMap][i]\ \&=\ \string~(7\ <<\ 12);}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00765}00765\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{gbgfx_8cpp_a1e800a6a0ab719ff1af9a81efd02877a}{map}}[bgMap][i]\ |=\ (palette\ <<\ 12);}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00766}00766\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00767}00767\ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00768}00768\ }
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00769}00769\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ WINDOW}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00770}00770\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (winOn)}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00771}00771\ \ \ \ \ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00772}00772\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ yLoop\ =\ (y\ ==\ 17\ ?\ 2\ :\ 1);\ \textcolor{comment}{//\ Give\ vertical\ tile\ 19\ tile\ 18's\ palette\ as\ it's\ scrolling\ in}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00773}00773\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ xLoop\ =\ (x\ ==\ 19\ ?\ 2\ :\ 1);\ \textcolor{comment}{//\ x\ is\ treated\ the\ same\ as\ the\ background}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00774}00774\ }
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00775}00775\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{while}\ (yLoop-\/-\/\ >\ 0)}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00776}00776\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00777}00777\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keywordtype}{int}\ j\ =\ 0;\ j\ <\ xLoop;\ j++)}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00778}00778\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00779}00779\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{int}\ realx\ =\ ((x\ +\ j)\ *\ 8\ -\/\ (\mbox{\hyperlink{gbgfx_8cpp_af45ebf8710b5dc93aaf0421a4fe37764}{winX}}\ -\/\ 7))\ /\ 8;}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00780}00780\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{int}\ realy\ =\ ((y\ +\ yLoop)\ *\ 8\ -\/\ winY)\ /\ 8;}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00781}00781\ }
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00782}00782\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (realx\ >=\ 0\ \&\&\ realy\ >=\ 0\ \&\&\ realx\ <\ 32\ \&\&\ realy\ <\ 32)}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00783}00783\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00784}00784\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{int}\ i\ =\ realy\ *\ 32\ +\ realx;}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00785}00785\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{gbgfx_8cpp_a1e800a6a0ab719ff1af9a81efd02877a}{map}}[winMap][i]\ \&=\ \string~(7\ <<\ 12);}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00786}00786\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{gbgfx_8cpp_a1e800a6a0ab719ff1af9a81efd02877a}{map}}[winMap][i]\ |=\ (palette\ <<\ 12);}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00787}00787\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00788}00788\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00789}00789\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00790}00790\ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00791}00791\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00792}00792\ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00793}00793\ \}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00794}00794\ }
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00795}\mbox{\hyperlink{gbgfx_8h_af6eb238b4b25b103654a5cbae07a4138}{00795}}\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{gbgfx_8cpp_af6eb238b4b25b103654a5cbae07a4138}{displayIcon}}(\textcolor{keywordtype}{int}\ iconid)}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00796}00796\ \{}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00797}00797\ \ \ \ \ \textcolor{keyword}{const}\ u16\ *gfx;}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00798}00798\ \ \ \ \ \textcolor{keyword}{const}\ u16\ *pal;}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00799}00799\ \ \ \ \ \textcolor{keywordtype}{int}\ len\ =\ printerIconTilesLen;\ \textcolor{comment}{//\ Should\ always\ be\ the\ same}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00800}00800\ }
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00801}00801\ \ \ \ \ \textcolor{keywordflow}{switch}\ (iconid)}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00802}00802\ \ \ \ \ \{}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00803}00803\ \ \ \ \ \textcolor{keywordflow}{case}\ \mbox{\hyperlink{gbgfx_8h_a8ae68d9ad47833a98bc33ab36897040fa77556354067e6b09d0bb8c2f8893949b}{ICON\_NULL}}:}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00804}00804\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{gbgfx_8cpp_a34352c8a17802da70f27f22ce225178f}{sprites}}[0].attr0\ =\ ATTR0\_DISABLED;}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00805}00805\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return};}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00806}00806\ \ \ \ \ \textcolor{keywordflow}{case}\ \mbox{\hyperlink{gbgfx_8h_a8ae68d9ad47833a98bc33ab36897040fa978626f79887a3220938f77810857708}{ICON\_PRINTER}}:}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00807}00807\ \ \ \ \ \ \ \ \ gfx\ =\ printerIconTiles;}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00808}00808\ \ \ \ \ \ \ \ \ pal\ =\ printerIconPal;}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00809}00809\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{break};}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00810}00810\ \ \ \ \ \textcolor{keywordflow}{default}:}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00811}00811\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return};}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00812}00812\ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00813}00813\ }
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00814}00814\ \ \ \ \ dmaCopy(gfx,\ SPRITE\_GFX\ +\ 0x200\ *\ 16,\ len);}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00815}00815\ \ \ \ \ dmaCopy(pal,\ SPRITE\_PALETTE\ +\ 15\ *\ 16,\ 16\ *\ 2);}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00816}00816\ }
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00817}00817\ \ \ \ \ \mbox{\hyperlink{gbgfx_8cpp_a34352c8a17802da70f27f22ce225178f}{sprites}}[0].attr0\ =\ \mbox{\hyperlink{gbgfx_8cpp_ae4626134fe8c5a191c8a9d36e9319cbc}{screenOffsY}};}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00818}00818\ \ \ \ \ \mbox{\hyperlink{gbgfx_8cpp_a34352c8a17802da70f27f22ce225178f}{sprites}}[0].attr1\ =\ (\mbox{\hyperlink{gbgfx_8cpp_a285192f5390f5531ee1cca872f957d2d}{screenOffsX}}\ +\ 160\ -\/\ 32)\ |\ ATTR1\_SIZE\_32;}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00819}00819\ \ \ \ \ \mbox{\hyperlink{gbgfx_8cpp_a34352c8a17802da70f27f22ce225178f}{sprites}}[0].attr2\ =\ 0x200\ |\ ATTR2\_PALETTE(15);}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00820}00820\ \}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00821}00821\ }
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00822}\mbox{\hyperlink{gbgfx_8h_a5c68b80f62aca2e37b19134d5885eb57}{00822}}\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{gbgfx_8cpp_a5c68b80f62aca2e37b19134d5885eb57}{selectBorder}}()}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00823}00823\ \{}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00824}00824\ \ \ \ \ \mbox{\hyperlink{gbsnd_8h_a7fab9e8cae567ef9c79b711b29909ffb}{muteSND}}();}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00825}00825\ }
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00826}00826\ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{filechooser_8h_aae617de565d7031c7d254a6b55b8e01f}{borderChooserState}}.\mbox{\hyperlink{struct_file_chooser_state_a34c3a0d8034c7794d02d5f0e3599c130}{directory}}\ ==\ \textcolor{stringliteral}{"{}/"{}}\ \&\&\ \mbox{\hyperlink{inputhelper_8h_afb9e9630607fb784a26fade843b3a663}{borderPath}}\ !=\ NULL)}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00827}00827\ \ \ \ \ \{}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00828}00828\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{char}\ dest[256];}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00829}00829\ \ \ \ \ \ \ \ \ strcpy(dest,\ \mbox{\hyperlink{inputhelper_8h_afb9e9630607fb784a26fade843b3a663}{borderPath}});}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00830}00830\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{filechooser_8h_a1ce1ee9c7f2b538eb7ede7cc4ae43b2e}{setFileChooserMatchFile}}(strrchr(dest,\ \textcolor{charliteral}{'/'})\ +\ 1);}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00831}00831\ \ \ \ \ \ \ \ \ *(strrchr(dest,\ \textcolor{charliteral}{'/'})\ +\ 1)\ =\ \textcolor{charliteral}{'\(\backslash\)0'};}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00832}00832\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{filechooser_8h_aae617de565d7031c7d254a6b55b8e01f}{borderChooserState}}.\mbox{\hyperlink{struct_file_chooser_state_a34c3a0d8034c7794d02d5f0e3599c130}{directory}}\ =\ dest;}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00833}00833\ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00834}00834\ \ \ \ \ \mbox{\hyperlink{filechooser_8h_a0585552ff957251a4c6304d2ac819dba}{loadFileChooserState}}(\&\mbox{\hyperlink{filechooser_8h_aae617de565d7031c7d254a6b55b8e01f}{borderChooserState}});}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00835}00835\ }
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00836}00836\ \ \ \ \ \textcolor{keyword}{const}\ \textcolor{keywordtype}{char}\ *extensions[]\ =\ \{\textcolor{stringliteral}{"{}bmp"{}}\};}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00837}00837\ \ \ \ \ \textcolor{keywordtype}{int}\ len\ =\ (\textcolor{keyword}{sizeof}(extensions)\ /\ \textcolor{keyword}{sizeof}(\textcolor{keyword}{const}\ \textcolor{keywordtype}{char}\ *));}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00838}00838\ \ \ \ \ \textcolor{keywordtype}{char}\ *\mbox{\hyperlink{inputhelper_8cpp_a8c1e45e135261042ac6429a00328fe61}{filename}}\ =\ \mbox{\hyperlink{filechooser_8h_ad9290a6b86d58cddd1af76147abebaee}{startFileChooser}}(extensions,\ len,\ \textcolor{keyword}{false},\ \textcolor{keyword}{true});}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00839}00839\ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{inputhelper_8cpp_a8c1e45e135261042ac6429a00328fe61}{filename}}\ !=\ NULL)}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00840}00840\ \ \ \ \ \{}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00841}00841\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{char}\ cwd[256];}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00842}00842\ \ \ \ \ \ \ \ \ getcwd(cwd,\ 256);}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00843}00843\ \ \ \ \ \ \ \ \ free(\mbox{\hyperlink{inputhelper_8h_afb9e9630607fb784a26fade843b3a663}{borderPath}});}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00844}00844\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{inputhelper_8h_afb9e9630607fb784a26fade843b3a663}{borderPath}}\ =\ (\textcolor{keywordtype}{char}\ *)malloc(strlen(cwd)\ +\ strlen(\mbox{\hyperlink{inputhelper_8cpp_a8c1e45e135261042ac6429a00328fe61}{filename}})\ +\ 1);}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00845}00845\ \ \ \ \ \ \ \ \ strcpy(\mbox{\hyperlink{inputhelper_8h_afb9e9630607fb784a26fade843b3a663}{borderPath}},\ cwd);}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00846}00846\ \ \ \ \ \ \ \ \ strcat(\mbox{\hyperlink{inputhelper_8h_afb9e9630607fb784a26fade843b3a663}{borderPath}},\ \mbox{\hyperlink{inputhelper_8cpp_a8c1e45e135261042ac6429a00328fe61}{filename}});}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00847}00847\ }
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00848}00848\ \ \ \ \ \ \ \ \ free(\mbox{\hyperlink{inputhelper_8cpp_a8c1e45e135261042ac6429a00328fe61}{filename}});}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00849}00849\ }
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00850}00850\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{gbgfx_8cpp_aef6032a39f08d1728cefcc4e8be2d437}{loadedBorderType}}\ =\ \mbox{\hyperlink{gbgfx_8h_abc6126af1d45847bc59afa0aa3216b04a6051477cfcc8ff5efefaf4147723d9a2}{BORDER\_NONE}};\ \textcolor{comment}{//\ Force\ reload}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00851}00851\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{gbgfx_8cpp_aa830515ff224eeaa5ae76432a118cd98}{checkBorder}}();}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00852}00852\ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00853}00853\ }
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00854}00854\ \ \ \ \ \mbox{\hyperlink{filechooser_8h_a2469bf89eddb75cbc3b1b7712e08bb48}{saveFileChooserState}}(\&\mbox{\hyperlink{filechooser_8h_aae617de565d7031c7d254a6b55b8e01f}{borderChooserState}});}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00855}00855\ \ \ \ \ \mbox{\hyperlink{filechooser_8h_a0585552ff957251a4c6304d2ac819dba}{loadFileChooserState}}(\&\mbox{\hyperlink{filechooser_8h_a1c185a37dc80642d3853e3e2bc73c6a2}{romChooserState}});}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00856}00856\ }
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00857}00857\ \ \ \ \ \mbox{\hyperlink{gbsnd_8h_ae7ca78c77d7dc2018984e5dfe67c87eb}{unmuteSND}}();}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00858}00858\ \}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00859}00859\ }
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00860}\mbox{\hyperlink{gbgfx_8h_ac67a99cc1feaf73626bdeebcd476c33d}{00860}}\ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{gbgfx_8cpp_ac67a99cc1feaf73626bdeebcd476c33d}{loadBorder}}(\textcolor{keyword}{const}\ \textcolor{keywordtype}{char}\ *\mbox{\hyperlink{inputhelper_8cpp_a8c1e45e135261042ac6429a00328fe61}{filename}})}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00861}00861\ \{}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00862}00862\ \ \ \ \ FILE\ *file\ =\ fopen(\mbox{\hyperlink{inputhelper_8cpp_a8c1e45e135261042ac6429a00328fe61}{filename}},\ \textcolor{stringliteral}{"{}rb"{}});}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00863}00863\ \ \ \ \ \textcolor{keywordflow}{if}\ (file\ ==\ NULL)}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00864}00864\ \ \ \ \ \{}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00865}00865\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{gbgfx_8cpp_a6092e57bcfad6a29770fdc99f3f3b221}{customBorderExists}}\ =\ \textcolor{keyword}{false};}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00866}00866\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{console_8h_a67a8669d5dfb6c692da04af49dc4c510}{disableMenuOption}}(\textcolor{stringliteral}{"{}Custom\ Border"{}});}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00867}00867\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{console_8h_a62de465465602ecf44e199d8e1dc876a}{printLog}}(\textcolor{stringliteral}{"{}Error\ opening\ border.\(\backslash\)n"{}});}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00868}00868\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ 1;}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00869}00869\ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00870}00870\ \ \ \ \ \mbox{\hyperlink{console_8h_a5309114235fda699b310a34bb8dfe131}{enableMenuOption}}(\textcolor{stringliteral}{"{}Custom\ Border"{}});}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00871}00871\ \ \ \ \ \mbox{\hyperlink{gbgfx_8cpp_a6092e57bcfad6a29770fdc99f3f3b221}{customBorderExists}}\ =\ \textcolor{keyword}{true};}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00872}00872\ }
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00873}00873\ \ \ \ \ vramSetBankD(VRAM\_D\_MAIN\_BG\_0x06040000);}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00874}00874\ \ \ \ \ \textcolor{comment}{//\ Start\ loading}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00875}00875\ \ \ \ \ fseek(file,\ 0xe,\ SEEK\_SET);}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00876}00876\ \ \ \ \ u8\ pixelStart\ =\ (u8)fgetc(file)\ +\ 0xe;}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00877}00877\ \ \ \ \ fseek(file,\ pixelStart,\ SEEK\_SET);}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00878}00878\ \ \ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keywordtype}{int}\ y\ =\ 191;\ y\ >=\ 168;\ y-\/-\/)}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00879}00879\ \ \ \ \ \{}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00880}00880\ \ \ \ \ \ \ \ \ u16\ buffer[256];}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00881}00881\ \ \ \ \ \ \ \ \ fread(buffer,\ 2,\ 0x100,\ file);}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00882}00882\ \ \ \ \ \ \ \ \ u16\ *src\ =\ buffer;}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00883}00883\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keywordtype}{int}\ i\ =\ 0;\ i\ <\ 256;\ i++)}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00884}00884\ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00885}00885\ \ \ \ \ \ \ \ \ \ \ \ \ u16\ val\ =\ *(src++);}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00886}00886\ \ \ \ \ \ \ \ \ \ \ \ \ BG\_GFX[0x20000\ +\ y\ *\ 256\ +\ i]\ =\ ((val\ >>\ 10)\ \&\ 0x1f)\ |\ ((val)\ \&\ (0x1f\ <<\ 5))\ |\ (val\ \&\ 0x1f)\ <<\ 10\ |\ BIT(15);}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00887}00887\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00888}00888\ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00889}00889\ \ \ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keywordtype}{int}\ y\ =\ 167;\ y\ >=\ 24;\ y-\/-\/)}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00890}00890\ \ \ \ \ \{}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00891}00891\ \ \ \ \ \ \ \ \ u16\ buffer[256];}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00892}00892\ \ \ \ \ \ \ \ \ fread(buffer,\ 2,\ 256,\ file);}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00893}00893\ \ \ \ \ \ \ \ \ u16\ *src\ =\ buffer;}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00894}00894\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keywordtype}{int}\ i\ =\ 0;\ i\ <\ 48;\ i++)}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00895}00895\ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00896}00896\ \ \ \ \ \ \ \ \ \ \ \ \ u16\ val\ =\ *(src++);}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00897}00897\ \ \ \ \ \ \ \ \ \ \ \ \ BG\_GFX[0x20000\ +\ y\ *\ 256\ +\ i]\ =\ ((val\ >>\ 10)\ \&\ 0x1f)\ |\ ((val)\ \&\ (0x1f\ <<\ 5))\ |\ (val\ \&\ 0x1f)\ <<\ 10\ |\ BIT(15);}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00898}00898\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00899}00899\ \ \ \ \ \ \ \ \ src\ +=\ 160;}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00900}00900\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keywordtype}{int}\ i\ =\ 208;\ i\ <\ 256;\ i++)}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00901}00901\ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00902}00902\ \ \ \ \ \ \ \ \ \ \ \ \ u16\ val\ =\ *(src++);}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00903}00903\ \ \ \ \ \ \ \ \ \ \ \ \ BG\_GFX[0x20000\ +\ y\ *\ 256\ +\ i]\ =\ ((val\ >>\ 10)\ \&\ 0x1f)\ |\ ((val)\ \&\ (0x1f\ <<\ 5))\ |\ (val\ \&\ 0x1f)\ <<\ 10\ |\ BIT(15);}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00904}00904\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00905}00905\ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00906}00906\ \ \ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keywordtype}{int}\ y\ =\ 23;\ y\ >=\ 0;\ y-\/-\/)}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00907}00907\ \ \ \ \ \{}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00908}00908\ \ \ \ \ \ \ \ \ u16\ buffer[256];}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00909}00909\ \ \ \ \ \ \ \ \ fread(buffer,\ 2,\ 0x100,\ file);}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00910}00910\ \ \ \ \ \ \ \ \ u16\ *src\ =\ buffer;}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00911}00911\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keywordtype}{int}\ i\ =\ 0;\ i\ <\ 256;\ i++)}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00912}00912\ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00913}00913\ \ \ \ \ \ \ \ \ \ \ \ \ u16\ val\ =\ *(src++);}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00914}00914\ \ \ \ \ \ \ \ \ \ \ \ \ BG\_GFX[0x20000\ +\ y\ *\ 256\ +\ i]\ =\ ((val\ >>\ 10)\ \&\ 0x1f)\ |\ ((val)\ \&\ (0x1f\ <<\ 5))\ |\ (val\ \&\ 0x1f)\ <<\ 10\ |\ BIT(15);}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00915}00915\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00916}00916\ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00917}00917\ }
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00918}00918\ \ \ \ \ fclose(file);}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00919}00919\ }
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00920}00920\ \ \ \ \ \textcolor{keywordflow}{return}\ 0;}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00921}00921\ \}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00922}00922\ }
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00923}\mbox{\hyperlink{gbgfx_8h_aa830515ff224eeaa5ae76432a118cd98}{00923}}\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{gbgfx_8cpp_aa830515ff224eeaa5ae76432a118cd98}{checkBorder}}()}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00924}00924\ \{}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00925}00925\ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{gbgfx_8cpp_ae5d63a0df1fc230d6fb3b5c67314393d}{gbGraphicsDisabled}})}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00926}00926\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return};}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00927}00927\ }
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00928}00928\ \ \ \ \ \textcolor{keywordtype}{int}\ lastBorderType\ =\ \mbox{\hyperlink{gbgfx_8cpp_aef6032a39f08d1728cefcc4e8be2d437}{loadedBorderType}};}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00929}00929\ \ \ \ \ \textcolor{keywordtype}{int}\ nextBorderType\ =\ \mbox{\hyperlink{gbgfx_8h_abc6126af1d45847bc59afa0aa3216b04a6051477cfcc8ff5efefaf4147723d9a2}{BORDER\_NONE}};}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00930}00930\ }
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00931}00931\ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{gbgfx_8cpp_a134de385e7f51e7cb43357cf0bb4b624}{sgbBorderLoaded}}\ \&\&\ \mbox{\hyperlink{console_8h_a317ff7205cdf33838b77012ea9027eb7}{sgbBordersEnabled}})}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00932}00932\ \ \ \ \ \{}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00933}00933\ \ \ \ \ \ \ \ \ nextBorderType\ =\ \mbox{\hyperlink{gbgfx_8h_abc6126af1d45847bc59afa0aa3216b04a67fb865853b0b945451732f850cd550f}{BORDER\_SGB}};}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00934}00934\ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00935}00935\ }
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00936}00936\ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{console_8h_ad3e68069fa016efcb84ec2f382b74bc5}{customBordersEnabled}}\ \&\&\ \mbox{\hyperlink{gbgfx_8cpp_a156841b066241f0fedaeedc3b9bebe4f}{scaleMode}}\ ==\ 0\ \&\&\ nextBorderType\ ==\ \mbox{\hyperlink{gbgfx_8h_abc6126af1d45847bc59afa0aa3216b04a6051477cfcc8ff5efefaf4147723d9a2}{BORDER\_NONE}})}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00937}00937\ \ \ \ \ \{}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00938}00938\ \ \ \ \ \ \ \ \ nextBorderType\ =\ \mbox{\hyperlink{gbgfx_8h_abc6126af1d45847bc59afa0aa3216b04ac1bf7e07e233f14e0c57a02c1644b737}{BORDER\_CUSTOM}};}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00939}00939\ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00940}00940\ }
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00941}00941\ end:}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00942}00942\ \ \ \ \ \textcolor{comment}{/*}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00943}00943\ \textcolor{comment}{\ \ \ \ \ \ \ if\ (loadedBorderType\ ==\ nextBorderType)}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00944}00944\ \textcolor{comment}{\ \ \ \ \ \ \ return;}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00945}00945\ \textcolor{comment}{\ \ \ \ \ \ \ */}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00946}00946\ \ \ \ \ \mbox{\hyperlink{gbgfx_8cpp_aef6032a39f08d1728cefcc4e8be2d437}{loadedBorderType}}\ =\ nextBorderType;}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00947}00947\ }
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00948}00948\ \ \ \ \ \textcolor{keywordflow}{if}\ (nextBorderType\ ==\ \mbox{\hyperlink{gbgfx_8h_abc6126af1d45847bc59afa0aa3216b04a6051477cfcc8ff5efefaf4147723d9a2}{BORDER\_NONE}})}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00949}00949\ \ \ \ \ \{}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00950}00950\ \ \ \ \ \ \ \ \ WIN\_OUT\ =\ 0;}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00951}00951\ \ \ \ \ \ \ \ \ REG\_DISPCNT\ \&=\ \string~7;\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ Mode\ 0}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00952}00952\ \ \ \ \ \ \ \ \ BG\_PALETTE[0]\ =\ \mbox{\hyperlink{gbgfx_8cpp_a075aa9549fd1d8e0bde8b65e2233d169}{BACKDROP\_COLOUR}};\ \textcolor{comment}{//\ Reset\ backdrop\ (SGB\ borders\ use\ the\ backdrop)}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00953}00953\ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00954}00954\ \ \ \ \ \textcolor{keywordflow}{else}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00955}00955\ \ \ \ \ \{}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00956}00956\ \ \ \ \ \ \ \ \ WIN\_OUT\ =\ 1\ <<\ 3;}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00957}00957\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (nextBorderType\ ==\ \mbox{\hyperlink{gbgfx_8h_abc6126af1d45847bc59afa0aa3216b04a67fb865853b0b945451732f850cd550f}{BORDER\_SGB}})}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00958}00958\ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00959}00959\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{gbgfx_8cpp_a6152d90bc27302b3fcd92f4973a2401c}{loadSGBBorder}}();}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00960}00960\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00961}00961\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{else}\ \textcolor{keywordflow}{if}\ (nextBorderType\ ==\ \mbox{\hyperlink{gbgfx_8h_abc6126af1d45847bc59afa0aa3216b04ac1bf7e07e233f14e0c57a02c1644b737}{BORDER\_CUSTOM}})}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00962}00962\ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00963}00963\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (lastBorderType\ !=\ \mbox{\hyperlink{gbgfx_8h_abc6126af1d45847bc59afa0aa3216b04ac1bf7e07e233f14e0c57a02c1644b737}{BORDER\_CUSTOM}})}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00964}00964\ \ \ \ \ \ \ \ \ \ \ \ \ \{\ \textcolor{comment}{//\ Don't\ reload\ if\ it's\ already\ loaded}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00965}00965\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ videoBgDisable(3);}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00966}00966\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ Set\ up\ background}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00967}00967\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ REG\_DISPCNT\ \&=\ \string~7;}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00968}00968\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ REG\_DISPCNT\ |=\ 3;\ \textcolor{comment}{//\ Mode\ 3}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00969}00969\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ REG\_BG3CNT\ =\ BG\_MAP\_BASE(16)\ |\ BG\_BMP16\_256x256;}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00970}00970\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ REG\_BG3X\ =\ 0;}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00971}00971\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ REG\_BG3Y\ =\ 0;}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00972}00972\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ REG\_BG3PA\ =\ 1\ <<\ 8;}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00973}00973\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ REG\_BG3PB\ =\ 0;}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00974}00974\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ REG\_BG3PC\ =\ 0;}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00975}00975\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ REG\_BG3PD\ =\ 1\ <<\ 8;}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00976}00976\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ videoBgEnable(3);}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00977}00977\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{gbgfx_8cpp_ac67a99cc1feaf73626bdeebcd476c33d}{loadBorder}}(\mbox{\hyperlink{inputhelper_8h_afb9e9630607fb784a26fade843b3a663}{borderPath}})\ ==\ 1)}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00978}00978\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00979}00979\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ nextBorderType\ =\ \mbox{\hyperlink{gbgfx_8h_abc6126af1d45847bc59afa0aa3216b04a6051477cfcc8ff5efefaf4147723d9a2}{BORDER\_NONE}};}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00980}00980\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{goto}\ end;}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00981}00981\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00982}00982\ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00983}00983\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00984}00984\ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00985}00985\ \}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00986}\mbox{\hyperlink{gbgfx_8h_addf38491f7aa4075fc1bb2eb2fe2d096}{00986}}\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{gbgfx_8cpp_addf38491f7aa4075fc1bb2eb2fe2d096}{refreshScaleMode}}()}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00987}00987\ \{}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00988}00988\ \ \ \ \ \textcolor{keywordtype}{int}\ BG2PA,\ BG2PB,\ BG2PC,\ BG2PD;}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00989}00989\ }
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00990}00990\ \ \ \ \ \mbox{\hyperlink{gbgfx_8cpp_aa830515ff224eeaa5ae76432a118cd98}{checkBorder}}();}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00991}00991\ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{gbgfx_8cpp_a156841b066241f0fedaeedc3b9bebe4f}{scaleMode}}\ ==\ 0)}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00992}00992\ \ \ \ \ \{}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00993}00993\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return};}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00994}00994\ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00995}00995\ }
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00996}00996\ \ \ \ \ videoSetModeSub(MODE\_5\_2D);}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00997}00997\ \ \ \ \ videoBgDisableSub(0);}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00998}00998\ \ \ \ \ videoBgDisableSub(1);}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00999}00999\ \ \ \ \ bgInitSub(2,\ BgType\_Bmp16,\ BgSize\_B16\_256x256,\ 0,\ 0);}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01000}01000\ \ \ \ \ bgInitSub(3,\ BgType\_Bmp16,\ BgSize\_B16\_256x256,\ 0,\ 0);}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01001}01001\ }
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01002}01002\ \ \ \ \ \textcolor{keywordflow}{switch}\ (\mbox{\hyperlink{gbgfx_8cpp_a156841b066241f0fedaeedc3b9bebe4f}{scaleMode}})}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01003}01003\ \ \ \ \ \{}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01004}01004\ \ \ \ \ \textcolor{keywordflow}{case}\ 1:\ \textcolor{comment}{//\ Aspect}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01005}01005\ \ \ \ \ \{}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01006}01006\ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ \textcolor{keywordtype}{double}\ scaleFactor\ =\ (double)191\ /\ 144\ +\ 0.125\ /\ 144;}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01007}01007\ \ \ \ \ \ \ \ \ BG2PA\ =\ (1\ <<\ 8)\ /\ scaleFactor;}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01008}01008\ \ \ \ \ \ \ \ \ BG2PB\ =\ 0;}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01009}01009\ \ \ \ \ \ \ \ \ BG2PC\ =\ 0;}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01010}01010\ \ \ \ \ \ \ \ \ BG2PD\ =\ (1\ <<\ 8)\ /\ scaleFactor;}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01011}01011\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{int}\ x\ =\ (256\ -\/\ 160\ *\ scaleFactor)\ /\ 2;}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01012}01012\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{gbgfx_8cpp_af3e8557b7fc26006b9850248932ddf8b}{SCALE\_BGX}}\ =\ (1\ <<\ 8)\ *\ (\mbox{\hyperlink{gbgfx_8cpp_a285192f5390f5531ee1cca872f957d2d}{screenOffsX}}\ -\/\ x\ /\ scaleFactor\ +\ 0.5);}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01013}01013\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{gbgfx_8cpp_a2f95b3058774b52ad7e38b3f5c7174f5}{SCALE\_BGY}}\ =\ 1\ <<\ 7;\ \textcolor{comment}{//\ 0.5}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01014}01014\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{break};}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01015}01015\ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01016}01016\ \ \ \ \ \textcolor{keywordflow}{case}\ 2:\ \textcolor{comment}{//\ Full}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01017}01017\ \ \ \ \ \{}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01018}01018\ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ \textcolor{keywordtype}{double}\ scaleFactorX\ =\ (double)255\ /\ 160;}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01019}01019\ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ \textcolor{keywordtype}{double}\ scaleFactorY\ =\ (double)191\ /\ 144\ +\ 0.125\ /\ 144;}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01020}01020\ \ \ \ \ \ \ \ \ BG2PA\ =\ (1\ <<\ 8)\ /\ (scaleFactorX);}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01021}01021\ \ \ \ \ \ \ \ \ BG2PB\ =\ 0;}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01022}01022\ \ \ \ \ \ \ \ \ BG2PC\ =\ 0;}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01023}01023\ \ \ \ \ \ \ \ \ BG2PD\ =\ (1\ <<\ 8)\ /\ (scaleFactorY);}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01024}01024\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{gbgfx_8cpp_af3e8557b7fc26006b9850248932ddf8b}{SCALE\_BGX}}\ =\ (1\ <<\ 8)\ *\ (\mbox{\hyperlink{gbgfx_8cpp_a285192f5390f5531ee1cca872f957d2d}{screenOffsX}}\ -\/\ (256\ -\/\ 160\ *\ scaleFactorX)\ /\ 2\ /\ (scaleFactorX)\ +\ 0.5);}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01025}01025\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{gbgfx_8cpp_a2f95b3058774b52ad7e38b3f5c7174f5}{SCALE\_BGY}}\ =\ 1\ <<\ 7;\ \textcolor{comment}{//\ 0.5}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01026}01026\ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01027}01027\ \ \ \ \ \textcolor{keywordflow}{break};}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01028}01028\ \ \ \ \ \textcolor{keywordflow}{default}:}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01029}01029\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return};}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01030}01030\ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01031}01031\ }
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01032}01032\ \ \ \ \ REG\_BLDCNT\_SUB\ =\ 1\ <<\ 2\ |\ 1\ <<\ 11\ |\ 1\ <<\ 6;}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01033}01033\ \ \ \ \ REG\_BLDALPHA\_SUB\ =\ 8\ |\ 8\ <<\ 8;}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01034}01034\ }
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01035}01035\ \ \ \ \ REG\_BG2X\_SUB\ =\ \mbox{\hyperlink{gbgfx_8cpp_af3e8557b7fc26006b9850248932ddf8b}{SCALE\_BGX}};}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01036}01036\ \ \ \ \ REG\_BG2Y\_SUB\ =\ \mbox{\hyperlink{gbgfx_8cpp_a2f95b3058774b52ad7e38b3f5c7174f5}{SCALE\_BGY}};}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01037}01037\ \ \ \ \ REG\_BG2PA\_SUB\ =\ BG2PA;}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01038}01038\ \ \ \ \ REG\_BG2PB\_SUB\ =\ BG2PB;}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01039}01039\ \ \ \ \ REG\_BG2PC\_SUB\ =\ BG2PC;}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01040}01040\ \ \ \ \ REG\_BG2PD\_SUB\ =\ BG2PD;}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01041}01041\ }
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01042}01042\ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{gbgfx_8cpp_a89e8f23cbae54ca6f6935daecbb1c5c5}{scaleFilter}}\ ==\ 1)}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01043}01043\ \ \ \ \ \{}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01044}01044\ \ \ \ \ \ \ \ \ REG\_BG3X\_SUB\ =\ \mbox{\hyperlink{gbgfx_8cpp_af3e8557b7fc26006b9850248932ddf8b}{SCALE\_BGX}};}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01045}01045\ \ \ \ \ \ \ \ \ REG\_BG3Y\_SUB\ =\ \mbox{\hyperlink{gbgfx_8cpp_a2f95b3058774b52ad7e38b3f5c7174f5}{SCALE\_BGY}};}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01046}01046\ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01047}01047\ \ \ \ \ \textcolor{keywordflow}{else}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01048}01048\ \ \ \ \ \{}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01049}01049\ \ \ \ \ \ \ \ \ REG\_BG3X\_SUB\ =\ \mbox{\hyperlink{gbgfx_8cpp_af3e8557b7fc26006b9850248932ddf8b}{SCALE\_BGX}};}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01050}01050\ \ \ \ \ \ \ \ \ REG\_BG3Y\_SUB\ =\ \mbox{\hyperlink{gbgfx_8cpp_a2f95b3058774b52ad7e38b3f5c7174f5}{SCALE\_BGY}};}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01051}01051\ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01052}01052\ \ \ \ \ REG\_BG3PA\_SUB\ =\ BG2PA;}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01053}01053\ \ \ \ \ REG\_BG3PB\_SUB\ =\ BG2PB;}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01054}01054\ \ \ \ \ REG\_BG3PC\_SUB\ =\ BG2PC;}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01055}01055\ \ \ \ \ REG\_BG3PD\_SUB\ =\ BG2PD;}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01056}01056\ \}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01057}01057\ }
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01058}\mbox{\hyperlink{gbgfx_8h_ab7865df132d4b365722a1ff879942afc}{01058}}\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{gbgfx_8cpp_ab7865df132d4b365722a1ff879942afc}{setGFXMask}}(\textcolor{keywordtype}{int}\ mask)}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01059}01059\ \{}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01060}01060\ \ \ \ \ \mbox{\hyperlink{gbgfx_8cpp_a0e19dccb2272e5ec93cee1dbe5b3fee3}{gfxMask}}\ =\ mask;}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01061}01061\ \ \ \ \ \mbox{\hyperlink{console_8h_a62de465465602ecf44e199d8e1dc876a}{printLog}}(\textcolor{stringliteral}{"{}Mask\ \%d\(\backslash\)n"{}},\ \mbox{\hyperlink{gbgfx_8cpp_a0e19dccb2272e5ec93cee1dbe5b3fee3}{gfxMask}});}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01062}01062\ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{gbgfx_8cpp_a0e19dccb2272e5ec93cee1dbe5b3fee3}{gfxMask}}\ ==\ 0)}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01063}01063\ \ \ \ \ \{}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01064}01064\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{gbgfx_8cpp_aef6032a39f08d1728cefcc4e8be2d437}{loadedBorderType}}\ !=\ \mbox{\hyperlink{gbgfx_8h_abc6126af1d45847bc59afa0aa3216b04a6051477cfcc8ff5efefaf4147723d9a2}{BORDER\_NONE}})}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01065}01065\ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01066}01066\ \ \ \ \ \ \ \ \ \ \ \ \ videoBgEnable(3);}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01067}01067\ \ \ \ \ \ \ \ \ \ \ \ \ BG\_PALETTE[0]\ =\ \mbox{\hyperlink{gbgfx_8h_a254d3c52c2ae7fff61e52168c0c37e86}{bgPaletteData}}[0]\ |\ \mbox{\hyperlink{gbgfx_8h_a254d3c52c2ae7fff61e52168c0c37e86}{bgPaletteData}}[1]\ <<\ 8;}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01068}01068\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01069}01069\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{gbgfx_8cpp_adf5931a286627b99da8d76dc7eb033df}{winPosY}}\ =\ -\/1;}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01070}01070\ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01071}01071\ \}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01072}01072\ }
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01073}\mbox{\hyperlink{gbgfx_8h_a3ab71e5f2db0803412a7e58751bbfe9a}{01073}}\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{gbgfx_8cpp_a3ab71e5f2db0803412a7e58751bbfe9a}{setSgbTiles}}(u8\ *src,\ u8\ flags)}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01074}01074\ \{}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01075}01075\ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{gbgfx_8cpp_a0e19dccb2272e5ec93cee1dbe5b3fee3}{gfxMask}}\ !=\ 0\ \&\&\ \mbox{\hyperlink{gbgfx_8cpp_aef6032a39f08d1728cefcc4e8be2d437}{loadedBorderType}}\ !=\ \mbox{\hyperlink{gbgfx_8h_abc6126af1d45847bc59afa0aa3216b04a6051477cfcc8ff5efefaf4147723d9a2}{BORDER\_NONE}})}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01076}01076\ \ \ \ \ \{}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01077}01077\ \ \ \ \ \ \ \ \ videoBgDisable(3);}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01078}01078\ \ \ \ \ \ \ \ \ BG\_PALETTE[0]\ =\ \mbox{\hyperlink{gbgfx_8cpp_a075aa9549fd1d8e0bde8b65e2233d169}{BACKDROP\_COLOUR}};}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01079}01079\ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01080}01080\ \ \ \ \ \textcolor{keywordtype}{int}\ index\ =\ 0,\ srcIndex\ =\ 0;}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01081}01081\ \ \ \ \ \textcolor{keywordflow}{if}\ (flags\ \&\ 1)}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01082}01082\ \ \ \ \ \ \ \ \ index\ +=\ 0x80\ *\ 16;}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01083}01083\ \ \ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keywordtype}{int}\ i\ =\ 0;\ i\ <\ 128;\ i++)}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01084}01084\ \ \ \ \ \{}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01085}01085\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keywordtype}{int}\ y\ =\ 0;\ y\ <\ 8;\ y++)}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01086}01086\ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01087}01087\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{int}\ b1\ =\ src[srcIndex];}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01088}01088\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{int}\ b2\ =\ src[srcIndex\ +\ 1]\ <<\ 1;}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01089}01089\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{int}\ b3\ =\ src[srcIndex\ +\ 16]\ <<\ 2;}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01090}01090\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{int}\ b4\ =\ src[srcIndex\ +\ 17]\ <<\ 3;}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01091}01091\ \ \ \ \ \ \ \ \ \ \ \ \ srcIndex\ +=\ 2;}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01092}01092\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{int}\ bb0\ =\ 0,\ bb1\ =\ 0;}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01093}01093\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{int}\ shift\ =\ 12;}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01094}01094\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keywordtype}{int}\ x\ =\ 0;\ x\ <\ 4;\ x++)}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01095}01095\ \ \ \ \ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01096}01096\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{int}\ colorid\ =\ b1\ \&\ 1;}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01097}01097\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ b1\ >>=\ 1;}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01098}01098\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ colorid\ |=\ b2\ \&\ 2;}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01099}01099\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ b2\ >>=\ 1;}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01100}01100\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ colorid\ |=\ b3\ \&\ 4;}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01101}01101\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ b3\ >>=\ 1;}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01102}01102\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ colorid\ |=\ b4\ \&\ 8;}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01103}01103\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ b4\ >>=\ 1;}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01104}01104\ }
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01105}01105\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ bb1\ |=\ (colorid\ <<\ shift);}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01106}01106\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ shift\ -\/=\ 4;}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01107}01107\ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01108}01108\ \ \ \ \ \ \ \ \ \ \ \ \ shift\ =\ 12;}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01109}01109\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keywordtype}{int}\ x\ =\ 0;\ x\ <\ 4;\ x++)}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01110}01110\ \ \ \ \ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01111}01111\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{int}\ colorid\ =\ b1\ \&\ 1;}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01112}01112\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ b1\ >>=\ 1;}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01113}01113\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ colorid\ |=\ b2\ \&\ 2;}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01114}01114\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ b2\ >>=\ 1;}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01115}01115\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ colorid\ |=\ b3\ \&\ 4;}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01116}01116\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ b3\ >>=\ 1;}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01117}01117\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ colorid\ |=\ b4\ \&\ 8;}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01118}01118\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ b4\ >>=\ 1;}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01119}01119\ }
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01120}01120\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ bb0\ |=\ (colorid\ <<\ shift);}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01121}01121\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ shift\ -\/=\ 4;}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01122}01122\ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01123}01123\ \ \ \ \ \ \ \ \ \ \ \ \ BG\_GFX[0x18000\ +\ index++]\ =\ bb0;}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01124}01124\ \ \ \ \ \ \ \ \ \ \ \ \ BG\_GFX[0x18000\ +\ index++]\ =\ bb1;}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01125}01125\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01126}01126\ \ \ \ \ \ \ \ \ srcIndex\ +=\ 16;}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01127}01127\ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01128}01128\ \}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01129}01129\ }
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01130}\mbox{\hyperlink{gbgfx_8h_a8535091adb0cef3f5ddd47d30e6015bb}{01130}}\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{gbgfx_8cpp_a8535091adb0cef3f5ddd47d30e6015bb}{setSgbMap}}(u8\ *src)}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01131}01131\ \{}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01132}01132\ \ \ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keywordtype}{int}\ i\ =\ 0;\ i\ <\ 32\ *\ 32;\ i++)}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01133}01133\ \ \ \ \ \{}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01134}01134\ \ \ \ \ \ \ \ \ u16\ val\ =\ ((u16\ *)src)[i];}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01135}01135\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{int}\ tile\ =\ val\ \&\ 0xff;}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01136}01136\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{int}\ paletteid\ =\ ((val\ >>\ 10)\ \&\ 3)\ +\ 8;}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01137}01137\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{int}\ flipX\ =\ (val\ >>\ 14)\ \&\ 1;}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01138}01138\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{int}\ flipY\ =\ (val\ >>\ 15)\ \&\ 1;}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01139}01139\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{gbgfx_8cpp_a1098ad62439e76ffa2cc640296a8d9f1}{borderMap}}[i]\ =\ tile\ |\ (paletteid\ <<\ 12)\ |\ (flipX\ <<\ 10)\ |\ (flipY\ <<\ 11);}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01140}01140\ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01141}01141\ }
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01142}01142\ \ \ \ \ DC\_FlushRange(src\ +\ 0x800,\ 0x80);}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01143}01143\ \ \ \ \ dmaCopy(src\ +\ 0x800,\ BG\_PALETTE\ +\ 8\ *\ 16,\ 0x80);}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01144}01144\ }
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01145}01145\ \ \ \ \ \mbox{\hyperlink{gbgfx_8cpp_a134de385e7f51e7cb43357cf0bb4b624}{sgbBorderLoaded}}\ =\ \textcolor{keyword}{true};}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01146}01146\ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{console_8h_a317ff7205cdf33838b77012ea9027eb7}{sgbBordersEnabled}})}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01147}01147\ \ \ \ \ \{}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01148}01148\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{gbgfx_8cpp_a6152d90bc27302b3fcd92f4973a2401c}{loadSGBBorder}}();}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01149}01149\ }
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01150}01150\ \ \ \ \ \ \ \ \ BG\_PALETTE[0]\ =\ \mbox{\hyperlink{gbgfx_8h_a254d3c52c2ae7fff61e52168c0c37e86}{bgPaletteData}}[0]\ |\ \mbox{\hyperlink{gbgfx_8h_a254d3c52c2ae7fff61e52168c0c37e86}{bgPaletteData}}[1]\ <<\ 8;}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01151}01151\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{gameboy_8h_af9fb33f9e0c7674ff242adfb4fa0e1b0}{probingForBorder}})}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01152}01152\ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01153}01153\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{gameboy_8h_af9fb33f9e0c7674ff242adfb4fa0e1b0}{probingForBorder}}\ =\ \textcolor{keyword}{false};}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01154}01154\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{gameboy_8h_aa1504f6d72b07740c4e0839f08d92ae6}{resetGameboy}}();}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01155}01155\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01156}01156\ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01157}01157\ \}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01158}01158\ }
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01159}\mbox{\hyperlink{gbgfx_8cpp_a60975f999e5000cce01f957e5061efc2}{01159}}\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{gbgfx_8cpp_a60975f999e5000cce01f957e5061efc2}{updateTileMaps}}()}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01160}01160\ \{}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01161}01161\ \ \ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keywordtype}{int}\ m\ =\ 0;\ m\ <\ 2;\ m++)}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01162}01162\ \ \ \ \ \{}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01163}01163\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{while}\ (\mbox{\hyperlink{gbgfx_8cpp_aad42beb02a7313afa3778db5e804f851}{changedMapQueueLength}}[m]\ !=\ 0)}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01164}01164\ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01165}01165\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{int}\ tile\ =\ \mbox{\hyperlink{gbgfx_8cpp_a9d36dda4f8424acfa6e750cbb86fac06}{changedMapQueue}}[m][-\/-\/\mbox{\hyperlink{gbgfx_8cpp_aad42beb02a7313afa3778db5e804f851}{changedMapQueueLength}}[m]];}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01166}01166\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{gbgfx_8cpp_abaa5f65ef32cc80bd17ba14c47984536}{updateTileMap}}(m,\ tile);}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01167}01167\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01168}01168\ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01169}01169\ \}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01170}\mbox{\hyperlink{gbgfx_8cpp_abaa5f65ef32cc80bd17ba14c47984536}{01170}}\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{gbgfx_8cpp_abaa5f65ef32cc80bd17ba14c47984536}{updateTileMap}}(\textcolor{keywordtype}{int}\ m,\ \textcolor{keywordtype}{int}\ i)}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01171}01171\ \{}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01172}01172\ \ \ \ \ \mbox{\hyperlink{gbgfx_8cpp_a7a79512469ed835be49735d7e6233390}{changedMap}}[m][i]\ =\ \textcolor{keyword}{false};}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01173}01173\ \ \ \ \ \textcolor{keywordtype}{int}\ mapAddr\ =\ (m\ ?\ 0x1c00\ +\ i\ :\ 0x1800\ +\ i);}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01174}01174\ \ \ \ \ \textcolor{keywordtype}{int}\ tileNum\ =\ \mbox{\hyperlink{mmu_8h_a7d0ed1b85995cb654491c9e0958abed2}{vram}}[0][mapAddr];}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01175}01175\ }
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01176}01176\ \ \ \ \ \textcolor{keywordtype}{int}\ bank\ =\ 0;}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01177}01177\ \ \ \ \ \textcolor{keywordtype}{int}\ flipX\ =\ 0,\ flipY\ =\ 0;}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01178}01178\ \ \ \ \ \textcolor{keywordtype}{int}\ paletteid\ =\ 0;}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01179}01179\ \ \ \ \ \textcolor{keywordtype}{int}\ priority\ =\ 0;}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01180}01180\ }
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01181}01181\ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{gameboy_8h_af3ddfcff387d53e03211aeaa7a0c14ef}{gbMode}}\ ==\ \mbox{\hyperlink{gbcpu_8h_a5d6a36e6c1ec6aad48d2db4868de600c}{CGB}})}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01182}01182\ \ \ \ \ \{}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01183}01183\ \ \ \ \ \ \ \ \ flipX\ =\ !!(\mbox{\hyperlink{mmu_8h_a7d0ed1b85995cb654491c9e0958abed2}{vram}}[1][mapAddr]\ \&\ 0x20);}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01184}01184\ \ \ \ \ \ \ \ \ flipY\ =\ !!(\mbox{\hyperlink{mmu_8h_a7d0ed1b85995cb654491c9e0958abed2}{vram}}[1][mapAddr]\ \&\ 0x40);}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01185}01185\ \ \ \ \ \ \ \ \ bank\ =\ !!(\mbox{\hyperlink{mmu_8h_a7d0ed1b85995cb654491c9e0958abed2}{vram}}[1][mapAddr]\ \&\ 0x8);}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01186}01186\ \ \ \ \ \ \ \ \ paletteid\ =\ \mbox{\hyperlink{mmu_8h_a7d0ed1b85995cb654491c9e0958abed2}{vram}}[1][mapAddr]\ \&\ 0x7;}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01187}01187\ \ \ \ \ \ \ \ \ priority\ =\ !!(\mbox{\hyperlink{mmu_8h_a7d0ed1b85995cb654491c9e0958abed2}{vram}}[1][mapAddr]\ \&\ 0x80);}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01188}01188\ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01189}01189\ \ \ \ \ \textcolor{keywordflow}{if}\ (priority)}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01190}01190\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{gbgfx_8cpp_adb86ece52e11b17321b0ba3ae9b2710a}{overlayMap}}[m][i]\ =\ (tileNum\ +\ (bank\ *\ 0x100))\ |\ (paletteid\ <<\ 12)\ |\ (flipX\ <<\ 10)\ |\ (flipY\ <<\ 11);}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01191}01191\ \ \ \ \ \textcolor{keywordflow}{else}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01192}01192\ \ \ \ \ \{}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01193}01193\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{gbgfx_8cpp_adb86ece52e11b17321b0ba3ae9b2710a}{overlayMap}}[m][i]\ =\ 0x300;}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01194}01194\ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01195}01195\ \ \ \ \ \mbox{\hyperlink{gbgfx_8cpp_a1e800a6a0ab719ff1af9a81efd02877a}{map}}[m][i]\ =\ (tileNum\ +\ (bank\ *\ 0x100))\ |\ (paletteid\ <<\ 12)\ |\ (flipX\ <<\ 10)\ |\ (flipY\ <<\ 11);}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01196}01196\ \ \ \ \ \mbox{\hyperlink{gbgfx_8cpp_a11c5fa757d50eb2a76a07eab96e06af2}{color0Map}}[m][i]\ =\ paletteid\ <<\ 12;}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01197}01197\ \}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01198}01198\ }
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01199}\mbox{\hyperlink{gbgfx_8cpp_a27a1116d3f41a4a2d146cf8386b99bdd}{01199}}\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{gbgfx_8cpp_a27a1116d3f41a4a2d146cf8386b99bdd}{drawTile}}(\textcolor{keywordtype}{int}\ tileNum,\ \textcolor{keywordtype}{int}\ bank)}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01200}01200\ \{}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01201}01201\ \ \ \ \ \textcolor{keywordtype}{int}\ index\ =\ (tileNum\ <<\ 4)\ +\ (bank\ *\ 0x100\ *\ 16);}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01202}01202\ \ \ \ \ \textcolor{keywordtype}{int}\ signedIndex\ =\ index;}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01203}01203\ \ \ \ \ \textcolor{keywordflow}{if}\ (tileNum\ >=\ 0x100)}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01204}01204\ \ \ \ \ \ \ \ \ signedIndex\ -\/=\ (0x100\ <<\ 4);}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01205}01205\ }
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01206}01206\ \ \ \ \ \textcolor{keywordtype}{bool}\ unsign\ =\ tileNum\ <\ 0x100;}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01207}01207\ \ \ \ \ \textcolor{keywordtype}{bool}\ sign\ =\ tileNum\ >=\ 0x80;}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01208}01208\ \ \ \ \ u8\ *src\ =\ \&\mbox{\hyperlink{mmu_8h_a7d0ed1b85995cb654491c9e0958abed2}{vram}}[bank][tileNum\ <<\ 4];}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01209}01209\ \ \ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keywordtype}{int}\ y\ =\ 0;\ y\ <\ 8;\ y++)}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01210}01210\ \ \ \ \ \{}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01211}01211\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{int}\ b1\ =\ *(src++);}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01212}01212\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{int}\ b2\ =\ *(src++)\ <<\ 1;}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01213}01213\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{int}\ bb0\ =\ 0,\ bb1\ =\ 0;}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01214}01214\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{int}\ fb0\ =\ 0,\ fb1\ =\ 0;}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01215}01215\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{int}\ sb0\ =\ 0,\ sb1\ =\ 0;}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01216}01216\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{int}\ shift\ =\ 12;}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01217}01217\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keywordtype}{int}\ x\ =\ 0;\ x\ <\ 4;\ x++)}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01218}01218\ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01219}01219\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{int}\ colorid\ =\ b1\ \&\ 1;}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01220}01220\ \ \ \ \ \ \ \ \ \ \ \ \ b1\ >>=\ 1;}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01221}01221\ \ \ \ \ \ \ \ \ \ \ \ \ colorid\ |=\ b2\ \&\ 2;}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01222}01222\ \ \ \ \ \ \ \ \ \ \ \ \ b2\ >>=\ 1;}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01223}01223\ }
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01224}01224\ \ \ \ \ \ \ \ \ \ \ \ \ fb1\ |=\ (colorid\ +\ 1)\ <<\ shift;}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01225}01225\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (colorid\ !=\ 0)}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01226}01226\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ bb1\ |=\ ((colorid\ +\ 1)\ <<\ shift);}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01227}01227\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (unsign)}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01228}01228\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ sb1\ |=\ (colorid\ <<\ shift);}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01229}01229\ \ \ \ \ \ \ \ \ \ \ \ \ shift\ -\/=\ 4;}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01230}01230\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01231}01231\ \ \ \ \ \ \ \ \ shift\ =\ 12;}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01232}01232\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keywordtype}{int}\ x\ =\ 0;\ x\ <\ 4;\ x++)}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01233}01233\ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01234}01234\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{int}\ colorid\ =\ b1\ \&\ 1;}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01235}01235\ \ \ \ \ \ \ \ \ \ \ \ \ b1\ >>=\ 1;}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01236}01236\ \ \ \ \ \ \ \ \ \ \ \ \ colorid\ |=\ b2\ \&\ 2;}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01237}01237\ \ \ \ \ \ \ \ \ \ \ \ \ b2\ >>=\ 1;}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01238}01238\ }
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01239}01239\ \ \ \ \ \ \ \ \ \ \ \ \ fb0\ |=\ (colorid\ +\ 1)\ <<\ shift;}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01240}01240\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (colorid\ !=\ 0)}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01241}01241\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ bb0\ |=\ ((colorid\ +\ 1)\ <<\ shift);}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01242}01242\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (unsign)}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01243}01243\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ sb0\ |=\ (colorid\ <<\ shift);}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01244}01244\ \ \ \ \ \ \ \ \ \ \ \ \ shift\ -\/=\ 4;}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01245}01245\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01246}01246\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (unsign)}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01247}01247\ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01248}01248\ \ \ \ \ \ \ \ \ \ \ \ \ BG\_GFX[0x8000\ +\ index]\ =\ bb0;}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01249}01249\ \ \ \ \ \ \ \ \ \ \ \ \ BG\_GFX[0x8000\ +\ index\ +\ 1]\ =\ bb1;}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01250}01250\ \ \ \ \ \ \ \ \ \ \ \ \ BG\_GFX[0x10000\ +\ index]\ =\ fb0;}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01251}01251\ \ \ \ \ \ \ \ \ \ \ \ \ BG\_GFX[0x10000\ +\ index\ +\ 1]\ =\ fb1;}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01252}01252\ \ \ \ \ \ \ \ \ \ \ \ \ SPRITE\_GFX[index++]\ =\ sb0;}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01253}01253\ \ \ \ \ \ \ \ \ \ \ \ \ SPRITE\_GFX[index++]\ =\ sb1;}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01254}01254\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01255}01255\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (sign)}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01256}01256\ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01257}01257\ \ \ \ \ \ \ \ \ \ \ \ \ BG\_GFX[0xc000\ +\ signedIndex]\ =\ bb0;}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01258}01258\ \ \ \ \ \ \ \ \ \ \ \ \ BG\_GFX[0xc000\ +\ signedIndex\ +\ 1]\ =\ bb1;}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01259}01259\ \ \ \ \ \ \ \ \ \ \ \ \ BG\_GFX[0x14000\ +\ signedIndex++]\ =\ fb0;}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01260}01260\ \ \ \ \ \ \ \ \ \ \ \ \ BG\_GFX[0x14000\ +\ signedIndex++]\ =\ fb1;}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01261}01261\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01262}01262\ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01263}01263\ \}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01264}01264\ }
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01265}01265\ \textcolor{comment}{//\ Currently\ not\ actually\ used}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01266}\mbox{\hyperlink{gbgfx_8cpp_a211a591c0c34da3c0e17a95361b3b6ab}{01266}}\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{gbgfx_8cpp_a211a591c0c34da3c0e17a95361b3b6ab}{copyTile}}(u8\ *src,\ u16\ *dest)}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01267}01267\ \{}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01268}01268\ \ \ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keywordtype}{int}\ y\ =\ 0;\ y\ <\ 8;\ y++)}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01269}01269\ \ \ \ \ \{}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01270}01270\ \ \ \ \ \ \ \ \ dest[y\ *\ 2]\ =\ 0;}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01271}01271\ \ \ \ \ \ \ \ \ dest[y\ *\ 2\ +\ 1]\ =\ 0;}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01272}01272\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{int}\ index\ =\ y\ *\ 2;}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01273}01273\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keywordtype}{int}\ x\ =\ 0;\ x\ <\ 8;\ x++)}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01274}01274\ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01275}01275\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{int}\ colorid;}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01276}01276\ \ \ \ \ \ \ \ \ \ \ \ \ colorid\ =\ !!(src[index]\ \&\ (0x80\ >>\ x));}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01277}01277\ \ \ \ \ \ \ \ \ \ \ \ \ colorid\ |=\ !!(src[index\ +\ 1]\ \&\ (0x80\ >>\ x))\ <<\ 1;}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01278}01278\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{int}\ orValue\ =\ (colorid\ <<\ ((x\ \%\ 4)\ *\ 4));}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01279}01279\ \ \ \ \ \ \ \ \ \ \ \ \ dest[y\ *\ 2\ +\ x\ /\ 4]\ |=\ orValue;}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01280}01280\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01281}01281\ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01282}01282\ \}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01283}01283\ }
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01284}\mbox{\hyperlink{gbgfx_8h_a156e6af1e5bbf84cd59aaa74d204ee77}{01284}}\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{gbgfx_8cpp_a156e6af1e5bbf84cd59aaa74d204ee77}{drawScreen}}()}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01285}01285\ \{}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01286}01286\ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{gameboy_8h_af9fb33f9e0c7674ff242adfb4fa0e1b0}{probingForBorder}})}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01287}01287\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return};}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01288}01288\ }
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01289}01289\ \ \ \ \ \textcolor{keywordflow}{if}\ (!(\mbox{\hyperlink{gameboy_8h_ac86f7a6e55f0899d62d5f4424821826a}{fastForwardMode}}\ ||\ \mbox{\hyperlink{gameboy_8h_a7a001fcbf25fa32416413978771c6194}{fastForwardKey}}))}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01290}01290\ \ \ \ \ \{}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01291}01291\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{gbgfx_8cpp_aa419499bc88635e3e3e2ad6616e17563}{interruptWaitMode}}\ ==\ 1)\ \textcolor{comment}{//\ Always\ wait\ for\ Vblank.}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01292}01292\ \ \ \ \ \ \ \ \ \ \ \ \ swiWaitForVBlank();}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01293}01293\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{else}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01294}01294\ \ \ \ \ \ \ \ \ \{\ \textcolor{comment}{//\ Continue\ if\ we've\ passed\ vblank.}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01295}01295\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (!\mbox{\hyperlink{gbgfx_8cpp_a5458fb138ca4b8f989873109fd0c53d7}{didVblank}})}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01296}01296\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ swiWaitForVBlank();}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01297}01297\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01298}01298\ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01299}01299\ \ \ \ \ \mbox{\hyperlink{gbgfx_8cpp_a5458fb138ca4b8f989873109fd0c53d7}{didVblank}}\ =\ \textcolor{keyword}{false};}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01300}01300\ }
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01301}01301\ \ \ \ \ \mbox{\hyperlink{main_8c_a2bb32c52cb5d21be737aaa2aefb353d4}{sharedData}}-\/>\mbox{\hyperlink{struct_shared_data_a375385b4dc726b4c0edae7a2b438ce48}{frameFlip\_Gameboy}}\ =\ !\mbox{\hyperlink{main_8c_a2bb32c52cb5d21be737aaa2aefb353d4}{sharedData}}-\/>\mbox{\hyperlink{struct_shared_data_a375385b4dc726b4c0edae7a2b438ce48}{frameFlip\_Gameboy}};}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01302}01302\ \ \ \ \ \textcolor{keywordflow}{if}\ (REG\_VCOUNT\ ==\ 192)}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01303}01303\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{main_8c_a2bb32c52cb5d21be737aaa2aefb353d4}{sharedData}}-\/>\mbox{\hyperlink{struct_shared_data_afed8946bd180371ec758e171fabdb7ca}{frameFlip\_DS}}\ =\ \mbox{\hyperlink{main_8c_a2bb32c52cb5d21be737aaa2aefb353d4}{sharedData}}-\/>\mbox{\hyperlink{struct_shared_data_a375385b4dc726b4c0edae7a2b438ce48}{frameFlip\_Gameboy}};}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01304}01304\ }
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01305}01305\ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{gbgfx_8cpp_a0e19dccb2272e5ec93cee1dbe5b3fee3}{gfxMask}})}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01306}01306\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return};}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01307}01307\ }
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01308}01308\ \ \ \ \ \mbox{\hyperlink{struct_scanline_struct}{ScanlineStruct}}\ *tmp\ =\ \mbox{\hyperlink{gbgfx_8cpp_ae151e70163adb76a07dce9eaacf55800}{renderingState}};}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01309}01309\ \ \ \ \ \mbox{\hyperlink{gbgfx_8cpp_ae151e70163adb76a07dce9eaacf55800}{renderingState}}\ =\ \mbox{\hyperlink{gbgfx_8cpp_ab603fe74b48d08c176eb343ade1dc566}{drawingState}};}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01310}01310\ \ \ \ \ \mbox{\hyperlink{gbgfx_8cpp_ab603fe74b48d08c176eb343ade1dc566}{drawingState}}\ =\ tmp;}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01311}01311\ }
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01312}01312\ \ \ \ \ \mbox{\hyperlink{gbgfx_8cpp_a097b7a3d0c46cf0afdc98b34bf6f99ed}{screenDisabled}}\ =\ \mbox{\hyperlink{gbgfx_8cpp_a31c7dcff373ddfa6b23617e9298f961d}{lastScreenDisabled}};}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01313}01313\ \ \ \ \ \textcolor{keywordflow}{if}\ (!(\mbox{\hyperlink{mmu_8h_a7436ad149c3b3f2974966d6b546d14d9}{ioRam}}[0x40]\ \&\ 0x80))}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01314}01314\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{gbgfx_8cpp_a097b7a3d0c46cf0afdc98b34bf6f99ed}{screenDisabled}}\ =\ \textcolor{keyword}{true};}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01315}01315\ \ \ \ \ \mbox{\hyperlink{gbgfx_8cpp_a31c7dcff373ddfa6b23617e9298f961d}{lastScreenDisabled}}\ =\ !(\mbox{\hyperlink{mmu_8h_a7436ad149c3b3f2974966d6b546d14d9}{ioRam}}[0x40]\ \&\ 0x80);}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01316}01316\ }
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01317}01317\ \ \ \ \ \mbox{\hyperlink{gbgfx_8cpp_adf5931a286627b99da8d76dc7eb033df}{winPosY}}\ =\ -\/1;}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01318}01318\ }
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01319}01319\ \ \ \ \ \mbox{\hyperlink{gbgfx_8cpp_a73afcb774f607a0031a6877ab3059fd3}{updateTiles}}();}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01320}01320\ \ \ \ \ \mbox{\hyperlink{gbgfx_8cpp_a60975f999e5000cce01f957e5061efc2}{updateTileMaps}}();}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01321}01321\ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{gameboy_8h_a5021082cf23612467be2f40ebe83d8e3}{sgbMode}})}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01322}01322\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{gbgfx_8cpp_ab69a9c5313c53ae912567230d8ddfcf0}{refreshSgbPalette}}();}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01323}01323\ \}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01324}01324\ }
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01325}\mbox{\hyperlink{gbgfx_8cpp_a2c3bc7cf83f9225ce88d2bcbd53875a6}{01325}}\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{gbgfx_8cpp_a2c3bc7cf83f9225ce88d2bcbd53875a6}{drawSprites}}(u8\ *data,\ \textcolor{keywordtype}{int}\ tall)}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01326}01326\ \{}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01327}01327\ \ \ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keywordtype}{int}\ i\ =\ 0;\ i\ <\ 40;\ i++)}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01328}01328\ \ \ \ \ \{}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01329}01329\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{int}\ spriteIndex\ =\ i\ +\ \mbox{\hyperlink{gbgfx_8cpp_a1b6ed3b899ddd242915f4dd097981b9c}{firstGbSprite}};}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01330}01330\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{int}\ spriteNum\ =\ i\ *\ 4;}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01331}01331\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (data[spriteNum]\ ==\ 0)}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01332}01332\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{gbgfx_8cpp_a34352c8a17802da70f27f22ce225178f}{sprites}}[spriteIndex].attr0\ =\ ATTR0\_DISABLED;}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01333}01333\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{else}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01334}01334\ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01335}01335\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{int}\ y\ =\ data[spriteNum]\ -\/\ 16;}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01336}01336\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (y\ ==\ -\/16)}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01337}01337\ \ \ \ \ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01338}01338\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{gbgfx_8cpp_a34352c8a17802da70f27f22ce225178f}{sprites}}[spriteIndex].attr0\ =\ 0;}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01339}01339\ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01340}01340\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{else}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01341}01341\ \ \ \ \ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01342}01342\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{int}\ tileNum\ =\ data[spriteNum\ +\ 2];}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01343}01343\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (tall)}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01344}01344\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ tileNum\ \&=\ \string~1;}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01345}01345\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{int}\ x\ =\ data[spriteNum\ +\ 1]\ -\/\ 8;}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01346}01346\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{int}\ bank\ =\ 0;}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01347}01347\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{int}\ flipX\ =\ !!(data[spriteNum\ +\ 3]\ \&\ 0x20);}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01348}01348\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{int}\ flipY\ =\ !!(data[spriteNum\ +\ 3]\ \&\ 0x40);}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01349}01349\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{int}\ priority\ =\ !!(data[spriteNum\ +\ 3]\ \&\ 0x80);}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01350}01350\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{int}\ paletteid;}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01351}01351\ }
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01352}01352\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{gameboy_8h_af3ddfcff387d53e03211aeaa7a0c14ef}{gbMode}}\ ==\ \mbox{\hyperlink{gbcpu_8h_a5d6a36e6c1ec6aad48d2db4868de600c}{CGB}})}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01353}01353\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01354}01354\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ bank\ =\ !!(data[spriteNum\ +\ 3]\ \&\ 0x8);}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01355}01355\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ paletteid\ =\ data[spriteNum\ +\ 3]\ \&\ 0x7;}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01356}01356\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01357}01357\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{else}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01358}01358\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01359}01359\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{gameboy_8h_a5021082cf23612467be2f40ebe83d8e3}{sgbMode}})}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01360}01360\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01361}01361\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ Sprites\ are\ colored\ the\ same\ as\ the\ background.\ A\ bit}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01362}01362\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ of\ compromise\ is\ needed,\ since\ they\ don't\ line\ up\ perfectly.}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01363}01363\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{int}\ yPos,\ xPos;}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01364}01364\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ xPos\ =\ (x\ <\ 0\ ?\ 0\ :\ x\ /\ 8);}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01365}01365\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (tall)}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01366}01366\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01367}01367\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ ((y\ >=\ 144\ -\/\ 15\ \&\&\ !\mbox{\hyperlink{gbgfx_8cpp_ab603fe74b48d08c176eb343ade1dc566}{drawingState}}[143].spritesOn)\ ||\ (y\ <\ 144\ -\/\ 15\ \&\&\ !\mbox{\hyperlink{gbgfx_8cpp_ab603fe74b48d08c176eb343ade1dc566}{drawingState}}[y\ +\ 15].\mbox{\hyperlink{struct_scanline_struct_adf5cb31009707e20fb58ba43473f5b44}{spritesOn}}))}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01368}01368\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ yPos\ =\ y\ /\ 8;\ \textcolor{comment}{//\ Take\ the\ color\ at\ the\ top}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01369}01369\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{else}\ \textcolor{keywordflow}{if}\ ((y\ <\ 0\ \&\&\ !\mbox{\hyperlink{gbgfx_8cpp_ab603fe74b48d08c176eb343ade1dc566}{drawingState}}[0].spritesOn)\ ||\ !\mbox{\hyperlink{gbgfx_8cpp_ab603fe74b48d08c176eb343ade1dc566}{drawingState}}[y].\mbox{\hyperlink{struct_scanline_struct_adf5cb31009707e20fb58ba43473f5b44}{spritesOn}})}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01370}01370\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ yPos\ =\ (y\ +\ 15)\ /\ 8;\ \textcolor{comment}{//\ Take\ the\ color\ at\ the\ bottom}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01371}01371\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{else}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01372}01372\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ yPos\ =\ (y\ <\ -\/7\ ?\ 0\ :\ (y\ +\ 7)\ /\ 8);\ \textcolor{comment}{//\ Take\ the\ color\ around\ the\ middle}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01373}01373\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01374}01374\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{else}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01375}01375\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01376}01376\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (y\ >\ -\/8\ \&\&\ ((y\ >=\ 144\ -\/\ 8\ \&\&\ !\mbox{\hyperlink{gbgfx_8cpp_ab603fe74b48d08c176eb343ade1dc566}{drawingState}}[143].spritesOn)\ ||\ (y\ <\ 144\ -\/\ 8\ \&\&\ !\mbox{\hyperlink{gbgfx_8cpp_ab603fe74b48d08c176eb343ade1dc566}{drawingState}}[y\ +\ 8].\mbox{\hyperlink{struct_scanline_struct_adf5cb31009707e20fb58ba43473f5b44}{spritesOn}})))}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01377}01377\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ yPos\ =\ y\ /\ 8;\ \textcolor{comment}{//\ Take\ the\ color\ at\ the\ top}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01378}01378\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{else}\ \textcolor{keywordflow}{if}\ ((y\ <\ 0\ \&\&\ !\mbox{\hyperlink{gbgfx_8cpp_ab603fe74b48d08c176eb343ade1dc566}{drawingState}}[0].spritesOn)\ ||\ !\mbox{\hyperlink{gbgfx_8cpp_ab603fe74b48d08c176eb343ade1dc566}{drawingState}}[y].\mbox{\hyperlink{struct_scanline_struct_adf5cb31009707e20fb58ba43473f5b44}{spritesOn}})}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01379}01379\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ yPos\ =\ (y\ +\ 7)\ /\ 8;\ \textcolor{comment}{//\ Take\ the\ color\ at\ the\ bottom}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01380}01380\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{else}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01381}01381\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ yPos\ =\ (y\ <\ -\/3\ ?\ 0\ :\ (y\ +\ 3)\ /\ 8);\ \textcolor{comment}{//\ Take\ the\ color\ around\ the\ middle}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01382}01382\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01383}01383\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (yPos\ <\ 0)}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01384}01384\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ yPos\ =\ 0;}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01385}01385\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{else}\ \textcolor{keywordflow}{if}\ (yPos\ >=\ 18)}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01386}01386\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ yPos\ =\ 17;}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01387}01387\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{int}\ sgbPalette\ =\ \mbox{\hyperlink{sgb_8h_a15e19c23520a5b3c3a3ddb347af5273b}{sgbMap}}[yPos\ *\ 20\ +\ xPos]\ \&\ 3;}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01388}01388\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ paletteid\ =\ sgbPalette\ +\ (!!(data[spriteNum\ +\ 3]\ \&\ 0x10))\ *\ 4;}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01389}01389\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01390}01390\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{else}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01391}01391\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ paletteid\ =\ ((data[spriteNum\ +\ 3]\ \&\ 0x10)\ ?\ 5\ :\ 0);}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01392}01392\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01393}01393\ }
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01394}01394\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{int}\ priorityVal\ =\ (priority\ ?\ \mbox{\hyperlink{gbgfx_8cpp_acb5531c62e489ea1cae44400ac9336ee}{spr\_priority\_low}}\ :\ \mbox{\hyperlink{gbgfx_8cpp_a74f524dec8b515de3783f1ca4fe9966a}{spr\_priority}});}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01395}01395\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{gbgfx_8cpp_a34352c8a17802da70f27f22ce225178f}{sprites}}[spriteIndex].attr0\ =\ (y\ +\ \mbox{\hyperlink{gbgfx_8cpp_ae4626134fe8c5a191c8a9d36e9319cbc}{screenOffsY}})\ |\ (tall\ <<\ 15);}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01396}01396\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{gbgfx_8cpp_a34352c8a17802da70f27f22ce225178f}{sprites}}[spriteIndex].attr1\ =\ ((x\ \&\ 0x1ff)\ +\ \mbox{\hyperlink{gbgfx_8cpp_a285192f5390f5531ee1cca872f957d2d}{screenOffsX}})\ |\ (flipX\ <<\ 12)\ |\ (flipY\ <<\ 13);}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01397}01397\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{gbgfx_8cpp_a34352c8a17802da70f27f22ce225178f}{sprites}}[spriteIndex].attr2\ =\ (tileNum\ +\ (bank\ *\ 0x100))\ |\ (priorityVal\ <<\ 10)\ |\ (paletteid\ <<\ 12);}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01398}01398\ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01399}01399\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01400}01400\ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01401}01401\ \}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01402}01402\ }
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01403}01403\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{gbgfx_8cpp_ad7d241162c9a5a9725e74acbbf4e21a9}{drawScanline}}(\textcolor{keywordtype}{int}\ scanline)\ ITCM\_CODE;}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01404}01404\ }
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01405}\mbox{\hyperlink{gbgfx_8cpp_af45ebf8710b5dc93aaf0421a4fe37764}{01405}}\ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{gbgfx_8cpp_af45ebf8710b5dc93aaf0421a4fe37764}{winX}};}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01406}01406\ \textcolor{comment}{//\ Called\ after\ mode\ 2}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01407}\mbox{\hyperlink{gbgfx_8h_a1cec0914be5ae980da80f2a7cf47ddc9}{01407}}\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{gbgfx_8cpp_ad7d241162c9a5a9725e74acbbf4e21a9}{drawScanline}}(\textcolor{keywordtype}{int}\ scanline)}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01408}01408\ \{}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01409}01409\ \ \ \ \ \textcolor{comment}{//\ This\ japanese\ game,\ "{}Fushigi\ no\ Dungeon\ -\/\ Fuurai\ no\ Shiren..."{}\ expects}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01410}01410\ \ \ \ \ \textcolor{comment}{//\ writes\ to\ winX\ during\ mode\ 3\ to\ take\ effect\ next\ scanline\ -\/\ at\ least,}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01411}01411\ \ \ \ \ \textcolor{comment}{//\ when\ winX\ is\ changed\ from\ >=167\ to\ <167\ or\ vice\ versa.\ Maybe\ this\ should}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01412}01412\ \ \ \ \ \textcolor{comment}{//\ be\ investigated\ further.}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01413}01413\ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{gbgfx_8cpp_af45ebf8710b5dc93aaf0421a4fe37764}{winX}}\ !=\ \mbox{\hyperlink{mmu_8h_a7436ad149c3b3f2974966d6b546d14d9}{ioRam}}[0x4b])}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01414}01414\ \ \ \ \ \{}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01415}01415\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{gbgfx_8cpp_af45ebf8710b5dc93aaf0421a4fe37764}{winX}}\ =\ \mbox{\hyperlink{mmu_8h_a7436ad149c3b3f2974966d6b546d14d9}{ioRam}}[0x4b];}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01416}01416\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{gbgfx_8cpp_a5823f3af2c35fce45f1b50d16a313df4}{lineModified}}\ =\ \textcolor{keyword}{true};}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01417}01417\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{gbgfx_8cpp_a6d8811638f07e4ef3353977efe34c68b}{mapsModified}}\ =\ \textcolor{keyword}{true};}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01418}01418\ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01419}01419\ \}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01420}01420\ }
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01421}01421\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{gbgfx_8cpp_accfc00674239f8d922416ce6defc9084}{drawScanline\_P2}}(\textcolor{keywordtype}{int}\ scanline)\ ITCM\_CODE;}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01422}01422\ }
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01423}01423\ \textcolor{comment}{//\ Called\ after\ mode\ 3}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01424}\mbox{\hyperlink{gbgfx_8h_a5f2076cbffa95c8bb5e27e4f4d6f67d5}{01424}}\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{gbgfx_8cpp_accfc00674239f8d922416ce6defc9084}{drawScanline\_P2}}(\textcolor{keywordtype}{int}\ scanline)}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01425}01425\ \{}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01426}01426\ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{gbgfx_8cpp_ab764cbdc62a676940e3d9c4940461cea}{hblankDisabled}})}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01427}01427\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return};}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01428}01428\ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{gbgfx_8cpp_adf5931a286627b99da8d76dc7eb033df}{winPosY}}\ ==\ -\/2)}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01429}01429\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{gbgfx_8cpp_adf5931a286627b99da8d76dc7eb033df}{winPosY}}\ =\ \mbox{\hyperlink{mmu_8h_a7436ad149c3b3f2974966d6b546d14d9}{ioRam}}[0x44]\ -\/\ \mbox{\hyperlink{mmu_8h_a7436ad149c3b3f2974966d6b546d14d9}{ioRam}}[0x4a];}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01430}01430\ \ \ \ \ \textcolor{keywordflow}{else}\ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{mmu_8h_a7436ad149c3b3f2974966d6b546d14d9}{ioRam}}[0x40]\ \&\ 0x20\ \&\&\ \mbox{\hyperlink{gbgfx_8cpp_af45ebf8710b5dc93aaf0421a4fe37764}{winX}}\ <\ 167\ \&\&\ \mbox{\hyperlink{mmu_8h_a7436ad149c3b3f2974966d6b546d14d9}{ioRam}}[0x4a]\ <=\ scanline)}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01431}01431\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{gbgfx_8cpp_adf5931a286627b99da8d76dc7eb033df}{winPosY}}++;}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01432}01432\ }
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01433}01433\ \ \ \ \ \textcolor{comment}{//\ Always\ set\ this,\ since\ it's\ checked\ in\ the\ drawSprites\ function}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01434}01434\ \ \ \ \ \mbox{\hyperlink{gbgfx_8cpp_ae151e70163adb76a07dce9eaacf55800}{renderingState}}[scanline].\mbox{\hyperlink{struct_scanline_struct_adf5cb31009707e20fb58ba43473f5b44}{spritesOn}}\ =\ \mbox{\hyperlink{mmu_8h_a7436ad149c3b3f2974966d6b546d14d9}{ioRam}}[0x40]\ \&\ 0x2;}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01435}01435\ }
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01436}01436\ \ \ \ \ \textcolor{keywordflow}{if}\ (scanline\ ==\ 0)}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01437}01437\ \ \ \ \ \{}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01438}01438\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{gbgfx_8cpp_a5823f3af2c35fce45f1b50d16a313df4}{lineModified}}\ =\ \textcolor{keyword}{true};}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01439}01439\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{gbgfx_8cpp_a751160e1702627464ad6b4d6d063a655}{bgPalettesModified}}\ =\ \textcolor{keyword}{true};}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01440}01440\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{gbgfx_8cpp_a7bdc492b1884bde1b603abce41cde89e}{sprPalettesModified}}\ =\ \textcolor{keyword}{true};}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01441}01441\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{gbgfx_8cpp_a270d6ce2a8e0be18c9b587c22bd0a9b6}{spritesModified}}\ =\ \textcolor{keyword}{true};}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01442}01442\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{gbgfx_8cpp_a6d8811638f07e4ef3353977efe34c68b}{mapsModified}}\ =\ \textcolor{keyword}{true};}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01443}01443\ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01444}01444\ \ \ \ \ \textcolor{keywordflow}{else}\ \textcolor{keywordflow}{if}\ (scanline\ ==\ \mbox{\hyperlink{mmu_8h_a7436ad149c3b3f2974966d6b546d14d9}{ioRam}}[0x4a])}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01445}01445\ \ \ \ \ \{\ \textcolor{comment}{//\ First\ line\ of\ the\ window}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01446}01446\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{gbgfx_8cpp_a5823f3af2c35fce45f1b50d16a313df4}{lineModified}}\ =\ \textcolor{keyword}{true};}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01447}01447\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{gbgfx_8cpp_a6d8811638f07e4ef3353977efe34c68b}{mapsModified}}\ =\ \textcolor{keyword}{true};}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01448}01448\ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01449}01449\ \ \ \ \ \textcolor{keywordflow}{else}\ \textcolor{keywordflow}{if}\ (!\mbox{\hyperlink{gbgfx_8cpp_a5823f3af2c35fce45f1b50d16a313df4}{lineModified}})}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01450}01450\ \ \ \ \ \{}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01451}01451\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{gbgfx_8cpp_ae151e70163adb76a07dce9eaacf55800}{renderingState}}[scanline].\mbox{\hyperlink{struct_scanline_struct_a336f890daf27be7a9bd3728673d20a16}{modified}}\ =\ \textcolor{keyword}{false};}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01452}01452\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return};}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01453}01453\ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01454}01454\ }
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01455}01455\ \ \ \ \ \mbox{\hyperlink{gbgfx_8cpp_ae151e70163adb76a07dce9eaacf55800}{renderingState}}[scanline].\mbox{\hyperlink{struct_scanline_struct_a336f890daf27be7a9bd3728673d20a16}{modified}}\ =\ \textcolor{keyword}{true};}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01456}01456\ }
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01457}01457\ \ \ \ \ \mbox{\hyperlink{gbgfx_8cpp_ae151e70163adb76a07dce9eaacf55800}{renderingState}}[scanline].\mbox{\hyperlink{struct_scanline_struct_a81d6ccf694d3f73ee5a2e0a506a973b7}{spritesModified}}\ =\ \mbox{\hyperlink{gbgfx_8cpp_a270d6ce2a8e0be18c9b587c22bd0a9b6}{spritesModified}};}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01458}01458\ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{gbgfx_8cpp_a270d6ce2a8e0be18c9b587c22bd0a9b6}{spritesModified}})}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01459}01459\ \ \ \ \ \{}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01460}01460\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keywordtype}{int}\ i\ =\ 0;\ i\ <\ 0xa0;\ i++)}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01461}01461\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{gbgfx_8cpp_ae151e70163adb76a07dce9eaacf55800}{renderingState}}[scanline].\mbox{\hyperlink{mmu_8h_a33bd1edbc22f1b0180441d711829cd9b}{spriteData}}[i]\ =\ \mbox{\hyperlink{mmu_8h_ac883c44820bf261155e8eb1dc1e6160f}{hram}}[i];}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01462}01462\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{gbgfx_8cpp_ae151e70163adb76a07dce9eaacf55800}{renderingState}}[scanline].\mbox{\hyperlink{struct_scanline_struct_abf2bf57c4f3344e25ace69a7505a4f22}{tallSprites}}\ =\ !!(\mbox{\hyperlink{mmu_8h_a7436ad149c3b3f2974966d6b546d14d9}{ioRam}}[0x40]\ \&\ 4);}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01463}01463\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{gbgfx_8cpp_a270d6ce2a8e0be18c9b587c22bd0a9b6}{spritesModified}}\ =\ \textcolor{keyword}{false};}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01464}01464\ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01465}01465\ }
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01466}01466\ \ \ \ \ \mbox{\hyperlink{gbgfx_8cpp_ae151e70163adb76a07dce9eaacf55800}{renderingState}}[scanline].\mbox{\hyperlink{struct_scanline_struct_af7c7cb7f298fa852d7747a2734499cee}{mapsModified}}\ =\ \mbox{\hyperlink{gbgfx_8cpp_a6d8811638f07e4ef3353977efe34c68b}{mapsModified}};}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01467}01467\ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{gbgfx_8cpp_a6d8811638f07e4ef3353977efe34c68b}{mapsModified}})}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01468}01468\ \ \ \ \ \{}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01469}01469\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{gbgfx_8cpp_a6d8811638f07e4ef3353977efe34c68b}{mapsModified}}\ =\ \textcolor{keyword}{false};}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01470}01470\ }
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01471}01471\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{int}\ tileSigned,\ winMap,\ bgMap;}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01472}01472\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{mmu_8h_a7436ad149c3b3f2974966d6b546d14d9}{ioRam}}[0x40]\ \&\ 0x10)}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01473}01473\ \ \ \ \ \ \ \ \ \ \ \ \ tileSigned\ =\ 0;}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01474}01474\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{else}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01475}01475\ \ \ \ \ \ \ \ \ \ \ \ \ tileSigned\ =\ 1;}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01476}01476\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{mmu_8h_a7436ad149c3b3f2974966d6b546d14d9}{ioRam}}[0x40]\ \&\ 0x40)}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01477}01477\ \ \ \ \ \ \ \ \ \ \ \ \ winMap\ =\ 1;}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01478}01478\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{else}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01479}01479\ \ \ \ \ \ \ \ \ \ \ \ \ winMap\ =\ 0;}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01480}01480\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{mmu_8h_a7436ad149c3b3f2974966d6b546d14d9}{ioRam}}[0x40]\ \&\ 0x8)}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01481}01481\ \ \ \ \ \ \ \ \ \ \ \ \ bgMap\ =\ 1;}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01482}01482\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{else}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01483}01483\ \ \ \ \ \ \ \ \ \ \ \ \ bgMap\ =\ 0;}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01484}01484\ }
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01485}01485\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{gbgfx_8cpp_ae151e70163adb76a07dce9eaacf55800}{renderingState}}[scanline].\mbox{\hyperlink{struct_scanline_struct_a736b19cc5281791d106022368cc319fd}{bgMap}}\ =\ bgMap;}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01486}01486\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{gbgfx_8cpp_ae151e70163adb76a07dce9eaacf55800}{renderingState}}[scanline].\mbox{\hyperlink{struct_scanline_struct_a488243d91d511956b87cd1ac5f25281d}{winMap}}\ =\ winMap;}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01487}01487\ }
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01488}01488\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{gameboy_8h_af3ddfcff387d53e03211aeaa7a0c14ef}{gbMode}}\ !=\ \mbox{\hyperlink{gbcpu_8h_a5d6a36e6c1ec6aad48d2db4868de600c}{CGB}}\ \&\&\ !(\mbox{\hyperlink{mmu_8h_a7436ad149c3b3f2974966d6b546d14d9}{ioRam}}[0x40]\ \&\ 1))}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01489}01489\ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01490}01490\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{gbgfx_8cpp_ae151e70163adb76a07dce9eaacf55800}{renderingState}}[scanline].\mbox{\hyperlink{struct_scanline_struct_a628dcb4a7573142ee58304a88a94ae2d}{winColor0Cnt}}\ =\ BG\_MAP\_BASE(\mbox{\hyperlink{gbgfx_8cpp_a91ce402e5df15ae36e306bc87e0e8571}{off\_map\_base}})\ |\ 3;}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01491}01491\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{gbgfx_8cpp_ae151e70163adb76a07dce9eaacf55800}{renderingState}}[scanline].\mbox{\hyperlink{struct_scanline_struct_a0f9059cd63f6b283f48ac0a7178aba52}{winCnt}}\ =\ BG\_MAP\_BASE(\mbox{\hyperlink{gbgfx_8cpp_a91ce402e5df15ae36e306bc87e0e8571}{off\_map\_base}})\ |\ 3;}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01492}01492\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{gbgfx_8cpp_ae151e70163adb76a07dce9eaacf55800}{renderingState}}[scanline].\mbox{\hyperlink{struct_scanline_struct_a296e759aff6b478d1e115891c7f69e5f}{winOverlayCnt}}\ =\ BG\_MAP\_BASE(\mbox{\hyperlink{gbgfx_8cpp_a91ce402e5df15ae36e306bc87e0e8571}{off\_map\_base}})\ |\ 3;}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01493}01493\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{gbgfx_8cpp_ae151e70163adb76a07dce9eaacf55800}{renderingState}}[scanline].\mbox{\hyperlink{struct_scanline_struct_a4d5a5e33b85637c02a93ec769c7631ae}{bgColor0Cnt}}\ =\ BG\_MAP\_BASE(\mbox{\hyperlink{gbgfx_8cpp_a91ce402e5df15ae36e306bc87e0e8571}{off\_map\_base}})\ |\ 3;}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01494}01494\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{gbgfx_8cpp_ae151e70163adb76a07dce9eaacf55800}{renderingState}}[scanline].\mbox{\hyperlink{struct_scanline_struct_ae7458b84776ae55eadf7d310764e60c5}{bgCnt}}\ =\ BG\_MAP\_BASE(\mbox{\hyperlink{gbgfx_8cpp_a91ce402e5df15ae36e306bc87e0e8571}{off\_map\_base}})\ |\ 3;}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01495}01495\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{gbgfx_8cpp_ae151e70163adb76a07dce9eaacf55800}{renderingState}}[scanline].\mbox{\hyperlink{struct_scanline_struct_a2c1e744c540d565ae23f79d5b6c4f13a}{bgOverlayCnt}}\ =\ BG\_MAP\_BASE(\mbox{\hyperlink{gbgfx_8cpp_a91ce402e5df15ae36e306bc87e0e8571}{off\_map\_base}})\ |\ 3;}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01496}01496\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01497}01497\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{else}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01498}01498\ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01499}01499\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{bool}\ priorityOn\ =\ \mbox{\hyperlink{gameboy_8h_af3ddfcff387d53e03211aeaa7a0c14ef}{gbMode}}\ ==\ \mbox{\hyperlink{gbcpu_8h_a5d6a36e6c1ec6aad48d2db4868de600c}{CGB}}\ \&\&\ \mbox{\hyperlink{mmu_8h_a7436ad149c3b3f2974966d6b546d14d9}{ioRam}}[0x40]\ \&\ 1;}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01500}01500\ }
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01501}01501\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{int}\ winMapBase\ =\ \mbox{\hyperlink{gbgfx_8cpp_a83ace767bc1330b97e1e66dac3d0ec32}{map\_base}}[winMap];}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01502}01502\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{int}\ bgMapBase\ =\ \mbox{\hyperlink{gbgfx_8cpp_a83ace767bc1330b97e1e66dac3d0ec32}{map\_base}}[bgMap];}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01503}01503\ }
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01504}01504\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{gbgfx_8cpp_ae151e70163adb76a07dce9eaacf55800}{renderingState}}[scanline].\mbox{\hyperlink{struct_scanline_struct_a2b628f4e841ccc096056d92b693eb6e3}{tileSigned}}\ =\ tileSigned;}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01505}01505\ }
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01506}01506\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{int}\ tileBase\ =\ (tileSigned\ ?\ 6\ :\ 4);}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01507}01507\ }
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01508}01508\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{gbgfx_8cpp_ae151e70163adb76a07dce9eaacf55800}{renderingState}}[scanline].\mbox{\hyperlink{struct_scanline_struct_a628dcb4a7573142ee58304a88a94ae2d}{winColor0Cnt}}\ =\ (BG\_MAP\_BASE(\mbox{\hyperlink{gbgfx_8cpp_ae6e7b7ff5173baf7ca4316c5de93a2c7}{color0\_map\_base}}[winMap])\ |\ BG\_TILE\_BASE(0)\ |\ \mbox{\hyperlink{gbgfx_8cpp_abf4dba0db945ceed11b00da029badbde}{win\_color0\_priority}});}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01509}01509\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{gbgfx_8cpp_ae151e70163adb76a07dce9eaacf55800}{renderingState}}[scanline].\mbox{\hyperlink{struct_scanline_struct_a0f9059cd63f6b283f48ac0a7178aba52}{winCnt}}\ =\ (BG\_MAP\_BASE(winMapBase)\ |\ BG\_TILE\_BASE(tileBase)\ |\ \mbox{\hyperlink{gbgfx_8cpp_af31a9f5a39555bd2b4a05dfdbc8c1835}{win\_priority}});}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01510}01510\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{gbgfx_8cpp_ae151e70163adb76a07dce9eaacf55800}{renderingState}}[scanline].\mbox{\hyperlink{struct_scanline_struct_a4d5a5e33b85637c02a93ec769c7631ae}{bgColor0Cnt}}\ =\ (BG\_MAP\_BASE(\mbox{\hyperlink{gbgfx_8cpp_ae6e7b7ff5173baf7ca4316c5de93a2c7}{color0\_map\_base}}[bgMap])\ |\ BG\_TILE\_BASE(0)\ |\ \mbox{\hyperlink{gbgfx_8cpp_a0b46cea5d84f2577ca9084a7ce1938bb}{bg\_color0\_priority}});}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01511}01511\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{gbgfx_8cpp_ae151e70163adb76a07dce9eaacf55800}{renderingState}}[scanline].\mbox{\hyperlink{struct_scanline_struct_ae7458b84776ae55eadf7d310764e60c5}{bgCnt}}\ =\ (BG\_MAP\_BASE(bgMapBase)\ |\ BG\_TILE\_BASE(tileBase)\ |\ \mbox{\hyperlink{gbgfx_8cpp_a3f02de6a79af2ad2983cd2b9cbfe2442}{bg\_priority}});}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01512}01512\ }
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01513}01513\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{gbgfx_8cpp_ae151e70163adb76a07dce9eaacf55800}{renderingState}}[scanline].\mbox{\hyperlink{struct_scanline_struct_a703c2f8f0ffc5c2a95ddc763db0743fd}{winAllCnt}}\ =\ (BG\_MAP\_BASE(winMapBase)\ |\ BG\_TILE\_BASE(tileBase\ +\ 4)\ |\ \mbox{\hyperlink{gbgfx_8cpp_a2f7019b05da7580d78d7b80310aca299}{win\_all\_priority}});}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01514}01514\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{gbgfx_8cpp_ae151e70163adb76a07dce9eaacf55800}{renderingState}}[scanline].\mbox{\hyperlink{struct_scanline_struct_a09b441f9df432f6b27868df63f75c86e}{bgAllCnt}}\ =\ (BG\_MAP\_BASE(bgMapBase)\ |\ BG\_TILE\_BASE(tileBase\ +\ 4)\ |\ \mbox{\hyperlink{gbgfx_8cpp_ae3246472d110c092ff32a7f01971651e}{bg\_all\_priority}});}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01515}01515\ }
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01516}01516\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (priorityOn)}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01517}01517\ \ \ \ \ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01518}01518\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{gbgfx_8cpp_ae151e70163adb76a07dce9eaacf55800}{renderingState}}[scanline].\mbox{\hyperlink{struct_scanline_struct_a296e759aff6b478d1e115891c7f69e5f}{winOverlayCnt}}\ =\ (BG\_MAP\_BASE(\mbox{\hyperlink{gbgfx_8cpp_a40bbc77db17292c166f889155e08fe44}{overlay\_map\_base}}[winMap])\ |\ BG\_TILE\_BASE(tileBase)\ |\ \mbox{\hyperlink{gbgfx_8cpp_ab963a509c56b484cae862e8f1db740dc}{win\_overlay\_priority}});}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01519}01519\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{gbgfx_8cpp_ae151e70163adb76a07dce9eaacf55800}{renderingState}}[scanline].\mbox{\hyperlink{struct_scanline_struct_a2c1e744c540d565ae23f79d5b6c4f13a}{bgOverlayCnt}}\ =\ (BG\_MAP\_BASE(\mbox{\hyperlink{gbgfx_8cpp_a40bbc77db17292c166f889155e08fe44}{overlay\_map\_base}}[bgMap])\ |\ BG\_TILE\_BASE(tileBase)\ |\ \mbox{\hyperlink{gbgfx_8cpp_af56ca8375678dbe0b7bccaf88aa02469}{bg\_overlay\_priority}});}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01520}01520\ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01521}01521\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{else}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01522}01522\ \ \ \ \ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01523}01523\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ Give\ these\ layers\ the\ same\ priority\ as\ the\ regular\ layers.}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01524}01524\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{gbgfx_8cpp_ae151e70163adb76a07dce9eaacf55800}{renderingState}}[scanline].\mbox{\hyperlink{struct_scanline_struct_a296e759aff6b478d1e115891c7f69e5f}{winOverlayCnt}}\ =\ (BG\_MAP\_BASE(\mbox{\hyperlink{gbgfx_8cpp_a40bbc77db17292c166f889155e08fe44}{overlay\_map\_base}}[winMap])\ |\ BG\_TILE\_BASE(tileBase)\ |\ \mbox{\hyperlink{gbgfx_8cpp_af31a9f5a39555bd2b4a05dfdbc8c1835}{win\_priority}});}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01525}01525\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{gbgfx_8cpp_ae151e70163adb76a07dce9eaacf55800}{renderingState}}[scanline].\mbox{\hyperlink{struct_scanline_struct_a2c1e744c540d565ae23f79d5b6c4f13a}{bgOverlayCnt}}\ =\ (BG\_MAP\_BASE(\mbox{\hyperlink{gbgfx_8cpp_a40bbc77db17292c166f889155e08fe44}{overlay\_map\_base}}[bgMap])\ |\ BG\_TILE\_BASE(tileBase)\ |\ \mbox{\hyperlink{gbgfx_8cpp_a3f02de6a79af2ad2983cd2b9cbfe2442}{bg\_priority}});}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01526}01526\ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01527}01527\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01528}01528\ }
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01529}01529\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{bool}\ winOn\ =\ (\mbox{\hyperlink{mmu_8h_a7436ad149c3b3f2974966d6b546d14d9}{ioRam}}[0x40]\ \&\ 0x20)\ \&\&\ \mbox{\hyperlink{gbgfx_8cpp_af45ebf8710b5dc93aaf0421a4fe37764}{winX}}\ <\ 167\ \&\&\ \mbox{\hyperlink{mmu_8h_a7436ad149c3b3f2974966d6b546d14d9}{ioRam}}[0x4a]\ <\ 144\ \&\&\ \mbox{\hyperlink{mmu_8h_a7436ad149c3b3f2974966d6b546d14d9}{ioRam}}[0x4a]\ <=\ scanline;}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01530}01530\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{gbgfx_8cpp_ae151e70163adb76a07dce9eaacf55800}{renderingState}}[scanline].\mbox{\hyperlink{struct_scanline_struct_a3eb9afc043d7b48081054d31bbd5b5ee}{winOn}}\ =\ winOn;}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01531}01531\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{gbgfx_8cpp_ae151e70163adb76a07dce9eaacf55800}{renderingState}}[scanline].\mbox{\hyperlink{struct_scanline_struct_a29c1fa6eb5e29c3a97f0ade15c3d6c79}{hofs}}\ =\ \mbox{\hyperlink{mmu_8h_a7436ad149c3b3f2974966d6b546d14d9}{ioRam}}[0x43];}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01532}01532\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{gbgfx_8cpp_ae151e70163adb76a07dce9eaacf55800}{renderingState}}[scanline].\mbox{\hyperlink{struct_scanline_struct_a8616c1aa21ec4e29a2fd542dda75cc8f}{vofs}}\ =\ \mbox{\hyperlink{mmu_8h_a7436ad149c3b3f2974966d6b546d14d9}{ioRam}}[0x42];}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01533}01533\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{gbgfx_8cpp_ae151e70163adb76a07dce9eaacf55800}{renderingState}}[scanline].\mbox{\hyperlink{struct_scanline_struct_ac62895524abcf9746f5762536a1f8556}{winX}}\ =\ \mbox{\hyperlink{gbgfx_8cpp_af45ebf8710b5dc93aaf0421a4fe37764}{winX}};}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01534}01534\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{gbgfx_8cpp_ae151e70163adb76a07dce9eaacf55800}{renderingState}}[scanline].\mbox{\hyperlink{struct_scanline_struct_a1b98193d12dedc8710ce22bae9131fb3}{winPosY}}\ =\ \mbox{\hyperlink{gbgfx_8cpp_adf5931a286627b99da8d76dc7eb033df}{winPosY}};}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01535}01535\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{gbgfx_8cpp_ae151e70163adb76a07dce9eaacf55800}{renderingState}}[scanline].\mbox{\hyperlink{struct_scanline_struct_a8d7776aee90d159b7957a30746690175}{winY}}\ =\ \mbox{\hyperlink{mmu_8h_a7436ad149c3b3f2974966d6b546d14d9}{ioRam}}[0x4a];}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01536}01536\ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01537}01537\ }
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01538}01538\ \ \ \ \ \mbox{\hyperlink{gbgfx_8cpp_ae151e70163adb76a07dce9eaacf55800}{renderingState}}[scanline].\mbox{\hyperlink{struct_scanline_struct_ac60a42cb8bfdc25f84c60649dc261184}{bgPalettesModified}}\ =\ \mbox{\hyperlink{gbgfx_8cpp_a751160e1702627464ad6b4d6d063a655}{bgPalettesModified}};}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01539}01539\ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{gbgfx_8cpp_a751160e1702627464ad6b4d6d063a655}{bgPalettesModified}})}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01540}01540\ \ \ \ \ \{}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01541}01541\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{gbgfx_8cpp_a751160e1702627464ad6b4d6d063a655}{bgPalettesModified}}\ =\ \textcolor{keyword}{false};}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01542}01542\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{gbgfx_8cpp_ae151e70163adb76a07dce9eaacf55800}{renderingState}}[scanline].\mbox{\hyperlink{struct_scanline_struct_a0a3ad89252909262e540cff1f9c24d96}{bgPal}}\ =\ \mbox{\hyperlink{mmu_8h_a7436ad149c3b3f2974966d6b546d14d9}{ioRam}}[0x47];}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01543}01543\ }
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01544}01544\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ Hash\ is\ helpful\ for\ more-\/or-\/less\ static\ screens\ using\ tons\ of\ colours.}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01545}01545\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{int}\ hash\ =\ 0;}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01546}01546\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keywordtype}{int}\ i\ =\ 0;\ i\ <\ 0x10;\ i++)}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01547}01547\ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01548}01548\ \ \ \ \ \ \ \ \ \ \ \ \ hash\ =\ ((hash\ <<\ 5)\ +\ hash)\ +\ ((\textcolor{keywordtype}{int}\ *)\mbox{\hyperlink{gbgfx_8h_a254d3c52c2ae7fff61e52168c0c37e86}{bgPaletteData}})[i];}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01549}01549\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01550}01550\ }
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01551}01551\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{gbgfx_8cpp_ae151e70163adb76a07dce9eaacf55800}{renderingState}}[scanline].bgHash\ !=\ hash\ ||}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01552}01552\ \ \ \ \ \ \ \ \ \ \ \ \ scanline\ ==\ 0)}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01553}01553\ \ \ \ \ \ \ \ \ \{\ \textcolor{comment}{//\ Just\ to\ be\ safe\ in\ case\ of\ hash\ collision}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01554}01554\ }
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01555}01555\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{gbgfx_8cpp_ae151e70163adb76a07dce9eaacf55800}{renderingState}}[scanline].\mbox{\hyperlink{struct_scanline_struct_a923590cd756b59863e217703f401f058}{bgHash}}\ =\ hash;}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01556}01556\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keywordtype}{int}\ i\ =\ 0;\ i\ <\ 0x40;\ i++)}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01557}01557\ \ \ \ \ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01558}01558\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{gbgfx_8cpp_ae151e70163adb76a07dce9eaacf55800}{renderingState}}[scanline].bgPaletteData[i]\ =\ \mbox{\hyperlink{gbgfx_8h_a254d3c52c2ae7fff61e52168c0c37e86}{bgPaletteData}}[i];}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01559}01559\ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01560}01560\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01561}01561\ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01562}01562\ }
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01563}01563\ \ \ \ \ \mbox{\hyperlink{gbgfx_8cpp_ae151e70163adb76a07dce9eaacf55800}{renderingState}}[scanline].\mbox{\hyperlink{struct_scanline_struct_a70f3906bb00b352432f08c8772415750}{sprPalettesModified}}\ =\ \mbox{\hyperlink{gbgfx_8cpp_a7bdc492b1884bde1b603abce41cde89e}{sprPalettesModified}};}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01564}01564\ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{gbgfx_8cpp_a7bdc492b1884bde1b603abce41cde89e}{sprPalettesModified}})}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01565}01565\ \ \ \ \ \{}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01566}01566\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{gbgfx_8cpp_a7bdc492b1884bde1b603abce41cde89e}{sprPalettesModified}}\ =\ \textcolor{keyword}{false};}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01567}01567\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{gbgfx_8cpp_ae151e70163adb76a07dce9eaacf55800}{renderingState}}[scanline].\mbox{\hyperlink{struct_scanline_struct_a5ec6e08381b5b79194688b6469c8b3a8}{sprPal}}[0]\ =\ \mbox{\hyperlink{mmu_8h_a7436ad149c3b3f2974966d6b546d14d9}{ioRam}}[0x48];}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01568}01568\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{gbgfx_8cpp_ae151e70163adb76a07dce9eaacf55800}{renderingState}}[scanline].\mbox{\hyperlink{struct_scanline_struct_a5ec6e08381b5b79194688b6469c8b3a8}{sprPal}}[1]\ =\ \mbox{\hyperlink{mmu_8h_a7436ad149c3b3f2974966d6b546d14d9}{ioRam}}[0x49];}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01569}01569\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keywordtype}{int}\ i\ =\ 0;\ i\ <\ 0x40;\ i++)}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01570}01570\ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01571}01571\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{gbgfx_8cpp_ae151e70163adb76a07dce9eaacf55800}{renderingState}}[scanline].sprPaletteData[i]\ =\ \mbox{\hyperlink{gbgfx_8h_ac22d8f92fe46c2fe4681159f06c6192a}{sprPaletteData}}[i];}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01572}01572\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01573}01573\ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01574}01574\ }
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01575}01575\ \ \ \ \ \mbox{\hyperlink{gbgfx_8cpp_a5823f3af2c35fce45f1b50d16a313df4}{lineModified}}\ =\ \textcolor{keyword}{false};}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01576}01576\ \}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01577}01577\ }
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01578}\mbox{\hyperlink{gbgfx_8h_aaf17e95c285e77dea221cb54923a91a3}{01578}}\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{gbgfx_8cpp_aaf17e95c285e77dea221cb54923a91a3}{writeVram}}(u16\ addr,\ u8\ val)}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01579}01579\ \{}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01580}01580\ \ \ \ \ u8\ old\ =\ \mbox{\hyperlink{mmu_8h_a7d0ed1b85995cb654491c9e0958abed2}{vram}}[\mbox{\hyperlink{mmu_8h_adf5f76879a2dc41ba5b73a2fbe844c26}{vramBank}}][addr];}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01581}01581\ \ \ \ \ \textcolor{keywordflow}{if}\ (old\ ==\ val)}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01582}01582\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return};}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01583}01583\ \ \ \ \ \mbox{\hyperlink{mmu_8h_a7d0ed1b85995cb654491c9e0958abed2}{vram}}[\mbox{\hyperlink{mmu_8h_adf5f76879a2dc41ba5b73a2fbe844c26}{vramBank}}][addr]\ =\ val;}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01584}01584\ }
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01585}01585\ \ \ \ \ \textcolor{keywordflow}{if}\ (addr\ <\ 0x1800)}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01586}01586\ \ \ \ \ \{}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01587}01587\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{int}\ tileNum\ =\ addr\ /\ 16;}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01588}01588\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{int}\ scanline\ =\ \mbox{\hyperlink{mmu_8h_a7436ad149c3b3f2974966d6b546d14d9}{ioRam}}[0x44];}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01589}01589\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (scanline\ >=\ 128\ \&\&\ scanline\ <\ 144)}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01590}01590\ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01591}01591\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (!\mbox{\hyperlink{gbgfx_8cpp_af36bd9924bc4a1c5da12c77c46713f4c}{changedTileInFrame}}[\mbox{\hyperlink{mmu_8h_adf5f76879a2dc41ba5b73a2fbe844c26}{vramBank}}][tileNum])}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01592}01592\ \ \ \ \ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01593}01593\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{gbgfx_8cpp_af36bd9924bc4a1c5da12c77c46713f4c}{changedTileInFrame}}[\mbox{\hyperlink{mmu_8h_adf5f76879a2dc41ba5b73a2fbe844c26}{vramBank}}][tileNum]\ =\ \textcolor{keyword}{true};}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01594}01594\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{gbgfx_8cpp_ae569c6094981c38d5e0754f2dae61816}{changedTileInFrameQueue}}[\mbox{\hyperlink{gbgfx_8cpp_adb7a4f818a75d747ae51e6b16dbe623f}{changedTileInFrameQueueLength}}++]\ =\ tileNum\ |\ (\mbox{\hyperlink{mmu_8h_adf5f76879a2dc41ba5b73a2fbe844c26}{vramBank}}\ <<\ 9);}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01595}01595\ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01596}01596\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01597}01597\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{else}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01598}01598\ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01599}01599\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (!\mbox{\hyperlink{gbgfx_8cpp_a542811a076e55daa66e05901298fc57a}{changedTile}}[\mbox{\hyperlink{mmu_8h_adf5f76879a2dc41ba5b73a2fbe844c26}{vramBank}}][tileNum])}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01600}01600\ \ \ \ \ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01601}01601\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{gbgfx_8cpp_a542811a076e55daa66e05901298fc57a}{changedTile}}[\mbox{\hyperlink{mmu_8h_adf5f76879a2dc41ba5b73a2fbe844c26}{vramBank}}][tileNum]\ =\ \textcolor{keyword}{true};}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01602}01602\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{gbgfx_8cpp_ade2d99a4b9f321c5dcb857b655c91f48}{changedTileQueue}}[\mbox{\hyperlink{gbgfx_8cpp_a45834c0f350c7bfbd7657d32bcf42d43}{changedTileQueueLength}}++]\ =\ tileNum\ |\ (\mbox{\hyperlink{mmu_8h_adf5f76879a2dc41ba5b73a2fbe844c26}{vramBank}}\ <<\ 9);}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01603}01603\ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01604}01604\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01605}01605\ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01606}01606\ \ \ \ \ \textcolor{keywordflow}{else}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01607}01607\ \ \ \ \ \{}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01608}01608\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{gbgfx_8cpp_a1e800a6a0ab719ff1af9a81efd02877a}{map}}\ =\ (addr\ -\/\ 0x1800)\ /\ 0x400;}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01609}01609\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{int}\ tile\ =\ addr\ \&\ 0x3ff;}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01610}01610\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{mmu_8h_adf5f76879a2dc41ba5b73a2fbe844c26}{vramBank}}\ ==\ 1)}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01611}01611\ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01612}01612\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ ((val\ \&\ 0x80)\ \&\&\ !(old\ \&\ 0x80))}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01613}01613\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{gbgfx_8cpp_a3b35e4c59fbe530ccfd4fc14c5d4c265}{usingTilePriority}}[\mbox{\hyperlink{gbgfx_8cpp_a1e800a6a0ab719ff1af9a81efd02877a}{map}}]++;}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01614}01614\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{else}\ \textcolor{keywordflow}{if}\ (!(val\ \&\ 0x80)\ \&\&\ (old\ \&\ 0x80))}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01615}01615\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{gbgfx_8cpp_a3b35e4c59fbe530ccfd4fc14c5d4c265}{usingTilePriority}}[\mbox{\hyperlink{gbgfx_8cpp_a1e800a6a0ab719ff1af9a81efd02877a}{map}}]-\/-\/;}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01616}01616\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01617}01617\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (!\mbox{\hyperlink{gbgfx_8cpp_a7a79512469ed835be49735d7e6233390}{changedMap}}[\mbox{\hyperlink{gbgfx_8cpp_a1e800a6a0ab719ff1af9a81efd02877a}{map}}][tile])}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01618}01618\ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01619}01619\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{gbgfx_8cpp_a7a79512469ed835be49735d7e6233390}{changedMap}}[\mbox{\hyperlink{gbgfx_8cpp_a1e800a6a0ab719ff1af9a81efd02877a}{map}}][tile]\ =\ \textcolor{keyword}{true};}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01620}01620\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{gbgfx_8cpp_a9d36dda4f8424acfa6e750cbb86fac06}{changedMapQueue}}[\mbox{\hyperlink{gbgfx_8cpp_a1e800a6a0ab719ff1af9a81efd02877a}{map}}][\mbox{\hyperlink{gbgfx_8cpp_aad42beb02a7313afa3778db5e804f851}{changedMapQueueLength}}[\mbox{\hyperlink{gbgfx_8cpp_a1e800a6a0ab719ff1af9a81efd02877a}{map}}]++]\ =\ tile;}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01621}01621\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01622}01622\ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01623}01623\ \}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01624}\mbox{\hyperlink{gbgfx_8h_a256e8a10e8afb86c626c6d5c215b3dc5}{01624}}\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{gbgfx_8cpp_a9631e983076a6906dd0eb1c185bd870c}{writeVram16}}(u16\ dest,\ u16\ src)}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01625}01625\ \{}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01626}01626\ \ \ \ \ \textcolor{keywordtype}{bool}\ writingToMapFlags\ =\ (\mbox{\hyperlink{mmu_8h_adf5f76879a2dc41ba5b73a2fbe844c26}{vramBank}}\ ==\ 1\ \&\&\ dest\ >=\ 0x1800);}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01627}01627\ \ \ \ \ \textcolor{keywordtype}{bool}\ changed\ =\ \textcolor{keyword}{false};}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01628}01628\ \ \ \ \ u8\ *page\ =\ \mbox{\hyperlink{mmu_8h_a0f09ea9762f03d69ea68b6c34a0b59d0}{memory}}[src\ >>\ 12];}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01629}01629\ \ \ \ \ \textcolor{keywordtype}{int}\ offset\ =\ src\ \&\ 0xfff;}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01630}01630\ }
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01631}01631\ \ \ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keywordtype}{int}\ i\ =\ 0;\ i\ <\ 16;\ i++)}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01632}01632\ \ \ \ \ \{}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01633}01633\ \ \ \ \ \ \ \ \ u8\ val\ =\ page[offset++];}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01634}01634\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{mmu_8h_a7d0ed1b85995cb654491c9e0958abed2}{vram}}[\mbox{\hyperlink{mmu_8h_adf5f76879a2dc41ba5b73a2fbe844c26}{vramBank}}][dest]\ !=\ val)}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01635}01635\ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01636}01636\ \ \ \ \ \ \ \ \ \ \ \ \ changed\ =\ \textcolor{keyword}{true};}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01637}01637\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (writingToMapFlags)}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01638}01638\ \ \ \ \ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01639}01639\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ u8\ old\ =\ \mbox{\hyperlink{mmu_8h_a7d0ed1b85995cb654491c9e0958abed2}{vram}}[\mbox{\hyperlink{mmu_8h_adf5f76879a2dc41ba5b73a2fbe844c26}{vramBank}}][dest];}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01640}01640\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{gbgfx_8cpp_a1e800a6a0ab719ff1af9a81efd02877a}{map}}\ =\ (dest\ -\/\ 0x1800)\ /\ 0x400;}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01641}01641\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ ((val\ \&\ 0x80)\ \&\&\ !(old\ \&\ 0x80))}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01642}01642\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{gbgfx_8cpp_a3b35e4c59fbe530ccfd4fc14c5d4c265}{usingTilePriority}}[\mbox{\hyperlink{gbgfx_8cpp_a1e800a6a0ab719ff1af9a81efd02877a}{map}}]++;}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01643}01643\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{else}\ \textcolor{keywordflow}{if}\ (!(val\ \&\ 0x80)\ \&\&\ (old\ \&\ 0x80))}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01644}01644\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{gbgfx_8cpp_a3b35e4c59fbe530ccfd4fc14c5d4c265}{usingTilePriority}}[\mbox{\hyperlink{gbgfx_8cpp_a1e800a6a0ab719ff1af9a81efd02877a}{map}}]-\/-\/;}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01645}01645\ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01646}01646\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{mmu_8h_a7d0ed1b85995cb654491c9e0958abed2}{vram}}[\mbox{\hyperlink{mmu_8h_adf5f76879a2dc41ba5b73a2fbe844c26}{vramBank}}][dest]\ =\ val;}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01647}01647\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01648}01648\ \ \ \ \ \ \ \ \ dest++;}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01649}01649\ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01650}01650\ \ \ \ \ \textcolor{keywordflow}{if}\ (!changed)}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01651}01651\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return};}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01652}01652\ \ \ \ \ dest\ -\/=\ 16;}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01653}01653\ }
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01654}01654\ \ \ \ \ \textcolor{keywordflow}{if}\ (dest\ <\ 0x1800)}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01655}01655\ \ \ \ \ \{}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01656}01656\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{int}\ tileNum\ =\ dest\ /\ 16;}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01657}01657\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{mmu_8h_a7436ad149c3b3f2974966d6b546d14d9}{ioRam}}[0x44]\ <\ 144)}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01658}01658\ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01659}01659\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (!\mbox{\hyperlink{gbgfx_8cpp_af36bd9924bc4a1c5da12c77c46713f4c}{changedTileInFrame}}[\mbox{\hyperlink{mmu_8h_adf5f76879a2dc41ba5b73a2fbe844c26}{vramBank}}][tileNum])}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01660}01660\ \ \ \ \ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01661}01661\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{gbgfx_8cpp_af36bd9924bc4a1c5da12c77c46713f4c}{changedTileInFrame}}[\mbox{\hyperlink{mmu_8h_adf5f76879a2dc41ba5b73a2fbe844c26}{vramBank}}][tileNum]\ =\ \textcolor{keyword}{true};}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01662}01662\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{gbgfx_8cpp_ae569c6094981c38d5e0754f2dae61816}{changedTileInFrameQueue}}[\mbox{\hyperlink{gbgfx_8cpp_adb7a4f818a75d747ae51e6b16dbe623f}{changedTileInFrameQueueLength}}++]\ =\ tileNum\ |\ (\mbox{\hyperlink{mmu_8h_adf5f76879a2dc41ba5b73a2fbe844c26}{vramBank}}\ <<\ 9);}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01663}01663\ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01664}01664\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01665}01665\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{else}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01666}01666\ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01667}01667\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (!\mbox{\hyperlink{gbgfx_8cpp_a542811a076e55daa66e05901298fc57a}{changedTile}}[\mbox{\hyperlink{mmu_8h_adf5f76879a2dc41ba5b73a2fbe844c26}{vramBank}}][tileNum])}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01668}01668\ \ \ \ \ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01669}01669\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{gbgfx_8cpp_a542811a076e55daa66e05901298fc57a}{changedTile}}[\mbox{\hyperlink{mmu_8h_adf5f76879a2dc41ba5b73a2fbe844c26}{vramBank}}][tileNum]\ =\ \textcolor{keyword}{true};}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01670}01670\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{gbgfx_8cpp_ade2d99a4b9f321c5dcb857b655c91f48}{changedTileQueue}}[\mbox{\hyperlink{gbgfx_8cpp_a45834c0f350c7bfbd7657d32bcf42d43}{changedTileQueueLength}}++]\ =\ tileNum\ |\ (\mbox{\hyperlink{mmu_8h_adf5f76879a2dc41ba5b73a2fbe844c26}{vramBank}}\ <<\ 9);}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01671}01671\ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01672}01672\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01673}01673\ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01674}01674\ \ \ \ \ \textcolor{keywordflow}{else}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01675}01675\ \ \ \ \ \{}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01676}01676\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{gbgfx_8cpp_a1e800a6a0ab719ff1af9a81efd02877a}{map}}\ =\ (dest\ -\/\ 0x1800)\ /\ 0x400;}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01677}01677\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keywordtype}{int}\ i\ =\ 0;\ i\ <\ 16;\ i++)}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01678}01678\ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01679}01679\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{int}\ tile\ =\ (dest\ +\ i)\ \&\ 0x3ff;}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01680}01680\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (!\mbox{\hyperlink{gbgfx_8cpp_a7a79512469ed835be49735d7e6233390}{changedMap}}[\mbox{\hyperlink{gbgfx_8cpp_a1e800a6a0ab719ff1af9a81efd02877a}{map}}][tile])}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01681}01681\ \ \ \ \ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01682}01682\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{gbgfx_8cpp_a7a79512469ed835be49735d7e6233390}{changedMap}}[\mbox{\hyperlink{gbgfx_8cpp_a1e800a6a0ab719ff1af9a81efd02877a}{map}}][tile]\ =\ \textcolor{keyword}{true};}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01683}01683\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{gbgfx_8cpp_a9d36dda4f8424acfa6e750cbb86fac06}{changedMapQueue}}[\mbox{\hyperlink{gbgfx_8cpp_a1e800a6a0ab719ff1af9a81efd02877a}{map}}][\mbox{\hyperlink{gbgfx_8cpp_aad42beb02a7313afa3778db5e804f851}{changedMapQueueLength}}[\mbox{\hyperlink{gbgfx_8cpp_a1e800a6a0ab719ff1af9a81efd02877a}{map}}]++]\ =\ tile;}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01684}01684\ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01685}01685\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01686}01686\ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01687}01687\ \}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01688}01688\ }
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01689}\mbox{\hyperlink{gbgfx_8cpp_a73afcb774f607a0031a6877ab3059fd3}{01689}}\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{gbgfx_8cpp_a73afcb774f607a0031a6877ab3059fd3}{updateTiles}}()}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01690}01690\ \{}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01691}01691\ \ \ \ \ \textcolor{keywordflow}{while}\ (\mbox{\hyperlink{gbgfx_8cpp_a45834c0f350c7bfbd7657d32bcf42d43}{changedTileQueueLength}}\ >\ 0)}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01692}01692\ \ \ \ \ \{}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01693}01693\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{int}\ val\ =\ \mbox{\hyperlink{gbgfx_8cpp_ade2d99a4b9f321c5dcb857b655c91f48}{changedTileQueue}}[-\/-\/\mbox{\hyperlink{gbgfx_8cpp_a45834c0f350c7bfbd7657d32bcf42d43}{changedTileQueueLength}}];}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01694}01694\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{int}\ bank\ =\ val\ >>\ 9,\ tile\ =\ val\ \&\ 0x1ff;}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01695}01695\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{gbgfx_8cpp_a27a1116d3f41a4a2d146cf8386b99bdd}{drawTile}}(tile,\ bank);}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01696}01696\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{gbgfx_8cpp_a542811a076e55daa66e05901298fc57a}{changedTile}}[bank][tile]\ =\ \textcolor{keyword}{false};}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01697}01697\ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01698}01698\ \ \ \ \ \textcolor{comment}{//\ copy\ "{}changedTileInFrame"{}\ to\ "{}changedTile"{},\ where\ they'll\ be\ applied\ next}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01699}01699\ \ \ \ \ \textcolor{comment}{//\ frame.}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01700}01700\ \ \ \ \ \textcolor{keywordflow}{while}\ (\mbox{\hyperlink{gbgfx_8cpp_adb7a4f818a75d747ae51e6b16dbe623f}{changedTileInFrameQueueLength}}\ >\ 0)}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01701}01701\ \ \ \ \ \{}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01702}01702\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{int}\ val\ =\ \mbox{\hyperlink{gbgfx_8cpp_ae569c6094981c38d5e0754f2dae61816}{changedTileInFrameQueue}}[-\/-\/\mbox{\hyperlink{gbgfx_8cpp_adb7a4f818a75d747ae51e6b16dbe623f}{changedTileInFrameQueueLength}}];}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01703}01703\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{int}\ bank\ =\ val\ >>\ 9,\ tile\ =\ val\ \&\ 0x1ff;}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01704}01704\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{gbgfx_8cpp_af36bd9924bc4a1c5da12c77c46713f4c}{changedTileInFrame}}[bank][tile]\ =\ \textcolor{keyword}{false};}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01705}01705\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{gbgfx_8cpp_a542811a076e55daa66e05901298fc57a}{changedTile}}[bank][tile]\ =\ \textcolor{keyword}{true};}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01706}01706\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{gbgfx_8cpp_ade2d99a4b9f321c5dcb857b655c91f48}{changedTileQueue}}[\mbox{\hyperlink{gbgfx_8cpp_a45834c0f350c7bfbd7657d32bcf42d43}{changedTileQueueLength}}++]\ =\ val;}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01707}01707\ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01708}01708\ \}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01709}01709\ }
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01710}\mbox{\hyperlink{gbgfx_8cpp_a9a8e94462dd86825fa22f6a3a145862e}{01710}}\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{gbgfx_8cpp_a9a8e94462dd86825fa22f6a3a145862e}{updateBgPalette}}(\textcolor{keywordtype}{int}\ paletteid,\ u8\ *data,\ u8\ dmgPal)}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01711}01711\ \{}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01712}01712\ \ \ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keywordtype}{int}\ i\ =\ 0;\ i\ <\ 4;\ i++)}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01713}01713\ \ \ \ \ \{}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01714}01714\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{int}\ \textcolor{keywordtype}{id}\ =\ (dmgPal\ >>\ (i\ *\ 2))\ \&\ 3;}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01715}01715\ }
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01716}01716\ \ \ \ \ \ \ \ \ BG\_PALETTE[((paletteid)*16)\ +\ i\ +\ 1]\ =\ data[(paletteid\ *\ 8)\ +\ (\textcolor{keywordtype}{id}\ *\ 2)]\ |\ data[(paletteid\ *\ 8)\ +\ (\textcolor{keywordtype}{id}\ *\ 2)\ +\ 1]\ <<\ 8;}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01717}01717\ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01718}01718\ \}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01719}01719\ }
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01720}\mbox{\hyperlink{gbgfx_8cpp_a1214c2484459d4a461f437e67a072694}{01720}}\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{gbgfx_8cpp_a1214c2484459d4a461f437e67a072694}{updateBgPalette\_GBC}}(\textcolor{keywordtype}{int}\ paletteid,\ u8\ *data)}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01721}01721\ \{}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01722}01722\ \ \ \ \ u16\ *dest\ =\ BG\_PALETTE\ +\ paletteid\ *\ 16\ +\ 1;}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01723}01723\ \ \ \ \ u16\ *src\ =\ ((u16\ *)data)\ +\ paletteid\ *\ 4;}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01724}01724\ \ \ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keywordtype}{int}\ i\ =\ 0;\ i\ <\ 4;\ i++)}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01725}01725\ \ \ \ \ \ \ \ \ *(dest++)\ =\ *(src++);}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01726}01726\ \}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01727}\mbox{\hyperlink{gbgfx_8cpp_a69f15ee8d4cda930e01bfe3e42bbd66a}{01727}}\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{gbgfx_8cpp_a69f15ee8d4cda930e01bfe3e42bbd66a}{updateSprPalette}}(\textcolor{keywordtype}{int}\ paletteid,\ u8\ *data,\ u8\ dmgPal)}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01728}01728\ \{}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01729}01729\ \ \ \ \ \textcolor{keywordtype}{int}\ src\ =\ paletteid;}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01730}01730\ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{gameboy_8h_af3ddfcff387d53e03211aeaa7a0c14ef}{gbMode}}\ ==\ \mbox{\hyperlink{gbcpu_8h_a44172ac633c517cb4c9e278cef36b000}{GB}}\ \&\&\ paletteid\ >=\ 4)\ \textcolor{comment}{//\ SGB\ stuff}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01731}01731\ \ \ \ \ \ \ \ \ src\ -\/=\ 4;}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01732}01732\ \ \ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keywordtype}{int}\ i\ =\ 0;\ i\ <\ 4;\ i++)}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01733}01733\ \ \ \ \ \{}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01734}01734\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{int}\ id;}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01735}01735\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{gameboy_8h_af3ddfcff387d53e03211aeaa7a0c14ef}{gbMode}}\ ==\ \mbox{\hyperlink{gbcpu_8h_a44172ac633c517cb4c9e278cef36b000}{GB}})}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01736}01736\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{id}\ =\ (dmgPal\ >>\ (i\ *\ 2))\ \&\ 3;}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01737}01737\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{else}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01738}01738\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{id}\ =\ i;}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01739}01739\ }
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01740}01740\ \ \ \ \ \ \ \ \ SPRITE\_PALETTE[((paletteid)*16)\ +\ i]\ =\ data[(src\ *\ 8)\ +\ (\textcolor{keywordtype}{id}\ *\ 2)]\ |\ data[(src\ *\ 8)\ +\ (\textcolor{keywordtype}{id}\ *\ 2)\ +\ 1]\ <<\ 8;}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01741}01741\ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01742}01742\ \}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01743}01743\ }
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01744}\mbox{\hyperlink{gbgfx_8h_ae7573347fba5b70225ad712fc48a679c}{01744}}\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{gbgfx_8cpp_ae7573347fba5b70225ad712fc48a679c}{handleVideoRegister}}(u8\ ioReg,\ u8\ val)}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01745}01745\ \{}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01746}01746\ \ \ \ \ \textcolor{keywordflow}{switch}\ (ioReg)}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01747}01747\ \ \ \ \ \{}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01748}01748\ \ \ \ \ \textcolor{keywordflow}{case}\ 0x40:\ \textcolor{comment}{//\ LCDC}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01749}01749\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ ((val\ \&\ 0x7B)\ !=\ (\mbox{\hyperlink{mmu_8h_a7436ad149c3b3f2974966d6b546d14d9}{ioRam}}[0x40]\ \&\ 0x7B))}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01750}01750\ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01751}01751\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{gbgfx_8cpp_a5823f3af2c35fce45f1b50d16a313df4}{lineModified}}\ =\ \textcolor{keyword}{true};}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01752}01752\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{gbgfx_8cpp_a6d8811638f07e4ef3353977efe34c68b}{mapsModified}}\ =\ \textcolor{keyword}{true};}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01753}01753\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01754}01754\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ ((val\ \&\ 4)\ !=\ (\mbox{\hyperlink{mmu_8h_a7436ad149c3b3f2974966d6b546d14d9}{ioRam}}[0x40]\ \&\ 4))}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01755}01755\ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01756}01756\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{gbgfx_8cpp_a5823f3af2c35fce45f1b50d16a313df4}{lineModified}}\ =\ \textcolor{keyword}{true};}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01757}01757\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{gbgfx_8cpp_a270d6ce2a8e0be18c9b587c22bd0a9b6}{spritesModified}}\ =\ \textcolor{keyword}{true};}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01758}01758\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01759}01759\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{mmu_8h_a7436ad149c3b3f2974966d6b546d14d9}{ioRam}}[0x40]\ =\ val;}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01760}01760\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (!(val\ \&\ 0x80))}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01761}01761\ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01762}01762\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{mmu_8h_a7436ad149c3b3f2974966d6b546d14d9}{ioRam}}[0x44]\ =\ 0;}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01763}01763\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{mmu_8h_a7436ad149c3b3f2974966d6b546d14d9}{ioRam}}[0x41]\ \&=\ \string~3;\ \textcolor{comment}{//\ Set\ video\ mode\ 0}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01764}01764\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01765}01765\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return};}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01766}01766\ \ \ \ \ \textcolor{keywordflow}{case}\ 0x46:\ \textcolor{comment}{//\ DMA}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01767}01767\ \ \ \ \ \{}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01768}01768\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{int}\ src\ =\ val\ <<\ 8;}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01769}01769\ \ \ \ \ \ \ \ \ u8\ *mem\ =\ \mbox{\hyperlink{mmu_8h_a0f09ea9762f03d69ea68b6c34a0b59d0}{memory}}[src\ >>\ 12];}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01770}01770\ \ \ \ \ \ \ \ \ src\ \&=\ 0xfff;}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01771}01771\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keywordtype}{int}\ i\ =\ 0;\ i\ <\ 0xA0;\ i++)}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01772}01772\ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01773}01773\ \ \ \ \ \ \ \ \ \ \ \ \ u8\ val\ =\ mem[src++];}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01774}01774\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{mmu_8h_ac883c44820bf261155e8eb1dc1e6160f}{hram}}[i]\ =\ val;}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01775}01775\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01776}01776\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{gbgfx_8cpp_a5823f3af2c35fce45f1b50d16a313df4}{lineModified}}\ =\ \textcolor{keyword}{true};}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01777}01777\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{gbgfx_8cpp_a270d6ce2a8e0be18c9b587c22bd0a9b6}{spritesModified}}\ =\ \textcolor{keyword}{true};}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01778}01778\ }
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01779}01779\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{mmu_8h_a7436ad149c3b3f2974966d6b546d14d9}{ioRam}}[ioReg]\ =\ val;}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01780}01780\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ printLog("{}dma\ write\ \%d\(\backslash\)n"{},\ ioRam[0x44]);}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01781}01781\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return};}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01782}01782\ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01783}01783\ \ \ \ \ \textcolor{keywordflow}{case}\ 0x42:}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01784}01784\ \ \ \ \ \textcolor{keywordflow}{case}\ 0x43:}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01785}01785\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (val\ !=\ \mbox{\hyperlink{mmu_8h_a7436ad149c3b3f2974966d6b546d14d9}{ioRam}}[ioReg])}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01786}01786\ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01787}01787\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{mmu_8h_a7436ad149c3b3f2974966d6b546d14d9}{ioRam}}[ioReg]\ =\ val;}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01788}01788\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{gbgfx_8cpp_a5823f3af2c35fce45f1b50d16a313df4}{lineModified}}\ =\ \textcolor{keyword}{true};}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01789}01789\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{gbgfx_8cpp_a6d8811638f07e4ef3353977efe34c68b}{mapsModified}}\ =\ \textcolor{keyword}{true};}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01790}01790\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01791}01791\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{break};}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01792}01792\ \ \ \ \ \textcolor{keywordflow}{case}\ 0x4B:\ \textcolor{comment}{//\ winX}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01793}01793\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (val\ !=\ \mbox{\hyperlink{mmu_8h_a7436ad149c3b3f2974966d6b546d14d9}{ioRam}}[ioReg])}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01794}01794\ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01795}01795\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{mmu_8h_a7436ad149c3b3f2974966d6b546d14d9}{ioRam}}[ioReg]\ =\ val;}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01796}01796\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01797}01797\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{break};}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01798}01798\ \ \ \ \ \textcolor{keywordflow}{case}\ 0x4A:\ \textcolor{comment}{//\ winY}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01799}01799\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{mmu_8h_a7436ad149c3b3f2974966d6b546d14d9}{ioRam}}[0x44]\ >=\ 144\ ||\ val\ >\ \mbox{\hyperlink{mmu_8h_a7436ad149c3b3f2974966d6b546d14d9}{ioRam}}[0x44])}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01800}01800\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{gbgfx_8cpp_adf5931a286627b99da8d76dc7eb033df}{winPosY}}\ =\ -\/1;}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01801}01801\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{else}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01802}01802\ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01803}01803\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ Signal\ that\ winPosY\ must\ be\ reset\ according\ to\ winY}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01804}01804\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{gbgfx_8cpp_adf5931a286627b99da8d76dc7eb033df}{winPosY}}\ =\ -\/2;}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01805}01805\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01806}01806\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{gbgfx_8cpp_a5823f3af2c35fce45f1b50d16a313df4}{lineModified}}\ =\ \textcolor{keyword}{true};}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01807}01807\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{gbgfx_8cpp_a6d8811638f07e4ef3353977efe34c68b}{mapsModified}}\ =\ \textcolor{keyword}{true};}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01808}01808\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{mmu_8h_a7436ad149c3b3f2974966d6b546d14d9}{ioRam}}[ioReg]\ =\ val;}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01809}01809\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{break};}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01810}01810\ \ \ \ \ \textcolor{keywordflow}{case}\ 0x47:\ \textcolor{comment}{//\ BG\ Palette\ (GB\ classic\ only)}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01811}01811\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{gameboy_8h_af3ddfcff387d53e03211aeaa7a0c14ef}{gbMode}}\ ==\ \mbox{\hyperlink{gbcpu_8h_a44172ac633c517cb4c9e278cef36b000}{GB}}\ \&\&\ \mbox{\hyperlink{mmu_8h_a7436ad149c3b3f2974966d6b546d14d9}{ioRam}}[0x47]\ !=\ val)}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01812}01812\ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01813}01813\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{gbgfx_8cpp_a5823f3af2c35fce45f1b50d16a313df4}{lineModified}}\ =\ \textcolor{keyword}{true};}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01814}01814\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{gbgfx_8cpp_a751160e1702627464ad6b4d6d063a655}{bgPalettesModified}}\ =\ \textcolor{keyword}{true};}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01815}01815\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01816}01816\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{mmu_8h_a7436ad149c3b3f2974966d6b546d14d9}{ioRam}}[0x47]\ =\ val;}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01817}01817\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return};}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01818}01818\ \ \ \ \ \textcolor{keywordflow}{case}\ 0x48:\ \textcolor{comment}{//\ Spr\ Palette\ (GB\ classic\ only)}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01819}01819\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{gameboy_8h_af3ddfcff387d53e03211aeaa7a0c14ef}{gbMode}}\ ==\ \mbox{\hyperlink{gbcpu_8h_a44172ac633c517cb4c9e278cef36b000}{GB}}\ \&\&\ \mbox{\hyperlink{mmu_8h_a7436ad149c3b3f2974966d6b546d14d9}{ioRam}}[0x48]\ !=\ val)}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01820}01820\ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01821}01821\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{gbgfx_8cpp_a5823f3af2c35fce45f1b50d16a313df4}{lineModified}}\ =\ \textcolor{keyword}{true};}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01822}01822\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{gbgfx_8cpp_a7bdc492b1884bde1b603abce41cde89e}{sprPalettesModified}}\ =\ \textcolor{keyword}{true};}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01823}01823\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01824}01824\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{mmu_8h_a7436ad149c3b3f2974966d6b546d14d9}{ioRam}}[0x48]\ =\ val;}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01825}01825\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return};}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01826}01826\ \ \ \ \ \textcolor{keywordflow}{case}\ 0x49:\ \textcolor{comment}{//\ Spr\ Palette\ (GB\ classic\ only)}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01827}01827\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{gameboy_8h_af3ddfcff387d53e03211aeaa7a0c14ef}{gbMode}}\ ==\ \mbox{\hyperlink{gbcpu_8h_a44172ac633c517cb4c9e278cef36b000}{GB}}\ \&\&\ \mbox{\hyperlink{mmu_8h_a7436ad149c3b3f2974966d6b546d14d9}{ioRam}}[0x49]\ !=\ val)}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01828}01828\ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01829}01829\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{gbgfx_8cpp_a5823f3af2c35fce45f1b50d16a313df4}{lineModified}}\ =\ \textcolor{keyword}{true};}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01830}01830\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{gbgfx_8cpp_a7bdc492b1884bde1b603abce41cde89e}{sprPalettesModified}}\ =\ \textcolor{keyword}{true};}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01831}01831\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01832}01832\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{mmu_8h_a7436ad149c3b3f2974966d6b546d14d9}{ioRam}}[0x49]\ =\ val;}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01833}01833\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return};}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01834}01834\ \ \ \ \ \textcolor{keywordflow}{case}\ 0x69:\ \textcolor{comment}{//\ BG\ Palette\ Data\ (GBC\ only)}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01835}01835\ \ \ \ \ \{}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01836}01836\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{int}\ index\ =\ \mbox{\hyperlink{mmu_8h_a7436ad149c3b3f2974966d6b546d14d9}{ioRam}}[0x68]\ \&\ 0x3F;}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01837}01837\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{gbgfx_8h_a254d3c52c2ae7fff61e52168c0c37e86}{bgPaletteData}}[index]\ !=\ val)}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01838}01838\ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01839}01839\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{gbgfx_8h_a254d3c52c2ae7fff61e52168c0c37e86}{bgPaletteData}}[index]\ =\ val;}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01840}01840\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{gbgfx_8cpp_a5823f3af2c35fce45f1b50d16a313df4}{lineModified}}\ =\ \textcolor{keyword}{true};}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01841}01841\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{gbgfx_8cpp_a751160e1702627464ad6b4d6d063a655}{bgPalettesModified}}\ =\ \textcolor{keyword}{true};}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01842}01842\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01843}01843\ }
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01844}01844\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{mmu_8h_a7436ad149c3b3f2974966d6b546d14d9}{ioRam}}[0x68]\ \&\ 0x80)}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01845}01845\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{mmu_8h_a7436ad149c3b3f2974966d6b546d14d9}{ioRam}}[0x68]\ =\ 0x80\ |\ (\mbox{\hyperlink{mmu_8h_a7436ad149c3b3f2974966d6b546d14d9}{ioRam}}[0x68]\ +\ 1);}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01846}01846\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{mmu_8h_a7436ad149c3b3f2974966d6b546d14d9}{ioRam}}[0x69]\ =\ \mbox{\hyperlink{gbgfx_8h_a254d3c52c2ae7fff61e52168c0c37e86}{bgPaletteData}}[\mbox{\hyperlink{mmu_8h_a7436ad149c3b3f2974966d6b546d14d9}{ioRam}}[0x68]\ \&\ 0x3F];}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01847}01847\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return};}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01848}01848\ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01849}01849\ \ \ \ \ \textcolor{keywordflow}{case}\ 0x6B:\ \textcolor{comment}{//\ Sprite\ Palette\ Data\ (GBC\ only)}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01850}01850\ \ \ \ \ \{}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01851}01851\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{int}\ index\ =\ \mbox{\hyperlink{mmu_8h_a7436ad149c3b3f2974966d6b546d14d9}{ioRam}}[0x6A]\ \&\ 0x3F;}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01852}01852\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{gbgfx_8h_ac22d8f92fe46c2fe4681159f06c6192a}{sprPaletteData}}[index]\ !=\ val)}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01853}01853\ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01854}01854\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{gbgfx_8h_ac22d8f92fe46c2fe4681159f06c6192a}{sprPaletteData}}[index]\ =\ val;}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01855}01855\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{gbgfx_8cpp_a5823f3af2c35fce45f1b50d16a313df4}{lineModified}}\ =\ \textcolor{keyword}{true};}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01856}01856\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{gbgfx_8cpp_a7bdc492b1884bde1b603abce41cde89e}{sprPalettesModified}}\ =\ \textcolor{keyword}{true};}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01857}01857\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01858}01858\ }
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01859}01859\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{mmu_8h_a7436ad149c3b3f2974966d6b546d14d9}{ioRam}}[0x6A]\ \&\ 0x80)}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01860}01860\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{mmu_8h_a7436ad149c3b3f2974966d6b546d14d9}{ioRam}}[0x6A]\ =\ 0x80\ |\ (\mbox{\hyperlink{mmu_8h_a7436ad149c3b3f2974966d6b546d14d9}{ioRam}}[0x6A]\ +\ 1);}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01861}01861\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{mmu_8h_a7436ad149c3b3f2974966d6b546d14d9}{ioRam}}[0x6B]\ =\ \mbox{\hyperlink{gbgfx_8h_ac22d8f92fe46c2fe4681159f06c6192a}{sprPaletteData}}[\mbox{\hyperlink{mmu_8h_a7436ad149c3b3f2974966d6b546d14d9}{ioRam}}[0x6A]\ \&\ 0x3F];}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01862}01862\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return};}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01863}01863\ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01864}01864\ \ \ \ \ \textcolor{keywordflow}{default}:}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01865}01865\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{mmu_8h_a7436ad149c3b3f2974966d6b546d14d9}{ioRam}}[ioReg]\ =\ val;}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01866}01866\ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01867}01867\ \}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01868}01868\ }
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01869}\mbox{\hyperlink{gbgfx_8h_a496cd2cdb3d9a1f4ca5bf45325ebdc0a}{01869}}\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{gbgfx_8cpp_a496cd2cdb3d9a1f4ca5bf45325ebdc0a}{writeHram}}(u16\ addr,\ u8\ val)}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01870}01870\ \{}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01871}01871\ \ \ \ \ \mbox{\hyperlink{mmu_8h_ac883c44820bf261155e8eb1dc1e6160f}{hram}}[addr\ \&\ 0x1ff]\ =\ val;}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01872}01872\ \ \ \ \ \mbox{\hyperlink{gbgfx_8cpp_a5823f3af2c35fce45f1b50d16a313df4}{lineModified}}\ =\ \textcolor{keyword}{true};}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01873}01873\ \ \ \ \ \mbox{\hyperlink{gbgfx_8cpp_a270d6ce2a8e0be18c9b587c22bd0a9b6}{spritesModified}}\ =\ \textcolor{keyword}{true};}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01874}01874\ \}}

\end{DoxyCode}
