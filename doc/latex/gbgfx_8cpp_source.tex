\hypertarget{gbgfx_8cpp_source}{}\doxysection{gbgfx.\+cpp}
\label{gbgfx_8cpp_source}\index{arm9/source/gbgfx.cpp@{arm9/source/gbgfx.cpp}}
\mbox{\hyperlink{gbgfx_8cpp}{Go to the documentation of this file.}}
\begin{DoxyCode}{0}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00001}00001\ \textcolor{preprocessor}{\#include\ "{}printerIcon.h"{}}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00002}00002\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{inputhelper_8h}{inputhelper.h}}"{}}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00003}00003\ \textcolor{preprocessor}{\#include\ <string.h>}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00004}00004\ \textcolor{preprocessor}{\#include\ <dirent.h>}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00005}00005\ \textcolor{preprocessor}{\#include\ <unistd.h>}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00006}00006\ \textcolor{preprocessor}{\#include\ <vector>}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00007}00007\ \textcolor{preprocessor}{\#include\ <nds.h>}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00008}00008\ \textcolor{preprocessor}{\#include\ <stdio.h>}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00009}00009\ \textcolor{preprocessor}{\#include\ <math.h>}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00010}00010\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{gbs_8h}{gbs.h}}"{}}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00011}00011\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{gbgfx_8h}{gbgfx.h}}"{}}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00012}00012\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{mmu_8h}{mmu.h}}"{}}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00013}00013\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{gbcpu_8h}{gbcpu.h}}"{}}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00014}00014\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{main_8h}{main.h}}"{}}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00015}00015\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{gameboy_8h}{gameboy.h}}"{}}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00016}00016\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{sgb_8h}{sgb.h}}"{}}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00017}00017\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{console_8h}{console.h}}"{}}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00018}00018\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{filechooser_8h}{filechooser.h}}"{}}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00019}00019\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{inputhelper_8h}{inputhelper.h}}"{}}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00020}00020\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{common_8h}{common.h}}"{}}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00021}00021\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{gbsnd_8h}{gbsnd.h}}"{}}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00022}00022\ }
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00023}\mbox{\hyperlink{gbgfx_8cpp_a075aa9549fd1d8e0bde8b65e2233d169}{00023}}\ \textcolor{preprocessor}{\#define\ BACKDROP\_COLOUR\ RGB15(0,\ 0,\ 0)}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00024}00024\ }
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00025}\mbox{\hyperlink{gbgfx_8cpp_a83ace767bc1330b97e1e66dac3d0ec32}{00025}}\ \textcolor{keyword}{const}\ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{gbgfx_8cpp_a83ace767bc1330b97e1e66dac3d0ec32}{map\_base}}[]\ =\ \{1,\ 2\};}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00026}\mbox{\hyperlink{gbgfx_8cpp_ae6e7b7ff5173baf7ca4316c5de93a2c7}{00026}}\ \textcolor{keyword}{const}\ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{gbgfx_8cpp_ae6e7b7ff5173baf7ca4316c5de93a2c7}{color0\_map\_base}}[]\ =\ \{3,\ 4\};}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00027}\mbox{\hyperlink{gbgfx_8cpp_a40bbc77db17292c166f889155e08fe44}{00027}}\ \textcolor{keyword}{const}\ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{gbgfx_8cpp_a40bbc77db17292c166f889155e08fe44}{overlay\_map\_base}}[]\ =\ \{5,\ 6\};}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00028}\mbox{\hyperlink{gbgfx_8cpp_a91ce402e5df15ae36e306bc87e0e8571}{00028}}\ \textcolor{keyword}{const}\ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{gbgfx_8cpp_a91ce402e5df15ae36e306bc87e0e8571}{off\_map\_base}}\ =\ 7;}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00029}\mbox{\hyperlink{gbgfx_8cpp_abd413371db8b3b61cd83231c431f4479}{00029}}\ \textcolor{keyword}{const}\ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{gbgfx_8cpp_abd413371db8b3b61cd83231c431f4479}{border\_map\_base}}\ =\ 8;}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00030}00030\ }
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00031}\mbox{\hyperlink{gbgfx_8cpp_ad3002ecdd358dc1031b7f3f5367d856d}{00031}}\ \textcolor{keyword}{const}\ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{gbgfx_8cpp_ad3002ecdd358dc1031b7f3f5367d856d}{OFF\_MAP\_PALETTE\_INDEX}}\ =\ 15\ *\ 16\ +\ 1;}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00032}00032\ }
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00033}\mbox{\hyperlink{gbgfx_8cpp_a1e800a6a0ab719ff1af9a81efd02877a}{00033}}\ u16\ *\textcolor{keyword}{const}\ \mbox{\hyperlink{gbgfx_8cpp_a1e800a6a0ab719ff1af9a81efd02877a}{map}}[2]\ =\ \{BG\_MAP\_RAM(\mbox{\hyperlink{gbgfx_8cpp_a83ace767bc1330b97e1e66dac3d0ec32}{map\_base}}[0]),\ BG\_MAP\_RAM(\mbox{\hyperlink{gbgfx_8cpp_a83ace767bc1330b97e1e66dac3d0ec32}{map\_base}}[1])\};}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00034}\mbox{\hyperlink{gbgfx_8cpp_a11c5fa757d50eb2a76a07eab96e06af2}{00034}}\ u16\ *\textcolor{keyword}{const}\ \mbox{\hyperlink{gbgfx_8cpp_a11c5fa757d50eb2a76a07eab96e06af2}{color0Map}}[2]\ =\ \{BG\_MAP\_RAM(\mbox{\hyperlink{gbgfx_8cpp_ae6e7b7ff5173baf7ca4316c5de93a2c7}{color0\_map\_base}}[0]),\ BG\_MAP\_RAM(\mbox{\hyperlink{gbgfx_8cpp_ae6e7b7ff5173baf7ca4316c5de93a2c7}{color0\_map\_base}}[1])\};}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00035}\mbox{\hyperlink{gbgfx_8cpp_adb86ece52e11b17321b0ba3ae9b2710a}{00035}}\ u16\ *\textcolor{keyword}{const}\ \mbox{\hyperlink{gbgfx_8cpp_adb86ece52e11b17321b0ba3ae9b2710a}{overlayMap}}[2]\ =\ \{BG\_MAP\_RAM(\mbox{\hyperlink{gbgfx_8cpp_a40bbc77db17292c166f889155e08fe44}{overlay\_map\_base}}[0]),\ BG\_MAP\_RAM(\mbox{\hyperlink{gbgfx_8cpp_a40bbc77db17292c166f889155e08fe44}{overlay\_map\_base}}[1])\};}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00036}\mbox{\hyperlink{gbgfx_8cpp_a7ec3797409dcee1456d33ccce6eaddde}{00036}}\ u16\ *\textcolor{keyword}{const}\ \mbox{\hyperlink{gbgfx_8cpp_a7ec3797409dcee1456d33ccce6eaddde}{offMap}}\ =\ BG\_MAP\_RAM(\mbox{\hyperlink{gbgfx_8cpp_a91ce402e5df15ae36e306bc87e0e8571}{off\_map\_base}});}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00037}\mbox{\hyperlink{gbgfx_8cpp_a1098ad62439e76ffa2cc640296a8d9f1}{00037}}\ u16\ *\textcolor{keyword}{const}\ \mbox{\hyperlink{gbgfx_8cpp_a1098ad62439e76ffa2cc640296a8d9f1}{borderMap}}\ =\ BG\_MAP\_RAM(\mbox{\hyperlink{gbgfx_8cpp_abd413371db8b3b61cd83231c431f4479}{border\_map\_base}});}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00038}00038\ }
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00039}\mbox{\hyperlink{gbgfx_8cpp_a1b6ed3b899ddd242915f4dd097981b9c}{00039}}\ \textcolor{keyword}{const}\ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{gbgfx_8cpp_a1b6ed3b899ddd242915f4dd097981b9c}{firstGbSprite}}\ =\ 128\ -\/\ 40;}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00040}00040\ }
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00041}\mbox{\hyperlink{gbgfx_8cpp_a74f524dec8b515de3783f1ca4fe9966a}{00041}}\ \textcolor{keyword}{const}\ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{gbgfx_8cpp_a74f524dec8b515de3783f1ca4fe9966a}{spr\_priority}}\ =\ 2;}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00042}\mbox{\hyperlink{gbgfx_8cpp_acb5531c62e489ea1cae44400ac9336ee}{00042}}\ \textcolor{keyword}{const}\ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{gbgfx_8cpp_acb5531c62e489ea1cae44400ac9336ee}{spr\_priority\_low}}\ =\ 3;}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00043}00043\ }
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00044}\mbox{\hyperlink{gbgfx_8cpp_abf4dba0db945ceed11b00da029badbde}{00044}}\ \textcolor{keyword}{const}\ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{gbgfx_8cpp_abf4dba0db945ceed11b00da029badbde}{win\_color0\_priority}}\ =\ 3;}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00045}\mbox{\hyperlink{gbgfx_8cpp_af31a9f5a39555bd2b4a05dfdbc8c1835}{00045}}\ \textcolor{keyword}{const}\ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{gbgfx_8cpp_af31a9f5a39555bd2b4a05dfdbc8c1835}{win\_priority}}\ =\ 2;}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00046}00046\ }
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00047}\mbox{\hyperlink{gbgfx_8cpp_a0b46cea5d84f2577ca9084a7ce1938bb}{00047}}\ \textcolor{keyword}{const}\ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{gbgfx_8cpp_a0b46cea5d84f2577ca9084a7ce1938bb}{bg\_color0\_priority}}\ =\ 3;}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00048}\mbox{\hyperlink{gbgfx_8cpp_a3f02de6a79af2ad2983cd2b9cbfe2442}{00048}}\ \textcolor{keyword}{const}\ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{gbgfx_8cpp_a3f02de6a79af2ad2983cd2b9cbfe2442}{bg\_priority}}\ =\ 2;}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00049}00049\ }
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00050}\mbox{\hyperlink{gbgfx_8cpp_af56ca8375678dbe0b7bccaf88aa02469}{00050}}\ \textcolor{keyword}{const}\ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{gbgfx_8cpp_af56ca8375678dbe0b7bccaf88aa02469}{bg\_overlay\_priority}}\ =\ 1;}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00051}\mbox{\hyperlink{gbgfx_8cpp_ab963a509c56b484cae862e8f1db740dc}{00051}}\ \textcolor{keyword}{const}\ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{gbgfx_8cpp_ab963a509c56b484cae862e8f1db740dc}{win\_overlay\_priority}}\ =\ 1;}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00052}00052\ }
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00053}\mbox{\hyperlink{gbgfx_8cpp_ae3246472d110c092ff32a7f01971651e}{00053}}\ \textcolor{keyword}{const}\ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{gbgfx_8cpp_ae3246472d110c092ff32a7f01971651e}{bg\_all\_priority}}\ =\ 2;}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00054}\mbox{\hyperlink{gbgfx_8cpp_a2f7019b05da7580d78d7b80310aca299}{00054}}\ \textcolor{keyword}{const}\ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{gbgfx_8cpp_a2f7019b05da7580d78d7b80310aca299}{win\_all\_priority}}\ =\ 2;}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00055}00055\ }
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00056}\mbox{\hyperlink{gbgfx_8cpp_a285192f5390f5531ee1cca872f957d2d}{00056}}\ \textcolor{keyword}{const}\ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{gbgfx_8cpp_a285192f5390f5531ee1cca872f957d2d}{screenOffsX}}\ =\ 48;}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00057}\mbox{\hyperlink{gbgfx_8cpp_ae4626134fe8c5a191c8a9d36e9319cbc}{00057}}\ \textcolor{keyword}{const}\ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{gbgfx_8cpp_ae4626134fe8c5a191c8a9d36e9319cbc}{screenOffsY}}\ =\ 24;}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00058}00058\ }
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00059}\mbox{\hyperlink{gbgfx_8cpp_ae5d63a0df1fc230d6fb3b5c67314393d}{00059}}\ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{gbgfx_8cpp_ae5d63a0df1fc230d6fb3b5c67314393d}{gbGraphicsDisabled}}\ =\ \textcolor{keyword}{false};}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00060}00060\ }
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00061}00061\ \textcolor{comment}{//\ If\ the\ game\ is\ using\ the\ GBC's\ priority\ bit\ for\ tiles,\ the\ corresponding}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00062}00062\ \textcolor{comment}{//\ variable\ is\ set.\ This\ helps\ with\ layer\ management.}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00063}\mbox{\hyperlink{gbgfx_8cpp_a3b35e4c59fbe530ccfd4fc14c5d4c265}{00063}}\ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{gbgfx_8cpp_a3b35e4c59fbe530ccfd4fc14c5d4c265}{usingTilePriority}}[2];}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00064}00064\ }
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00065}\mbox{\hyperlink{gbgfx_8cpp_a5458fb138ca4b8f989873109fd0c53d7}{00065}}\ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{gbgfx_8cpp_a5458fb138ca4b8f989873109fd0c53d7}{didVblank}}\ =\ \textcolor{keyword}{false};}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00066}00066\ \textcolor{comment}{//\ Frame\ counter.\ Incremented\ each\ vblank.}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00067}\mbox{\hyperlink{gbgfx_8h_acc585c432eca446ce44bda6d820320d8}{00067}}\ \textcolor{keyword}{volatile}\ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{gbgfx_8cpp_acc585c432eca446ce44bda6d820320d8}{dsFrameCounter}}\ =\ 0;}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00068}00068\ }
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00069}\mbox{\hyperlink{gbgfx_8cpp_a542811a076e55daa66e05901298fc57a}{00069}}\ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{gbgfx_8cpp_a542811a076e55daa66e05901298fc57a}{changedTile}}[2][0x180];}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00070}\mbox{\hyperlink{gbgfx_8cpp_a45834c0f350c7bfbd7657d32bcf42d43}{00070}}\ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{gbgfx_8cpp_a45834c0f350c7bfbd7657d32bcf42d43}{changedTileQueueLength}}\ =\ 0;}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00071}\mbox{\hyperlink{gbgfx_8cpp_ade2d99a4b9f321c5dcb857b655c91f48}{00071}}\ u16\ \mbox{\hyperlink{gbgfx_8cpp_ade2d99a4b9f321c5dcb857b655c91f48}{changedTileQueue}}[0x300];}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00072}00072\ }
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00073}\mbox{\hyperlink{gbgfx_8cpp_af36bd9924bc4a1c5da12c77c46713f4c}{00073}}\ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{gbgfx_8cpp_af36bd9924bc4a1c5da12c77c46713f4c}{changedTileInFrame}}[2][0x180];}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00074}\mbox{\hyperlink{gbgfx_8cpp_adb7a4f818a75d747ae51e6b16dbe623f}{00074}}\ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{gbgfx_8cpp_adb7a4f818a75d747ae51e6b16dbe623f}{changedTileInFrameQueueLength}}\ =\ 0;}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00075}\mbox{\hyperlink{gbgfx_8cpp_ae569c6094981c38d5e0754f2dae61816}{00075}}\ u16\ \mbox{\hyperlink{gbgfx_8cpp_ae569c6094981c38d5e0754f2dae61816}{changedTileInFrameQueue}}[0x300];}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00076}00076\ }
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00077}\mbox{\hyperlink{gbgfx_8cpp_a7a79512469ed835be49735d7e6233390}{00077}}\ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{gbgfx_8cpp_a7a79512469ed835be49735d7e6233390}{changedMap}}[2][0x400];}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00078}\mbox{\hyperlink{gbgfx_8cpp_aad42beb02a7313afa3778db5e804f851}{00078}}\ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{gbgfx_8cpp_aad42beb02a7313afa3778db5e804f851}{changedMapQueueLength}}[2];}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00079}\mbox{\hyperlink{gbgfx_8cpp_a9d36dda4f8424acfa6e750cbb86fac06}{00079}}\ u16\ \mbox{\hyperlink{gbgfx_8cpp_a9d36dda4f8424acfa6e750cbb86fac06}{changedMapQueue}}[2][0x400];}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00080}00080\ }
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00081}\mbox{\hyperlink{gbgfx_8cpp_a8355f1c3ad9d0c737c5304f5ca2dba5e}{00081}}\ u8\ \mbox{\hyperlink{gbgfx_8h_a254d3c52c2ae7fff61e52168c0c37e86}{bgPaletteData}}[0x40]\ \mbox{\hyperlink{gbgfx_8cpp_a8355f1c3ad9d0c737c5304f5ca2dba5e}{ALIGN}}(4);}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00082}00082\ u8\ \mbox{\hyperlink{gbgfx_8h_ac22d8f92fe46c2fe4681159f06c6192a}{sprPaletteData}}[0x40]\ \mbox{\hyperlink{gbgfx_8cpp_a8355f1c3ad9d0c737c5304f5ca2dba5e}{ALIGN}}(4);}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00083}00083\ }
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00084}\mbox{\hyperlink{gbgfx_8cpp_adf5931a286627b99da8d76dc7eb033df}{00084}}\ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{gbgfx_8cpp_adf5931a286627b99da8d76dc7eb033df}{winPosY}}\ =\ 0;}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00085}00085\ }
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00086}\mbox{\hyperlink{gbgfx_8cpp_a5823f3af2c35fce45f1b50d16a313df4}{00086}}\ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{gbgfx_8cpp_a5823f3af2c35fce45f1b50d16a313df4}{lineModified}};}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00087}\mbox{\hyperlink{gbgfx_8cpp_a6d8811638f07e4ef3353977efe34c68b}{00087}}\ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{gbgfx_8cpp_a6d8811638f07e4ef3353977efe34c68b}{mapsModified}};}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00088}\mbox{\hyperlink{gbgfx_8cpp_a751160e1702627464ad6b4d6d063a655}{00088}}\ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{gbgfx_8cpp_a751160e1702627464ad6b4d6d063a655}{bgPalettesModified}};}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00089}\mbox{\hyperlink{gbgfx_8cpp_a7bdc492b1884bde1b603abce41cde89e}{00089}}\ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{gbgfx_8cpp_a7bdc492b1884bde1b603abce41cde89e}{sprPalettesModified}};}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00090}\mbox{\hyperlink{gbgfx_8cpp_a270d6ce2a8e0be18c9b587c22bd0a9b6}{00090}}\ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{gbgfx_8cpp_a270d6ce2a8e0be18c9b587c22bd0a9b6}{spritesModified}};}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00091}00091\ }
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00092}00092\ \textcolor{comment}{//\ Whether\ to\ wait\ for\ vblank\ if\ emulation\ is\ running\ behind\ schedule}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00093}\mbox{\hyperlink{gbgfx_8h_aa419499bc88635e3e3e2ad6616e17563}{00093}}\ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{gbgfx_8cpp_aa419499bc88635e3e3e2ad6616e17563}{interruptWaitMode}}\ =\ 0;}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00094}00094\ }
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00095}\mbox{\hyperlink{console_8cpp_a7e77ece2ff8da663172ec7854ce1ad4a}{00095}}\ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{gbgfx_8cpp_a7e77ece2ff8da663172ec7854ce1ad4a}{windowDisabled}}\ =\ \textcolor{keyword}{false};}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00096}\mbox{\hyperlink{console_8cpp_ab764cbdc62a676940e3d9c4940461cea}{00096}}\ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{gbgfx_8cpp_ab764cbdc62a676940e3d9c4940461cea}{hblankDisabled}}\ =\ \textcolor{keyword}{false};}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00097}00097\ }
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00098}\mbox{\hyperlink{gbgfx_8h_a156841b066241f0fedaeedc3b9bebe4f}{00098}}\ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{gbgfx_8cpp_a156841b066241f0fedaeedc3b9bebe4f}{scaleMode}};}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00099}\mbox{\hyperlink{gbgfx_8h_a89e8f23cbae54ca6f6935daecbb1c5c5}{00099}}\ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{gbgfx_8cpp_a89e8f23cbae54ca6f6935daecbb1c5c5}{scaleFilter}}\ =\ 1;}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00100}\mbox{\hyperlink{gbgfx_8h_a0e19dccb2272e5ec93cee1dbe5b3fee3}{00100}}\ u8\ \mbox{\hyperlink{gbgfx_8cpp_a0e19dccb2272e5ec93cee1dbe5b3fee3}{gfxMask}};}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00101}00101\ }
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00102}\mbox{\hyperlink{gbgfx_8h_aef6032a39f08d1728cefcc4e8be2d437}{00102}}\ \textcolor{keyword}{volatile}\ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{gbgfx_8cpp_aef6032a39f08d1728cefcc4e8be2d437}{loadedBorderType}};\ \textcolor{comment}{//\ This\ is\ read\ from\ hblank}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00103}\mbox{\hyperlink{gbgfx_8h_a6092e57bcfad6a29770fdc99f3f3b221}{00103}}\ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{gbgfx_8cpp_a6092e57bcfad6a29770fdc99f3f3b221}{customBorderExists}}\ =\ \textcolor{keyword}{true};}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00104}\mbox{\hyperlink{gbgfx_8h_a134de385e7f51e7cb43357cf0bb4b624}{00104}}\ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{gbgfx_8cpp_a134de385e7f51e7cb43357cf0bb4b624}{sgbBorderLoaded}};}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00105}00105\ }
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00106}\mbox{\hyperlink{gbgfx_8cpp_af3e8557b7fc26006b9850248932ddf8b}{00106}}\ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{gbgfx_8cpp_af3e8557b7fc26006b9850248932ddf8b}{SCALE\_BGX}},\ \mbox{\hyperlink{gbgfx_8cpp_a2f95b3058774b52ad7e38b3f5c7174f5}{SCALE\_BGY}};}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00107}00107\ }
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00108}\mbox{\hyperlink{gbgfx_8cpp_a31c7dcff373ddfa6b23617e9298f961d}{00108}}\ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{gbgfx_8cpp_a31c7dcff373ddfa6b23617e9298f961d}{lastScreenDisabled}};}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00109}\mbox{\hyperlink{gbgfx_8cpp_a097b7a3d0c46cf0afdc98b34bf6f99ed}{00109}}\ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{gbgfx_8cpp_a097b7a3d0c46cf0afdc98b34bf6f99ed}{screenDisabled}};}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00110}00110\ }
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00111}00111\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{gbgfx_8cpp_a88f8d46d8cf1f3ea65e4e290a99020d9}{drawSprites}}(u8\ *data,\ \textcolor{keywordtype}{int}\ tallSprites);}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00112}00112\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{gbgfx_8cpp_a8c19f928b2c7863839f14f5609538afd}{drawTile}}(\textcolor{keywordtype}{int}\ tile,\ \textcolor{keywordtype}{int}\ bank);}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00113}00113\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{gbgfx_8cpp_a73afcb774f607a0031a6877ab3059fd3}{updateTiles}}();}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00114}00114\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{gbgfx_8cpp_a60975f999e5000cce01f957e5061efc2}{updateTileMaps}}();}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00115}00115\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{gbgfx_8cpp_a38cfcb29e33564da47daf80302f353b5}{updateTileMap}}(\textcolor{keywordtype}{int}\ \mbox{\hyperlink{gbgfx_8cpp_a1e800a6a0ab719ff1af9a81efd02877a}{map}},\ \textcolor{keywordtype}{int}\ i);}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00116}00116\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{gbgfx_8cpp_a9a8e94462dd86825fa22f6a3a145862e}{updateBgPalette}}(\textcolor{keywordtype}{int}\ paletteid,\ u8\ *data,\ u8\ dmgPal);}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00117}00117\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{gbgfx_8cpp_a1214c2484459d4a461f437e67a072694}{updateBgPalette\_GBC}}(\textcolor{keywordtype}{int}\ paletteid,\ u8\ *data);}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00118}00118\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{gbgfx_8cpp_a69f15ee8d4cda930e01bfe3e42bbd66a}{updateSprPalette}}(\textcolor{keywordtype}{int}\ paletteid,\ u8\ *data,\ u8\ dmgPal);}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00119}00119\ }
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00120}\mbox{\hyperlink{gbgfx_8cpp_a3cd39047a50d108bad589552d5c28d18}{00120}}\ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{gbgfx_8cpp_a3cd39047a50d108bad589552d5c28d18}{lineCompleted}}[144];}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00121}\mbox{\hyperlink{struct_scanline_struct}{00121}}\ \textcolor{keyword}{typedef}\ \textcolor{keyword}{struct}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00122}00122\ \{}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00123}\mbox{\hyperlink{struct_scanline_struct_a211a54f2977b36b5612d4221ceff850f}{00123}}\ \ \ \ \ u8\ \mbox{\hyperlink{gbgfx_8h_a254d3c52c2ae7fff61e52168c0c37e86}{bgPaletteData}}[0x40]\ \mbox{\hyperlink{struct_scanline_struct_a211a54f2977b36b5612d4221ceff850f}{ALIGN}}(4);}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00124}\mbox{\hyperlink{struct_scanline_struct_a2f63d1fb4f6e664116e95ff50fb4d771}{00124}}\ \ \ \ \ u8\ \mbox{\hyperlink{gbgfx_8h_ac22d8f92fe46c2fe4681159f06c6192a}{sprPaletteData}}[0x40]\ \mbox{\hyperlink{struct_scanline_struct_a2f63d1fb4f6e664116e95ff50fb4d771}{ALIGN}}(4);}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00125}\mbox{\hyperlink{struct_scanline_struct_a336f890daf27be7a9bd3728673d20a16}{00125}}\ \ \ \ \ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{struct_scanline_struct_a336f890daf27be7a9bd3728673d20a16}{modified}};}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00126}\mbox{\hyperlink{struct_scanline_struct_af7c7cb7f298fa852d7747a2734499cee}{00126}}\ \ \ \ \ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{struct_scanline_struct_af7c7cb7f298fa852d7747a2734499cee}{mapsModified}};}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00127}\mbox{\hyperlink{struct_scanline_struct_a29c1fa6eb5e29c3a97f0ade15c3d6c79}{00127}}\ \ \ \ \ u8\ \mbox{\hyperlink{struct_scanline_struct_a29c1fa6eb5e29c3a97f0ade15c3d6c79}{hofs}};}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00128}\mbox{\hyperlink{struct_scanline_struct_a8616c1aa21ec4e29a2fd542dda75cc8f}{00128}}\ \ \ \ \ u8\ \mbox{\hyperlink{struct_scanline_struct_a8616c1aa21ec4e29a2fd542dda75cc8f}{vofs}};}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00129}\mbox{\hyperlink{struct_scanline_struct_ac62895524abcf9746f5762536a1f8556}{00129}}\ \ \ \ \ u8\ \mbox{\hyperlink{struct_scanline_struct_ac62895524abcf9746f5762536a1f8556}{winX}};}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00130}\mbox{\hyperlink{struct_scanline_struct_a8d7776aee90d159b7957a30746690175}{00130}}\ \ \ \ \ u8\ \mbox{\hyperlink{struct_scanline_struct_a8d7776aee90d159b7957a30746690175}{winY}};}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00131}\mbox{\hyperlink{struct_scanline_struct_a1b98193d12dedc8710ce22bae9131fb3}{00131}}\ \ \ \ \ u8\ \mbox{\hyperlink{struct_scanline_struct_a1b98193d12dedc8710ce22bae9131fb3}{winPosY}};}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00132}\mbox{\hyperlink{struct_scanline_struct_a3eb9afc043d7b48081054d31bbd5b5ee}{00132}}\ \ \ \ \ u8\ \mbox{\hyperlink{struct_scanline_struct_a3eb9afc043d7b48081054d31bbd5b5ee}{winOn}};}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00133}\mbox{\hyperlink{struct_scanline_struct_a4d5a5e33b85637c02a93ec769c7631ae}{00133}}\ \ \ \ \ u16\ \mbox{\hyperlink{struct_scanline_struct_a4d5a5e33b85637c02a93ec769c7631ae}{bgColor0Cnt}};}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00134}\mbox{\hyperlink{struct_scanline_struct_ae7458b84776ae55eadf7d310764e60c5}{00134}}\ \ \ \ \ u16\ \mbox{\hyperlink{struct_scanline_struct_ae7458b84776ae55eadf7d310764e60c5}{bgCnt}};}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00135}\mbox{\hyperlink{struct_scanline_struct_a2c1e744c540d565ae23f79d5b6c4f13a}{00135}}\ \ \ \ \ u16\ \mbox{\hyperlink{struct_scanline_struct_a2c1e744c540d565ae23f79d5b6c4f13a}{bgOverlayCnt}};}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00136}\mbox{\hyperlink{struct_scanline_struct_a09b441f9df432f6b27868df63f75c86e}{00136}}\ \ \ \ \ u16\ \mbox{\hyperlink{struct_scanline_struct_a09b441f9df432f6b27868df63f75c86e}{bgAllCnt}};}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00137}\mbox{\hyperlink{struct_scanline_struct_a628dcb4a7573142ee58304a88a94ae2d}{00137}}\ \ \ \ \ u16\ \mbox{\hyperlink{struct_scanline_struct_a628dcb4a7573142ee58304a88a94ae2d}{winColor0Cnt}};\ \ \textcolor{comment}{//\ Contains\ color\ 0\ only}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00138}\mbox{\hyperlink{struct_scanline_struct_a0f9059cd63f6b283f48ac0a7178aba52}{00138}}\ \ \ \ \ u16\ \mbox{\hyperlink{struct_scanline_struct_a0f9059cd63f6b283f48ac0a7178aba52}{winCnt}};\ \ \ \ \ \ \ \ \textcolor{comment}{//\ Contains\ colors\ 1-\/3}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00139}\mbox{\hyperlink{struct_scanline_struct_a296e759aff6b478d1e115891c7f69e5f}{00139}}\ \ \ \ \ u16\ \mbox{\hyperlink{struct_scanline_struct_a296e759aff6b478d1e115891c7f69e5f}{winOverlayCnt}};\ \textcolor{comment}{//\ Contains\ colors\ 1-\/3,\ only\ for\ 'priority'\ tiles}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00140}\mbox{\hyperlink{struct_scanline_struct_a703c2f8f0ffc5c2a95ddc763db0743fd}{00140}}\ \ \ \ \ u16\ \mbox{\hyperlink{struct_scanline_struct_a703c2f8f0ffc5c2a95ddc763db0743fd}{winAllCnt}};\ \ \ \ \ \textcolor{comment}{//\ Contains\ colors\ 0-\/3.\ Used\ when\ available\ layers\ are\ limited.}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00141}\mbox{\hyperlink{struct_scanline_struct_a736b19cc5281791d106022368cc319fd}{00141}}\ \ \ \ \ u8\ \mbox{\hyperlink{struct_scanline_struct_a736b19cc5281791d106022368cc319fd}{bgMap}},\ winMap;}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00142}\mbox{\hyperlink{struct_scanline_struct_adf5cb31009707e20fb58ba43473f5b44}{00142}}\ \ \ \ \ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{struct_scanline_struct_adf5cb31009707e20fb58ba43473f5b44}{spritesOn}};}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00143}\mbox{\hyperlink{struct_scanline_struct_a2b628f4e841ccc096056d92b693eb6e3}{00143}}\ \ \ \ \ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{struct_scanline_struct_a2b628f4e841ccc096056d92b693eb6e3}{tileSigned}};}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00144}\mbox{\hyperlink{struct_scanline_struct_a0a3ad89252909262e540cff1f9c24d96}{00144}}\ \ \ \ \ u8\ \mbox{\hyperlink{struct_scanline_struct_a0a3ad89252909262e540cff1f9c24d96}{bgPal}};}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00145}\mbox{\hyperlink{struct_scanline_struct_a5ec6e08381b5b79194688b6469c8b3a8}{00145}}\ \ \ \ \ u8\ sprPal[2];}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00146}\mbox{\hyperlink{struct_scanline_struct_ac60a42cb8bfdc25f84c60649dc261184}{00146}}\ \ \ \ \ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{struct_scanline_struct_ac60a42cb8bfdc25f84c60649dc261184}{bgPalettesModified}};}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00147}\mbox{\hyperlink{struct_scanline_struct_a70f3906bb00b352432f08c8772415750}{00147}}\ \ \ \ \ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{struct_scanline_struct_a70f3906bb00b352432f08c8772415750}{sprPalettesModified}};}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00148}\mbox{\hyperlink{struct_scanline_struct_a81d6ccf694d3f73ee5a2e0a506a973b7}{00148}}\ \ \ \ \ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{struct_scanline_struct_a81d6ccf694d3f73ee5a2e0a506a973b7}{spritesModified}};}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00149}\mbox{\hyperlink{struct_scanline_struct_adedef0a09ae813ec8e8a3d1af6a1728b}{00149}}\ \ \ \ \ u8\ \mbox{\hyperlink{mmu_8h_a33bd1edbc22f1b0180441d711829cd9b}{spriteData}}[0xa0];}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00150}\mbox{\hyperlink{struct_scanline_struct_abf2bf57c4f3344e25ace69a7505a4f22}{00150}}\ \ \ \ \ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{struct_scanline_struct_abf2bf57c4f3344e25ace69a7505a4f22}{tallSprites}};}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00151}\mbox{\hyperlink{struct_scanline_struct_a923590cd756b59863e217703f401f058}{00151}}\ \ \ \ \ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{struct_scanline_struct_a923590cd756b59863e217703f401f058}{bgHash}};}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00152}00152\ \}\ \mbox{\hyperlink{struct_scanline_struct}{ScanlineStruct}};}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00153}00153\ }
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00154}\mbox{\hyperlink{gbgfx_8cpp_aa479e9c1666a9411084a3c63974e07ad}{00154}}\ \mbox{\hyperlink{struct_scanline_struct}{ScanlineStruct}}\ \mbox{\hyperlink{gbgfx_8cpp_aa479e9c1666a9411084a3c63974e07ad}{scanlineBuffers}}[2][144];}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00155}00155\ }
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00156}\mbox{\hyperlink{gbgfx_8cpp_ab603fe74b48d08c176eb343ade1dc566}{00156}}\ \mbox{\hyperlink{struct_scanline_struct}{ScanlineStruct}}\ *\mbox{\hyperlink{gbgfx_8cpp_ab603fe74b48d08c176eb343ade1dc566}{drawingState}}\ =\ \mbox{\hyperlink{gbgfx_8cpp_aa479e9c1666a9411084a3c63974e07ad}{scanlineBuffers}}[0];}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00157}\mbox{\hyperlink{gbgfx_8cpp_ae151e70163adb76a07dce9eaacf55800}{00157}}\ \mbox{\hyperlink{struct_scanline_struct}{ScanlineStruct}}\ *\mbox{\hyperlink{gbgfx_8cpp_ae151e70163adb76a07dce9eaacf55800}{renderingState}}\ =\ \mbox{\hyperlink{gbgfx_8cpp_aa479e9c1666a9411084a3c63974e07ad}{scanlineBuffers}}[1];}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00158}00158\ }
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00159}\mbox{\hyperlink{structsprite_entry}{00159}}\ \textcolor{keyword}{typedef}\ \textcolor{keyword}{struct}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00160}00160\ \{}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00161}\mbox{\hyperlink{structsprite_entry_a75f67522a197ddbb8bff9f27af427f2a}{00161}}\ \ \ \ \ u16\ \mbox{\hyperlink{structsprite_entry_a75f67522a197ddbb8bff9f27af427f2a}{attr0}};}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00162}\mbox{\hyperlink{structsprite_entry_a6ac9bb2abb17aaded43d1a833b1cda8b}{00162}}\ \ \ \ \ u16\ \mbox{\hyperlink{structsprite_entry_a6ac9bb2abb17aaded43d1a833b1cda8b}{attr1}};}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00163}\mbox{\hyperlink{structsprite_entry_a2ff0bdc7f67ff024ea4d99f5018a5b69}{00163}}\ \ \ \ \ u16\ \mbox{\hyperlink{structsprite_entry_a2ff0bdc7f67ff024ea4d99f5018a5b69}{attr2}};}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00164}\mbox{\hyperlink{structsprite_entry_a3b23f7ed7cc56b8da3c4cdab432ef4bc}{00164}}\ \ \ \ \ u16\ \mbox{\hyperlink{structsprite_entry_a3b23f7ed7cc56b8da3c4cdab432ef4bc}{affine\_data}};}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00165}00165\ \}\ \mbox{\hyperlink{structsprite_entry}{spriteEntry}};}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00166}00166\ }
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00167}\mbox{\hyperlink{gbgfx_8cpp_a34352c8a17802da70f27f22ce225178f}{00167}}\ \textcolor{preprocessor}{\#define\ sprites\ ((spriteEntry\ *)OAM)}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00168}00168\ }
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00169}\mbox{\hyperlink{gbgfx_8cpp_a8209539684d9069849b50012fd470999}{00169}}\ \textcolor{preprocessor}{\#define\ BG\_CNT(x)\ (*((vu16\ *)0x4000008\ +\ (x)))}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00170}\mbox{\hyperlink{gbgfx_8cpp_a13c0a18ffd7ce55bafcdce0e8c894b56}{00170}}\ \textcolor{preprocessor}{\#define\ BG\_HOFS(x)\ (*((vu16\ *)0x4000010\ +\ (x)*2))}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00171}\mbox{\hyperlink{gbgfx_8cpp_a45e75e00626ef822da5ea577454a22d7}{00171}}\ \textcolor{preprocessor}{\#define\ BG\_VOFS(x)\ (*((vu16\ *)0x4000012\ +\ (x)*2))}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00172}00172\ }
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00173}00173\ \textcolor{comment}{//\ The\ graphics\ are\ drawn\ with\ the\ DS's\ native\ hardware.}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00174}00174\ \textcolor{comment}{//\ Games\ tend\ to\ modify\ the\ graphics\ in\ the\ middle\ of\ being\ drawn.}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00175}00175\ \textcolor{comment}{//\ These\ changes\ are\ recorded\ and\ applied\ during\ DS\ hblank.}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00176}00176\ }
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00177}00177\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{gbgfx_8cpp_a7a78cce5bae844be29ced86930f0dd34}{drawLine}}(\textcolor{keywordtype}{int}\ gbLine)\ ITCM\_CODE;}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00178}00178\ }
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00188}\mbox{\hyperlink{gbgfx_8cpp_a7a78cce5bae844be29ced86930f0dd34}{00188}}\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{gbgfx_8cpp_a7a78cce5bae844be29ced86930f0dd34}{drawLine}}(\textcolor{keywordtype}{int}\ gbLine)}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00189}00189\ \{}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00190}00190\ \ \ \ \ \mbox{\hyperlink{struct_scanline_struct}{ScanlineStruct}}\ *state\ =\ \&\mbox{\hyperlink{gbgfx_8cpp_ab603fe74b48d08c176eb343ade1dc566}{drawingState}}[gbLine];}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00191}00191\ }
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00192}00192\ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{gbgfx_8cpp_a097b7a3d0c46cf0afdc98b34bf6f99ed}{screenDisabled}})}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00193}00193\ \ \ \ \ \{}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00194}00194\ \ \ \ \ \ \ \ \ REG\_DISPCNT\ \&=\ \string~DISPLAY\_SPR\_ACTIVE;}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00195}00195\ \ \ \ \ \ \ \ \ REG\_BG0CNT\ =\ BG\_MAP\_BASE(\mbox{\hyperlink{gbgfx_8cpp_a91ce402e5df15ae36e306bc87e0e8571}{off\_map\_base}});}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00196}00196\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{gbgfx_8cpp_aef6032a39f08d1728cefcc4e8be2d437}{loadedBorderType}})}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00197}00197\ \ \ \ \ \ \ \ \ \ \ \ \ WIN\_IN\ |=\ 7\ <<\ 8;}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00198}00198\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{else}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00199}00199\ \ \ \ \ \ \ \ \ \ \ \ \ WIN\_IN\ |=\ 15\ <<\ 8;}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00200}00200\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return};}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00201}00201\ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00202}00202\ \ \ \ \ \textcolor{keywordflow}{if}\ (state-\/>\mbox{\hyperlink{struct_scanline_struct_af7c7cb7f298fa852d7747a2734499cee}{mapsModified}})}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00203}00203\ \ \ \ \ \{}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00204}00204\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (state-\/>\mbox{\hyperlink{struct_scanline_struct_adf5cb31009707e20fb58ba43473f5b44}{spritesOn}})}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00205}00205\ \ \ \ \ \ \ \ \ \ \ \ \ REG\_DISPCNT\ |=\ DISPLAY\_SPR\_ACTIVE;}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00206}00206\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{else}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00207}00207\ \ \ \ \ \ \ \ \ \ \ \ \ REG\_DISPCNT\ \&=\ \string~DISPLAY\_SPR\_ACTIVE;}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00208}00208\ }
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00209}00209\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{bool}\ useWin\ =\ state-\/>\mbox{\hyperlink{struct_scanline_struct_a3eb9afc043d7b48081054d31bbd5b5ee}{winOn}}\ \&\&\ !\mbox{\hyperlink{gbgfx_8cpp_a7e77ece2ff8da663172ec7854ce1ad4a}{windowDisabled}};}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00210}00210\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{int}\ layer\ =\ 0;}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00211}00211\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{int}\ bgLayers,\ winLayers;}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00212}00212\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (useWin)}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00213}00213\ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00214}00214\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (state-\/>\mbox{\hyperlink{struct_scanline_struct_ac62895524abcf9746f5762536a1f8556}{winX}}\ >\ 7)}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00215}00215\ \ \ \ \ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00216}00216\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{gbgfx_8cpp_aef6032a39f08d1728cefcc4e8be2d437}{loadedBorderType}}\ ==\ \mbox{\hyperlink{gbgfx_8h_abc6126af1d45847bc59afa0aa3216b04a6051477cfcc8ff5efefaf4147723d9a2}{BORDER\_NONE}})}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00217}00217\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00218}00218\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ winLayers\ =\ 2;}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00219}00219\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ bgLayers\ =\ 2;}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00220}00220\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00221}00221\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{else}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00222}00222\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00223}00223\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{gbgfx_8cpp_a3b35e4c59fbe530ccfd4fc14c5d4c265}{usingTilePriority}}[state-\/>\mbox{\hyperlink{struct_scanline_struct_a736b19cc5281791d106022368cc319fd}{bgMap}}])}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00224}00224\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00225}00225\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ winLayers\ =\ 1;}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00226}00226\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ bgLayers\ =\ 2;}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00227}00227\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00228}00228\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{else}\ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{gbgfx_8cpp_a3b35e4c59fbe530ccfd4fc14c5d4c265}{usingTilePriority}}[state-\/>\mbox{\hyperlink{struct_scanline_struct_a488243d91d511956b87cd1ac5f25281d}{winMap}}])}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00229}00229\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00230}00230\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ winLayers\ =\ 2;}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00231}00231\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ bgLayers\ =\ 1;}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00232}00232\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00233}00233\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{else}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00234}00234\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00235}00235\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ winLayers\ =\ 1;}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00236}00236\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ bgLayers\ =\ 2;}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00237}00237\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00238}00238\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00239}00239\ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00240}00240\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{else}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00241}00241\ \ \ \ \ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00242}00242\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ winLayers\ =\ 3;}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00243}00243\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ bgLayers\ =\ 0;}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00244}00244\ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00245}00245\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00246}00246\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{else}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00247}00247\ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00248}00248\ \ \ \ \ \ \ \ \ \ \ \ \ winLayers\ =\ 0;}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00249}00249\ \ \ \ \ \ \ \ \ \ \ \ \ bgLayers\ =\ 3;}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00250}00250\ \ \ \ \ \ \ \ \ \ \ \ \ WIN0\_X0\ =\ \mbox{\hyperlink{gbgfx_8cpp_a285192f5390f5531ee1cca872f957d2d}{screenOffsX}}\ +\ 160;}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00251}00251\ \ \ \ \ \ \ \ \ \ \ \ \ WIN0\_Y0\ =\ \mbox{\hyperlink{gbgfx_8cpp_ae4626134fe8c5a191c8a9d36e9319cbc}{screenOffsY}};}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00252}00252\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00253}00253\ \ \ \ \ \ \ \ \ WIN\_IN\ |=\ 15\ <<\ 8;}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00254}00254\ }
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00255}00255\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (winLayers\ !=\ 0)}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00256}00256\ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00257}00257\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{int}\ whofs\ =\ -\/(state-\/>\mbox{\hyperlink{struct_scanline_struct_ac62895524abcf9746f5762536a1f8556}{winX}}\ -\/\ 7)\ -\/\ \mbox{\hyperlink{gbgfx_8cpp_a285192f5390f5531ee1cca872f957d2d}{screenOffsX}};}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00258}00258\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{int}\ wvofs\ =\ -\/(gbLine\ -\/\ state-\/>\mbox{\hyperlink{struct_scanline_struct_a1b98193d12dedc8710ce22bae9131fb3}{winPosY}})\ -\/\ \mbox{\hyperlink{gbgfx_8cpp_ae4626134fe8c5a191c8a9d36e9319cbc}{screenOffsY}};}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00259}00259\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{gameboy_8h_af3ddfcff387d53e03211aeaa7a0c14ef}{gbMode}}\ ==\ \mbox{\hyperlink{gbcpu_8h_a44172ac633c517cb4c9e278cef36b000}{GB}})}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00260}00260\ \ \ \ \ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00261}00261\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ In\ GB\ mode,\ BG\ and\ Window\ share\ the\ backdrop\ color.}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00262}00262\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ So\ they\ don't\ need\ their\ own\ dedicated\ layers.}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00263}00263\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{gbgfx_8cpp_a8209539684d9069849b50012fd470999}{BG\_CNT}}(layer)\ =\ state-\/>\mbox{\hyperlink{struct_scanline_struct_a0f9059cd63f6b283f48ac0a7178aba52}{winCnt}};}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00264}00264\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{gbgfx_8cpp_a13c0a18ffd7ce55bafcdce0e8c894b56}{BG\_HOFS}}(layer)\ =\ whofs;}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00265}00265\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{gbgfx_8cpp_a45e75e00626ef822da5ea577454a22d7}{BG\_VOFS}}(layer++)\ =\ wvofs;}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00266}00266\ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00267}00267\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{else}\ \textcolor{keywordflow}{if}\ (winLayers\ ==\ 1)}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00268}00268\ \ \ \ \ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00269}00269\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{gbgfx_8cpp_a8209539684d9069849b50012fd470999}{BG\_CNT}}(layer)\ =\ state-\/>\mbox{\hyperlink{struct_scanline_struct_a703c2f8f0ffc5c2a95ddc763db0743fd}{winAllCnt}};}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00270}00270\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{gbgfx_8cpp_a13c0a18ffd7ce55bafcdce0e8c894b56}{BG\_HOFS}}(layer)\ =\ whofs;}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00271}00271\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{gbgfx_8cpp_a45e75e00626ef822da5ea577454a22d7}{BG\_VOFS}}(layer++)\ =\ wvofs;}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00272}00272\ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00273}00273\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{else}\ \textcolor{keywordflow}{if}\ (winLayers\ ==\ 2)}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00274}00274\ \ \ \ \ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00275}00275\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{gbgfx_8cpp_a3b35e4c59fbe530ccfd4fc14c5d4c265}{usingTilePriority}}[state-\/>\mbox{\hyperlink{struct_scanline_struct_a488243d91d511956b87cd1ac5f25281d}{winMap}}])}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00276}00276\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00277}00277\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ Apply\ tile\ priority\ bit.}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00278}00278\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{gbgfx_8cpp_a8209539684d9069849b50012fd470999}{BG\_CNT}}(layer)\ =\ state-\/>\mbox{\hyperlink{struct_scanline_struct_a703c2f8f0ffc5c2a95ddc763db0743fd}{winAllCnt}};}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00279}00279\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{gbgfx_8cpp_a13c0a18ffd7ce55bafcdce0e8c894b56}{BG\_HOFS}}(layer)\ =\ whofs;}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00280}00280\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{gbgfx_8cpp_a45e75e00626ef822da5ea577454a22d7}{BG\_VOFS}}(layer++)\ =\ wvofs;}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00281}00281\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{gbgfx_8cpp_a8209539684d9069849b50012fd470999}{BG\_CNT}}(layer)\ =\ state-\/>\mbox{\hyperlink{struct_scanline_struct_a296e759aff6b478d1e115891c7f69e5f}{winOverlayCnt}};}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00282}00282\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{gbgfx_8cpp_a13c0a18ffd7ce55bafcdce0e8c894b56}{BG\_HOFS}}(layer)\ =\ whofs;}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00283}00283\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{gbgfx_8cpp_a45e75e00626ef822da5ea577454a22d7}{BG\_VOFS}}(layer++)\ =\ wvofs;}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00284}00284\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00285}00285\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{else}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00286}00286\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00287}00287\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ Apply\ sprite\ priority\ bit.}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00288}00288\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{gbgfx_8cpp_a8209539684d9069849b50012fd470999}{BG\_CNT}}(layer)\ =\ state-\/>\mbox{\hyperlink{struct_scanline_struct_a628dcb4a7573142ee58304a88a94ae2d}{winColor0Cnt}};}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00289}00289\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{gbgfx_8cpp_a13c0a18ffd7ce55bafcdce0e8c894b56}{BG\_HOFS}}(layer)\ =\ whofs;}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00290}00290\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{gbgfx_8cpp_a45e75e00626ef822da5ea577454a22d7}{BG\_VOFS}}(layer++)\ =\ wvofs;}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00291}00291\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{gbgfx_8cpp_a8209539684d9069849b50012fd470999}{BG\_CNT}}(layer)\ =\ state-\/>\mbox{\hyperlink{struct_scanline_struct_a0f9059cd63f6b283f48ac0a7178aba52}{winCnt}};}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00292}00292\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{gbgfx_8cpp_a13c0a18ffd7ce55bafcdce0e8c894b56}{BG\_HOFS}}(layer)\ =\ whofs;}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00293}00293\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{gbgfx_8cpp_a45e75e00626ef822da5ea577454a22d7}{BG\_VOFS}}(layer++)\ =\ wvofs;}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00294}00294\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00295}00295\ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00296}00296\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{else}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00297}00297\ \ \ \ \ \ \ \ \ \ \ \ \ \{\ \textcolor{comment}{//\ winLayers\ ==\ 3}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00298}00298\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ Apply\ both\ tile\ and\ sprite\ priority\ bits.}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00299}00299\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{gbgfx_8cpp_a8209539684d9069849b50012fd470999}{BG\_CNT}}(layer)\ =\ state-\/>\mbox{\hyperlink{struct_scanline_struct_a628dcb4a7573142ee58304a88a94ae2d}{winColor0Cnt}};}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00300}00300\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{gbgfx_8cpp_a13c0a18ffd7ce55bafcdce0e8c894b56}{BG\_HOFS}}(layer)\ =\ whofs;}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00301}00301\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{gbgfx_8cpp_a45e75e00626ef822da5ea577454a22d7}{BG\_VOFS}}(layer++)\ =\ wvofs;}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00302}00302\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{gbgfx_8cpp_a8209539684d9069849b50012fd470999}{BG\_CNT}}(layer)\ =\ state-\/>\mbox{\hyperlink{struct_scanline_struct_a0f9059cd63f6b283f48ac0a7178aba52}{winCnt}};}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00303}00303\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{gbgfx_8cpp_a13c0a18ffd7ce55bafcdce0e8c894b56}{BG\_HOFS}}(layer)\ =\ whofs;}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00304}00304\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{gbgfx_8cpp_a45e75e00626ef822da5ea577454a22d7}{BG\_VOFS}}(layer++)\ =\ wvofs;}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00305}00305\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{gbgfx_8cpp_a8209539684d9069849b50012fd470999}{BG\_CNT}}(layer)\ =\ state-\/>\mbox{\hyperlink{struct_scanline_struct_a296e759aff6b478d1e115891c7f69e5f}{winOverlayCnt}};}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00306}00306\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{gbgfx_8cpp_a13c0a18ffd7ce55bafcdce0e8c894b56}{BG\_HOFS}}(layer)\ =\ whofs;}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00307}00307\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{gbgfx_8cpp_a45e75e00626ef822da5ea577454a22d7}{BG\_VOFS}}(layer++)\ =\ wvofs;}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00308}00308\ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00309}00309\ }
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00310}00310\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (state-\/>\mbox{\hyperlink{struct_scanline_struct_ac62895524abcf9746f5762536a1f8556}{winX}}\ <=\ 7)}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00311}00311\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ WIN0\_X0\ =\ \mbox{\hyperlink{gbgfx_8cpp_a285192f5390f5531ee1cca872f957d2d}{screenOffsX}};}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00312}00312\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{else}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00313}00313\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ WIN0\_X0\ =\ state-\/>\mbox{\hyperlink{struct_scanline_struct_ac62895524abcf9746f5762536a1f8556}{winX}}\ -\/\ 7\ +\ \mbox{\hyperlink{gbgfx_8cpp_a285192f5390f5531ee1cca872f957d2d}{screenOffsX}};}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00314}00314\ \ \ \ \ \ \ \ \ \ \ \ \ WIN\_IN\ \&=\ \string~15;}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00315}00315\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keywordtype}{int}\ i\ =\ 0;\ i\ <\ layer;\ i++)}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00316}00316\ \ \ \ \ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00317}00317\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ WIN\_IN\ \&=\ \string~(1\ <<\ (8\ +\ i));}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00318}00318\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ WIN\_IN\ |=\ 1\ <<\ i;}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00319}00319\ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00320}00320\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00321}00321\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (bgLayers\ !=\ 0)}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00322}00322\ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00323}00323\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{int}\ hofs\ =\ state-\/>\mbox{\hyperlink{struct_scanline_struct_a29c1fa6eb5e29c3a97f0ade15c3d6c79}{hofs}}\ -\/\ \mbox{\hyperlink{gbgfx_8cpp_a285192f5390f5531ee1cca872f957d2d}{screenOffsX}};}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00324}00324\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{int}\ vofs\ =\ state-\/>\mbox{\hyperlink{struct_scanline_struct_a8616c1aa21ec4e29a2fd542dda75cc8f}{vofs}}\ -\/\ \mbox{\hyperlink{gbgfx_8cpp_ae4626134fe8c5a191c8a9d36e9319cbc}{screenOffsY}};}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00325}00325\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{gameboy_8h_af3ddfcff387d53e03211aeaa7a0c14ef}{gbMode}}\ ==\ \mbox{\hyperlink{gbcpu_8h_a44172ac633c517cb4c9e278cef36b000}{GB}})}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00326}00326\ \ \ \ \ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00327}00327\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{gbgfx_8cpp_a8209539684d9069849b50012fd470999}{BG\_CNT}}(layer)\ =\ state-\/>\mbox{\hyperlink{struct_scanline_struct_ae7458b84776ae55eadf7d310764e60c5}{bgCnt}};}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00328}00328\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{gbgfx_8cpp_a13c0a18ffd7ce55bafcdce0e8c894b56}{BG\_HOFS}}(layer)\ =\ hofs;}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00329}00329\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{gbgfx_8cpp_a45e75e00626ef822da5ea577454a22d7}{BG\_VOFS}}(layer++)\ =\ vofs;}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00330}00330\ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00331}00331\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{else}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00332}00332\ \ \ \ \ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00333}00333\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (bgLayers\ >=\ 3)}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00334}00334\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00335}00335\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{gbgfx_8cpp_a8209539684d9069849b50012fd470999}{BG\_CNT}}(layer)\ =\ state-\/>\mbox{\hyperlink{struct_scanline_struct_a4d5a5e33b85637c02a93ec769c7631ae}{bgColor0Cnt}};}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00336}00336\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{gbgfx_8cpp_a13c0a18ffd7ce55bafcdce0e8c894b56}{BG\_HOFS}}(layer)\ =\ hofs;}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00337}00337\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{gbgfx_8cpp_a45e75e00626ef822da5ea577454a22d7}{BG\_VOFS}}(layer++)\ =\ vofs;}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00338}00338\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{gbgfx_8cpp_a8209539684d9069849b50012fd470999}{BG\_CNT}}(layer)\ =\ state-\/>\mbox{\hyperlink{struct_scanline_struct_ae7458b84776ae55eadf7d310764e60c5}{bgCnt}};}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00339}00339\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{gbgfx_8cpp_a13c0a18ffd7ce55bafcdce0e8c894b56}{BG\_HOFS}}(layer)\ =\ hofs;}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00340}00340\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{gbgfx_8cpp_a45e75e00626ef822da5ea577454a22d7}{BG\_VOFS}}(layer++)\ =\ vofs;}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00341}00341\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{gbgfx_8cpp_a8209539684d9069849b50012fd470999}{BG\_CNT}}(layer)\ =\ state-\/>\mbox{\hyperlink{struct_scanline_struct_a2c1e744c540d565ae23f79d5b6c4f13a}{bgOverlayCnt}};}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00342}00342\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{gbgfx_8cpp_a13c0a18ffd7ce55bafcdce0e8c894b56}{BG\_HOFS}}(layer)\ =\ hofs;}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00343}00343\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{gbgfx_8cpp_a45e75e00626ef822da5ea577454a22d7}{BG\_VOFS}}(layer++)\ =\ vofs;}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00344}00344\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00345}00345\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{else}\ \textcolor{keywordflow}{if}\ (bgLayers\ ==\ 2)}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00346}00346\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \{\ \textcolor{comment}{//\ not\ enough\ for\ both\ priority\ bits.}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00347}00347\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{gbgfx_8cpp_a3b35e4c59fbe530ccfd4fc14c5d4c265}{usingTilePriority}}[state-\/>\mbox{\hyperlink{struct_scanline_struct_a736b19cc5281791d106022368cc319fd}{bgMap}}])}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00348}00348\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00349}00349\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ Apply\ tile\ priority\ bit.}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00350}00350\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{gbgfx_8cpp_a8209539684d9069849b50012fd470999}{BG\_CNT}}(layer)\ =\ state-\/>\mbox{\hyperlink{struct_scanline_struct_a09b441f9df432f6b27868df63f75c86e}{bgAllCnt}};}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00351}00351\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{gbgfx_8cpp_a13c0a18ffd7ce55bafcdce0e8c894b56}{BG\_HOFS}}(layer)\ =\ hofs;}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00352}00352\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{gbgfx_8cpp_a45e75e00626ef822da5ea577454a22d7}{BG\_VOFS}}(layer++)\ =\ vofs;}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00353}00353\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{gbgfx_8cpp_a8209539684d9069849b50012fd470999}{BG\_CNT}}(layer)\ =\ state-\/>\mbox{\hyperlink{struct_scanline_struct_a2c1e744c540d565ae23f79d5b6c4f13a}{bgOverlayCnt}};}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00354}00354\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{gbgfx_8cpp_a13c0a18ffd7ce55bafcdce0e8c894b56}{BG\_HOFS}}(layer)\ =\ hofs;}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00355}00355\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{gbgfx_8cpp_a45e75e00626ef822da5ea577454a22d7}{BG\_VOFS}}(layer++)\ =\ vofs;}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00356}00356\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00357}00357\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{else}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00358}00358\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00359}00359\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ Apply\ sprite\ priority\ bit.}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00360}00360\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{gbgfx_8cpp_a8209539684d9069849b50012fd470999}{BG\_CNT}}(layer)\ =\ state-\/>\mbox{\hyperlink{struct_scanline_struct_a4d5a5e33b85637c02a93ec769c7631ae}{bgColor0Cnt}};}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00361}00361\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{gbgfx_8cpp_a13c0a18ffd7ce55bafcdce0e8c894b56}{BG\_HOFS}}(layer)\ =\ hofs;}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00362}00362\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{gbgfx_8cpp_a45e75e00626ef822da5ea577454a22d7}{BG\_VOFS}}(layer++)\ =\ vofs;}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00363}00363\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{gbgfx_8cpp_a8209539684d9069849b50012fd470999}{BG\_CNT}}(layer)\ =\ state-\/>\mbox{\hyperlink{struct_scanline_struct_ae7458b84776ae55eadf7d310764e60c5}{bgCnt}};}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00364}00364\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{gbgfx_8cpp_a13c0a18ffd7ce55bafcdce0e8c894b56}{BG\_HOFS}}(layer)\ =\ hofs;}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00365}00365\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{gbgfx_8cpp_a45e75e00626ef822da5ea577454a22d7}{BG\_VOFS}}(layer++)\ =\ vofs;}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00366}00366\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00367}00367\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00368}00368\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{else}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00369}00369\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \{\ \textcolor{comment}{//\ bgLayers\ ==\ 1}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00370}00370\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{gbgfx_8cpp_a8209539684d9069849b50012fd470999}{BG\_CNT}}(layer)\ =\ state-\/>\mbox{\hyperlink{struct_scanline_struct_a09b441f9df432f6b27868df63f75c86e}{bgAllCnt}};}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00371}00371\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{gbgfx_8cpp_a13c0a18ffd7ce55bafcdce0e8c894b56}{BG\_HOFS}}(layer)\ =\ hofs;}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00372}00372\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{gbgfx_8cpp_a45e75e00626ef822da5ea577454a22d7}{BG\_VOFS}}(layer++)\ =\ vofs;}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00373}00373\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00374}00374\ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00375}00375\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00376}00376\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{gameboy_8h_af3ddfcff387d53e03211aeaa7a0c14ef}{gbMode}}\ ==\ \mbox{\hyperlink{gbcpu_8h_a44172ac633c517cb4c9e278cef36b000}{GB}})}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00377}00377\ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00378}00378\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ This\ layer\ provides\ the\ backdrop\ for\ both\ BG\ and\ Window.}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00379}00379\ \ \ \ \ \ \ \ \ \ \ \ \ WIN\_IN\ |=\ (1\ <<\ layer);\ \textcolor{comment}{//\ Must\ be\ displayed\ over\ window}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00380}00380\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{gbgfx_8cpp_a8209539684d9069849b50012fd470999}{BG\_CNT}}(layer)\ =\ state-\/>\mbox{\hyperlink{struct_scanline_struct_a628dcb4a7573142ee58304a88a94ae2d}{winColor0Cnt}};}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00381}00381\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{gbgfx_8cpp_a13c0a18ffd7ce55bafcdce0e8c894b56}{BG\_HOFS}}(layer)\ =\ 0;}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00382}00382\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{gbgfx_8cpp_a45e75e00626ef822da5ea577454a22d7}{BG\_VOFS}}(layer++)\ =\ 0;}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00383}00383\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00384}00384\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{while}\ (layer\ <\ 4)}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00385}00385\ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00386}00386\ \ \ \ \ \ \ \ \ \ \ \ \ WIN\_IN\ \&=\ \string~((1\ <<\ layer)\ <<\ 8);}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00387}00387\ \ \ \ \ \ \ \ \ \ \ \ \ WIN\_IN\ \&=\ \string~(1\ <<\ layer++);}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00388}00388\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00389}00389\ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00390}00390\ }
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00391}00391\ \ \ \ \ \textcolor{keywordflow}{if}\ (state-\/>\mbox{\hyperlink{struct_scanline_struct_ac60a42cb8bfdc25f84c60649dc261184}{bgPalettesModified}})}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00392}00392\ \ \ \ \ \{}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00393}00393\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{gameboy_8h_af3ddfcff387d53e03211aeaa7a0c14ef}{gbMode}}\ ==\ \mbox{\hyperlink{gbcpu_8h_a5d6a36e6c1ec6aad48d2db4868de600c}{CGB}})}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00394}00394\ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00395}00395\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keywordtype}{int}\ i\ =\ 0;\ i\ <\ 8;\ i++)}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00396}00396\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{gbgfx_8cpp_a1214c2484459d4a461f437e67a072694}{updateBgPalette\_GBC}}(i,\ state-\/>bgPaletteData);}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00397}00397\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00398}00398\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{else}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00399}00399\ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00400}00400\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keywordtype}{int}\ i\ =\ 0;\ i\ <\ 4;\ i++)}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00401}00401\ \ \ \ \ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00402}00402\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{gbgfx_8cpp_a9a8e94462dd86825fa22f6a3a145862e}{updateBgPalette}}(i,\ state-\/>bgPaletteData,\ state-\/>\mbox{\hyperlink{struct_scanline_struct_a0a3ad89252909262e540cff1f9c24d96}{bgPal}});}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00403}00403\ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00404}00404\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00405}00405\ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00406}00406\ \ \ \ \ \textcolor{keywordflow}{if}\ (state-\/>\mbox{\hyperlink{struct_scanline_struct_a70f3906bb00b352432f08c8772415750}{sprPalettesModified}})}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00407}00407\ \ \ \ \ \{}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00408}00408\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{gameboy_8h_af3ddfcff387d53e03211aeaa7a0c14ef}{gbMode}}\ ==\ \mbox{\hyperlink{gbcpu_8h_a44172ac633c517cb4c9e278cef36b000}{GB}})}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00409}00409\ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00410}00410\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keywordtype}{int}\ i\ =\ 0;\ i\ <\ 4;\ i++)}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00411}00411\ \ \ \ \ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00412}00412\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{gbgfx_8cpp_a69f15ee8d4cda930e01bfe3e42bbd66a}{updateSprPalette}}(i,\ state-\/>sprPaletteData,\ state-\/>\mbox{\hyperlink{struct_scanline_struct_a5ec6e08381b5b79194688b6469c8b3a8}{sprPal}}[0]);}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00413}00413\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{gbgfx_8cpp_a69f15ee8d4cda930e01bfe3e42bbd66a}{updateSprPalette}}(i\ +\ 4,\ state-\/>sprPaletteData,\ state-\/>\mbox{\hyperlink{struct_scanline_struct_a5ec6e08381b5b79194688b6469c8b3a8}{sprPal}}[1]);}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00414}00414\ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00415}00415\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00416}00416\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{else}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00417}00417\ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00418}00418\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keywordtype}{int}\ i\ =\ 0;\ i\ <\ 8;\ i++)}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00419}00419\ \ \ \ \ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00420}00420\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{gbgfx_8cpp_a69f15ee8d4cda930e01bfe3e42bbd66a}{updateSprPalette}}(i,\ state-\/>sprPaletteData,\ 0);}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00421}00421\ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00422}00422\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00423}00423\ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00424}00424\ }
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00425}00425\ \ \ \ \ \textcolor{keywordflow}{if}\ (state-\/>\mbox{\hyperlink{struct_scanline_struct_a81d6ccf694d3f73ee5a2e0a506a973b7}{spritesModified}})}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00426}00426\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{gbgfx_8cpp_a88f8d46d8cf1f3ea65e4e290a99020d9}{drawSprites}}(state-\/>\mbox{\hyperlink{struct_scanline_struct_adedef0a09ae813ec8e8a3d1af6a1728b}{spriteData}},\ state-\/>\mbox{\hyperlink{struct_scanline_struct_abf2bf57c4f3344e25ace69a7505a4f22}{tallSprites}});}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00427}00427\ \}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00428}00428\ }
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00429}00429\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{gbgfx_8cpp_a6636088a6baab3e32c6205d6cc483c86}{doHBlank}}(\textcolor{keywordtype}{int}\ line)\ ITCM\_CODE;}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00430}00430\ }
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00444}\mbox{\hyperlink{gbgfx_8cpp_a6636088a6baab3e32c6205d6cc483c86}{00444}}\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{gbgfx_8cpp_a6636088a6baab3e32c6205d6cc483c86}{doHBlank}}(\textcolor{keywordtype}{int}\ line)}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00445}00445\ \{}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00446}00446\ \ \ \ \ \textcolor{keywordflow}{if}\ (line\ >=\ 192)}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00447}00447\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return};}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00448}00448\ }
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00449}00449\ \ \ \ \ \textcolor{comment}{//\ Highlight\ the\ selected\ row\ in\ the\ file\ chooser\ or\ menu.}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00450}00450\ \ \ \ \ \textcolor{keywordflow}{if}\ ((\mbox{\hyperlink{filechooser_8h_aacb1ffc04c40322a1b8df970a0fa698b}{isFileChooserOn}}()\ ||\ \mbox{\hyperlink{console_8h_a0592872559eb432700e6b54c46b9686d}{isMenuOn}}())\ \&\&\ line\ \%\ 8\ ==\ 0)}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00451}00451\ \ \ \ \ \{}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00452}00452\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (line\ /\ 8\ ==\ \mbox{\hyperlink{console_8h_a2078567042b322f01cee579b15293627}{consoleSelectedRow}})}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00453}00453\ \ \ \ \ \ \ \ \ \ \ \ \ setBackdropColorSub(RGB15(0,\ 0,\ 31));\ \textcolor{comment}{//\ Highlight\ the\ selected\ row.}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00454}00454\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{else}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00455}00455\ \ \ \ \ \ \ \ \ \ \ \ \ setBackdropColorSub(RGB15(0,\ 0,\ 0));}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00456}00456\ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00457}00457\ }
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00458}00458\ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{gbgfx_8cpp_ae5d63a0df1fc230d6fb3b5c67314393d}{gbGraphicsDisabled}}\ ||\ \mbox{\hyperlink{gbgfx_8cpp_ab764cbdc62a676940e3d9c4940461cea}{hblankDisabled}})}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00459}00459\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return};}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00460}00460\ }
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00461}00461\ \ \ \ \ \textcolor{keywordtype}{int}\ gbLine\ =\ line\ -\/\ \mbox{\hyperlink{gbgfx_8cpp_ae4626134fe8c5a191c8a9d36e9319cbc}{screenOffsY}};}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00462}00462\ \ \ \ \ \textcolor{keywordflow}{if}\ (gbLine\ >=\ 144\ ||\ gbLine\ <=\ 0)}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00463}00463\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return};}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00464}00464\ }
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00465}00465\ \ \ \ \ \textcolor{comment}{//\ Draw\ the\ previous\ line\ if\ it\ was\ modified\ and\ not\ yet\ drawn.}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00466}00466\ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{gbgfx_8cpp_ab603fe74b48d08c176eb343ade1dc566}{drawingState}}[gbLine\ -\/\ 1].modified\ \&\&\ !\mbox{\hyperlink{gbgfx_8cpp_a3cd39047a50d108bad589552d5c28d18}{lineCompleted}}[gbLine\ -\/\ 1])}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00467}00467\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{gbgfx_8cpp_a7a78cce5bae844be29ced86930f0dd34}{drawLine}}(gbLine\ -\/\ 1);}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00468}00468\ }
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00469}00469\ \ \ \ \ \textcolor{comment}{//\ Return\ if\ the\ current\ line\ has\ not\ been\ modified.}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00470}00470\ \ \ \ \ \textcolor{keywordflow}{if}\ (!\mbox{\hyperlink{gbgfx_8cpp_ab603fe74b48d08c176eb343ade1dc566}{drawingState}}[gbLine].modified)}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00471}00471\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return};}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00472}00472\ }
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00473}00473\ \ \ \ \ \mbox{\hyperlink{gbgfx_8cpp_a3cd39047a50d108bad589552d5c28d18}{lineCompleted}}[gbLine]\ =\ \textcolor{keyword}{true};}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00474}00474\ \ \ \ \ \mbox{\hyperlink{gbgfx_8cpp_a7a78cce5bae844be29ced86930f0dd34}{drawLine}}(gbLine);}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00475}00475\ \}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00476}00476\ }
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00477}00477\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{gbgfx_8cpp_a3f17d4b0a0e3c9903d68027415d47539}{hblankHandler}}()\ ITCM\_CODE;}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00478}00478\ }
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00487}\mbox{\hyperlink{gbgfx_8cpp_a3f17d4b0a0e3c9903d68027415d47539}{00487}}\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{gbgfx_8cpp_a3f17d4b0a0e3c9903d68027415d47539}{hblankHandler}}()}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00488}00488\ \{}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00489}00489\ \ \ \ \ \textcolor{keywordtype}{int}\ line\ =\ REG\_VCOUNT\ +\ 1;}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00490}00490\ }
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00491}00491\ \ \ \ \ \textcolor{comment}{//\ Decrement\ line\ number\ if\ not\ in\ VBlank\ mode.}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00492}00492\ \ \ \ \ \textcolor{keywordflow}{if}\ ((REG\_DISPSTAT\ \&\ 3)\ !=\ 2)}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00493}00493\ \ \ \ \ \ \ \ \ line-\/-\/;}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00494}00494\ }
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00495}00495\ \ \ \ \ \textcolor{comment}{//\ Call\ doHBlank\ function\ to\ perform\ horizontal\ blank\ processing\ for\ the\ given\ line.}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00496}00496\ \ \ \ \ \mbox{\hyperlink{gbgfx_8cpp_a6636088a6baab3e32c6205d6cc483c86}{doHBlank}}(line);}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00497}00497\ \}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00498}00498\ }
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00506}\mbox{\hyperlink{gbgfx_8cpp_abb0c9757b585d53633e72130af93d164}{00506}}\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{gbgfx_8cpp_abb0c9757b585d53633e72130af93d164}{vcountHandler}}()}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00507}00507\ \{}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00508}00508\ \ \ \ \ \textcolor{comment}{//\ Set\ vram\ banks\ for\ sub\ backgrounds.}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00509}00509\ \ \ \ \ vramSetBankC(VRAM\_C\_SUB\_BG);}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00510}00510\ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{main_8c_a2bb32c52cb5d21be737aaa2aefb353d4}{sharedData}}-\/>\mbox{\hyperlink{struct_shared_data_a2c0c6b195867ee5f8f5c974fcb1d4197}{scalingOn}})}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00511}00511\ \ \ \ \ \ \ \ \ vramSetBankD(VRAM\_D\_LCD);}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00512}00512\ }
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00513}00513\ \ \ \ \ \textcolor{comment}{//\ Perform\ hblank\ processing\ for\ physical\ line\ 0.}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00514}00514\ \ \ \ \ \mbox{\hyperlink{gbgfx_8cpp_a6636088a6baab3e32c6205d6cc483c86}{doHBlank}}(0);}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00515}00515\ }
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00516}00516\ \ \ \ \ \textcolor{comment}{//\ If\ graphics\ are\ disabled,\ return.}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00517}00517\ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{gbgfx_8cpp_ae5d63a0df1fc230d6fb3b5c67314393d}{gbGraphicsDisabled}})}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00518}00518\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return};}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00519}00519\ }
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00520}00520\ \ \ \ \ \textcolor{comment}{//\ Draw\ the\ first\ Game\ Boy\ line\ early\ (physical\ line\ 24)\ if\ it\ has\ been\ modified.}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00521}00521\ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{gbgfx_8cpp_ab603fe74b48d08c176eb343ade1dc566}{drawingState}}[0].modified)}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00522}00522\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{gbgfx_8cpp_a7a78cce5bae844be29ced86930f0dd34}{drawLine}}(0);}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00523}00523\ }
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00524}00524\ \ \ \ \ \textcolor{comment}{//\ Mark\ the\ first\ Game\ Boy\ line\ as\ completed.}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00525}00525\ \ \ \ \ \mbox{\hyperlink{gbgfx_8cpp_a3cd39047a50d108bad589552d5c28d18}{lineCompleted}}[0]\ =\ \textcolor{keyword}{true};}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00526}00526\ \}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00527}00527\ }
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00528}\mbox{\hyperlink{gbgfx_8cpp_a661609bcd9b9316ac391ea66f6b86ac5}{00528}}\ std::vector<void\ (*)()>\ \mbox{\hyperlink{gbgfx_8cpp_a661609bcd9b9316ac391ea66f6b86ac5}{vblankTasks}};}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00529}00529\ }
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00538}\mbox{\hyperlink{gbgfx_8h_a2f55870003e8d34f5d175345f39f4105}{00538}}\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{gbgfx_8cpp_a2f55870003e8d34f5d175345f39f4105}{doAtVBlank}}(\textcolor{keywordtype}{void}\ (*func)(\textcolor{keywordtype}{void}))}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00539}00539\ \{}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00540}00540\ \ \ \ \ \mbox{\hyperlink{gbgfx_8cpp_a661609bcd9b9316ac391ea66f6b86ac5}{vblankTasks}}.push\_back(func);}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00541}00541\ \}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00542}00542\ }
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00543}\mbox{\hyperlink{gbgfx_8cpp_a9191c29ca1a0cf63adab0803375b342f}{00543}}\ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{gbgfx_8cpp_a9191c29ca1a0cf63adab0803375b342f}{filterFlip}}\ =\ \textcolor{keyword}{false};}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00553}\mbox{\hyperlink{gbgfx_8cpp_a61980113c878f9f0138454e1e1047750}{00553}}\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{gbgfx_8cpp_a61980113c878f9f0138454e1e1047750}{vblankHandler}}()}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00554}00554\ \{}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00555}00555\ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{main_8c_a2bb32c52cb5d21be737aaa2aefb353d4}{sharedData}}-\/>\mbox{\hyperlink{struct_shared_data_a2c0c6b195867ee5f8f5c974fcb1d4197}{scalingOn}})}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00556}00556\ \ \ \ \ \{}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00557}00557\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ Set\ vram\ banks\ for\ scaling.}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00558}00558\ \ \ \ \ \ \ \ \ vramSetBankD(VRAM\_D\_ARM7\_0x06000000);}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00559}00559\ \ \ \ \ \ \ \ \ vramSetBankC(VRAM\_C\_ARM7\_0x06020000);}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00560}00560\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{main_8c_a2bb32c52cb5d21be737aaa2aefb353d4}{sharedData}}-\/>\mbox{\hyperlink{struct_shared_data_ad9aa2a8dd98de663ae9e21874bd5f7c3}{scaleTransferReady}}\ =\ \textcolor{keyword}{true};}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00561}00561\ }
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00562}00562\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ Capture\ the\ main\ display\ into\ vram\ bank\ D.}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00563}00563\ \ \ \ \ \ \ \ \ REG\_DISPCAPCNT\ =\ 15\ |\ 3\ <<\ 16\ |\ 0\ <<\ 18\ |\ 3\ <<\ 20\ |\ 0\ <<\ 29\ |\ 1\ <<\ 31;}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00564}00564\ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00565}00565\ }
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00566}00566\ \ \ \ \ \textcolor{comment}{//\ Update\ vblank\ status\ and\ frame\ counter.}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00567}00567\ \ \ \ \ \mbox{\hyperlink{gbgfx_8cpp_a5458fb138ca4b8f989873109fd0c53d7}{didVblank}}\ =\ \textcolor{keyword}{true};}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00568}00568\ \ \ \ \ \mbox{\hyperlink{gbgfx_8cpp_acc585c432eca446ce44bda6d820320d8}{dsFrameCounter}}++;}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00569}00569\ }
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00570}00570\ \ \ \ \ \textcolor{comment}{//\ Reset\ line\ completion\ status.}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00571}00571\ \ \ \ \ memset(\mbox{\hyperlink{gbgfx_8cpp_a3cd39047a50d108bad589552d5c28d18}{lineCompleted}},\ 0,\ \textcolor{keyword}{sizeof}(\mbox{\hyperlink{gbgfx_8cpp_a3cd39047a50d108bad589552d5c28d18}{lineCompleted}}));}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00572}00572\ }
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00573}00573\ \ \ \ \ \textcolor{comment}{//\ Update\ filter\ position\ if\ a\ filter\ is\ being\ applied.}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00574}00574\ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{gbgfx_8cpp_a89e8f23cbae54ca6f6935daecbb1c5c5}{scaleFilter}}\ ==\ 1)}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00575}00575\ \ \ \ \ \{}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00576}00576\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{gbgfx_8cpp_a9191c29ca1a0cf63adab0803375b342f}{filterFlip}})}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00577}00577\ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00578}00578\ \ \ \ \ \ \ \ \ \ \ \ \ REG\_BG2X\_SUB\ =\ \mbox{\hyperlink{gbgfx_8cpp_af3e8557b7fc26006b9850248932ddf8b}{SCALE\_BGX}}\ -\/\ (1\ <<\ 5);}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00579}00579\ \ \ \ \ \ \ \ \ \ \ \ \ REG\_BG2Y\_SUB\ =\ \mbox{\hyperlink{gbgfx_8cpp_a2f95b3058774b52ad7e38b3f5c7174f5}{SCALE\_BGY}}\ -\/\ (1\ <<\ 5);}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00580}00580\ \ \ \ \ \ \ \ \ \ \ \ \ REG\_BG3X\_SUB\ =\ \mbox{\hyperlink{gbgfx_8cpp_af3e8557b7fc26006b9850248932ddf8b}{SCALE\_BGX}}\ +\ (1\ <<\ 5);}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00581}00581\ \ \ \ \ \ \ \ \ \ \ \ \ REG\_BG3Y\_SUB\ =\ \mbox{\hyperlink{gbgfx_8cpp_a2f95b3058774b52ad7e38b3f5c7174f5}{SCALE\_BGY}}\ +\ (1\ <<\ 5);}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00582}00582\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00583}00583\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{else}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00584}00584\ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00585}00585\ \ \ \ \ \ \ \ \ \ \ \ \ REG\_BG2X\_SUB\ =\ \mbox{\hyperlink{gbgfx_8cpp_af3e8557b7fc26006b9850248932ddf8b}{SCALE\_BGX}}\ -\/\ (1\ <<\ 5);}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00586}00586\ \ \ \ \ \ \ \ \ \ \ \ \ REG\_BG2Y\_SUB\ =\ \mbox{\hyperlink{gbgfx_8cpp_a2f95b3058774b52ad7e38b3f5c7174f5}{SCALE\_BGY}}\ +\ (1\ <<\ 5);}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00587}00587\ \ \ \ \ \ \ \ \ \ \ \ \ REG\_BG3X\_SUB\ =\ \mbox{\hyperlink{gbgfx_8cpp_af3e8557b7fc26006b9850248932ddf8b}{SCALE\_BGX}}\ +\ (1\ <<\ 5);}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00588}00588\ \ \ \ \ \ \ \ \ \ \ \ \ REG\_BG3Y\_SUB\ =\ \mbox{\hyperlink{gbgfx_8cpp_a2f95b3058774b52ad7e38b3f5c7174f5}{SCALE\_BGY}}\ -\/\ (1\ <<\ 5);}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00589}00589\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00590}00590\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{gbgfx_8cpp_a9191c29ca1a0cf63adab0803375b342f}{filterFlip}}\ =\ !\mbox{\hyperlink{gbgfx_8cpp_a9191c29ca1a0cf63adab0803375b342f}{filterFlip}};}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00591}00591\ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00592}00592\ }
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00593}00593\ \ \ \ \ \textcolor{comment}{//\ Copy\ the\ list\ of\ vblank\ tasks\ and\ execute\ them.}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00594}00594\ \ \ \ \ std::vector<void\ (*)()>\ tasks\ =\ \mbox{\hyperlink{gbgfx_8cpp_a661609bcd9b9316ac391ea66f6b86ac5}{vblankTasks}};}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00595}00595\ \ \ \ \ \mbox{\hyperlink{gbgfx_8cpp_a661609bcd9b9316ac391ea66f6b86ac5}{vblankTasks}}.clear();}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00596}00596\ \ \ \ \ \textcolor{keywordflow}{for}\ (uint\ i\ =\ 0;\ i\ <\ tasks.size();\ i++)}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00597}00597\ \ \ \ \ \{}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00598}00598\ \ \ \ \ \ \ \ \ tasks[i]();}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00599}00599\ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00600}00600\ \}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00601}00601\ }
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00610}\mbox{\hyperlink{gbgfx_8cpp_a6152d90bc27302b3fcd92f4973a2401c}{00610}}\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{gbgfx_8cpp_a6152d90bc27302b3fcd92f4973a2401c}{loadSGBBorder}}()}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00611}00611\ \{}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00612}00612\ \ \ \ \ \mbox{\hyperlink{gbgfx_8cpp_aef6032a39f08d1728cefcc4e8be2d437}{loadedBorderType}}\ =\ \mbox{\hyperlink{gbgfx_8h_abc6126af1d45847bc59afa0aa3216b04a67fb865853b0b945451732f850cd550f}{BORDER\_SGB}};}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00613}00613\ \ \ \ \ videoBgDisable(3);}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00614}00614\ \ \ \ \ WIN\_OUT\ =\ 1\ <<\ 3;}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00615}00615\ \ \ \ \ REG\_DISPCNT\ \&=\ \string~7;\ \textcolor{comment}{//\ Mode\ 0}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00616}00616\ \ \ \ \ REG\_BG3CNT\ =\ BG\_MAP\_BASE(\mbox{\hyperlink{gbgfx_8cpp_abd413371db8b3b61cd83231c431f4479}{border\_map\_base}})\ |\ BG\_TILE\_BASE(12);}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00617}00617\ \ \ \ \ REG\_BG3HOFS\ =\ 0;}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00618}00618\ \ \ \ \ REG\_BG3VOFS\ =\ -\/(\mbox{\hyperlink{gbgfx_8cpp_ae4626134fe8c5a191c8a9d36e9319cbc}{screenOffsY}}\ -\/\ 40);}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00619}00619\ \ \ \ \ videoBgEnable(3);}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00620}00620\ \}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00621}00621\ }
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00631}\mbox{\hyperlink{gbgfx_8h_ad00fca63a33eb7f18124dc4a19620a2e}{00631}}\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{gbgfx_8cpp_ad00fca63a33eb7f18124dc4a19620a2e}{initGFX}}()}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00632}00632\ \{}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00633}00633\ \ \ \ \ vramSetBankA(VRAM\_A\_MAIN\_BG);}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00634}00634\ \ \ \ \ vramSetBankB(VRAM\_B\_MAIN\_BG);}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00635}00635\ \ \ \ \ vramSetBankE(VRAM\_E\_MAIN\_SPRITE);}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00636}00636\ }
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00637}00637\ \ \ \ \ REG\_DISPSTAT\ \&=\ 0xFF;}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00638}00638\ \ \ \ \ REG\_DISPSTAT\ |=\ 235\ <<\ 8;\ \textcolor{comment}{//\ Set\ line\ 235\ for\ vcount}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00639}00639\ }
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00640}00640\ \ \ \ \ \mbox{\hyperlink{gbgfx_8cpp_ae5d63a0df1fc230d6fb3b5c67314393d}{gbGraphicsDisabled}}\ =\ \textcolor{keyword}{true};}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00641}00641\ }
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00642}00642\ \ \ \ \ irqEnable(IRQ\_VCOUNT);}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00643}00643\ \ \ \ \ irqEnable(IRQ\_HBLANK);}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00644}00644\ \ \ \ \ irqEnable(IRQ\_VBLANK);}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00645}00645\ \ \ \ \ irqSet(IRQ\_VCOUNT,\ \&\mbox{\hyperlink{gbgfx_8cpp_abb0c9757b585d53633e72130af93d164}{vcountHandler}});}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00646}00646\ \ \ \ \ irqSet(IRQ\_HBLANK,\ \&\mbox{\hyperlink{gbgfx_8cpp_a3f17d4b0a0e3c9903d68027415d47539}{hblankHandler}});}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00647}00647\ \ \ \ \ irqSet(IRQ\_VBLANK,\ \&\mbox{\hyperlink{gbgfx_8cpp_a61980113c878f9f0138454e1e1047750}{vblankHandler}});}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00648}00648\ }
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00649}00649\ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{gbs_8h_a6e7048c5efaac6e4916711ad174944cd}{gbsMode}})}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00650}00650\ \ \ \ \ \{}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00651}00651\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{gbgfx_8cpp_ae5d63a0df1fc230d6fb3b5c67314393d}{gbGraphicsDisabled}}\ =\ \textcolor{keyword}{true};}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00652}00652\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return};}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00653}00653\ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00654}00654\ }
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00655}00655\ \ \ \ \ \textcolor{comment}{//\ Tile\ for\ "{}color0\ maps"{},\ which\ contain\ only\ the\ gameboy's\ color\ 0.}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00656}00656\ \ \ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keywordtype}{int}\ i\ =\ 0;\ i\ <\ 16;\ i++)}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00657}00657\ \ \ \ \ \{}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00658}00658\ \ \ \ \ \ \ \ \ BG\_GFX[i]\ =\ 1\ |\ (1\ <<\ 4)\ |\ (1\ <<\ 8)\ |\ (1\ <<\ 12);}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00659}00659\ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00660}00660\ }
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00661}00661\ \ \ \ \ \textcolor{comment}{//\ Initialize\ the\ "{}off\ map"{},\ for\ when\ the\ gameboy\ screen\ is\ disabled.}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00662}00662\ \ \ \ \ \textcolor{comment}{//\ Uses\ the\ "{}color0\ map"{}\ tile\ because,\ why\ not.}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00663}00663\ \ \ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keywordtype}{int}\ i\ =\ 0;\ i\ <\ 32\ *\ 32;\ i++)}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00664}00664\ \ \ \ \ \{}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00665}00665\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{gbgfx_8cpp_a7ec3797409dcee1456d33ccce6eaddde}{offMap}}[i]\ =\ 15\ <<\ 12;}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00666}00666\ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00667}00667\ \ \ \ \ \textcolor{comment}{//\ Off\ map\ palette}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00668}00668\ \ \ \ \ BG\_PALETTE[\mbox{\hyperlink{gbgfx_8cpp_ad3002ecdd358dc1031b7f3f5367d856d}{OFF\_MAP\_PALETTE\_INDEX}}]\ =\ RGB15(31,\ 31,\ 31);}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00669}00669\ }
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00670}00670\ \ \ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keywordtype}{int}\ i\ =\ 0;\ i\ <\ 128;\ i++)}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00671}00671\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{gbgfx_8cpp_a34352c8a17802da70f27f22ce225178f}{sprites}}[i].attr0\ =\ ATTR0\_DISABLED;}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00672}00672\ }
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00673}00673\ \ \ \ \ \mbox{\hyperlink{gbgfx_8cpp_ad55b96f2678da1f09b16057cd76c3fe9}{initGFXPalette}}();}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00674}00674\ }
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00675}00675\ \ \ \ \ \mbox{\hyperlink{gbgfx_8cpp_ae5d63a0df1fc230d6fb3b5c67314393d}{gbGraphicsDisabled}}\ =\ \textcolor{keyword}{true};}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00676}00676\ \ \ \ \ swiWaitForVBlank();}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00677}00677\ }
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00678}00678\ \ \ \ \ WIN\_IN\ =\ (1\ <<\ 4)\ |\ (1\ <<\ 12)\ |\ 1;}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00679}00679\ \ \ \ \ WIN\_OUT\ =\ 1\ <<\ 3;}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00680}00680\ \ \ \ \ WIN1\_X0\ =\ \mbox{\hyperlink{gbgfx_8cpp_a285192f5390f5531ee1cca872f957d2d}{screenOffsX}};}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00681}00681\ \ \ \ \ WIN1\_X1\ =\ \mbox{\hyperlink{gbgfx_8cpp_a285192f5390f5531ee1cca872f957d2d}{screenOffsX}}\ +\ 160;}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00682}00682\ \ \ \ \ WIN1\_Y0\ =\ \mbox{\hyperlink{gbgfx_8cpp_ae4626134fe8c5a191c8a9d36e9319cbc}{screenOffsY}};}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00683}00683\ \ \ \ \ WIN1\_Y1\ =\ \mbox{\hyperlink{gbgfx_8cpp_ae4626134fe8c5a191c8a9d36e9319cbc}{screenOffsY}}\ +\ 144;}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00684}00684\ \ \ \ \ WIN0\_X0\ =\ \mbox{\hyperlink{gbgfx_8cpp_a285192f5390f5531ee1cca872f957d2d}{screenOffsX}};}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00685}00685\ \ \ \ \ WIN0\_Y0\ =\ \mbox{\hyperlink{gbgfx_8cpp_ae4626134fe8c5a191c8a9d36e9319cbc}{screenOffsY}};}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00686}00686\ \ \ \ \ WIN0\_X1\ =\ \mbox{\hyperlink{gbgfx_8cpp_a285192f5390f5531ee1cca872f957d2d}{screenOffsX}}\ +\ 160;}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00687}00687\ \ \ \ \ WIN0\_Y1\ =\ \mbox{\hyperlink{gbgfx_8cpp_ae4626134fe8c5a191c8a9d36e9319cbc}{screenOffsY}}\ +\ 144;}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00688}00688\ }
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00689}00689\ \ \ \ \ \textcolor{keywordtype}{int}\ mode\ =\ (\mbox{\hyperlink{gbgfx_8cpp_aef6032a39f08d1728cefcc4e8be2d437}{loadedBorderType}}\ ==\ \mbox{\hyperlink{gbgfx_8h_abc6126af1d45847bc59afa0aa3216b04ac1bf7e07e233f14e0c57a02c1644b737}{BORDER\_CUSTOM}}\ ?\ MODE\_3\_2D\ :\ MODE\_0\_2D);}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00690}00690\ \ \ \ \ videoSetMode(mode\ |\ DISPLAY\_BG0\_ACTIVE\ |\ DISPLAY\_BG1\_ACTIVE\ |\ DISPLAY\_BG2\_ACTIVE\ |\ DISPLAY\_BG3\_ACTIVE\ |}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00691}00691\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ DISPLAY\_WIN0\_ON\ |\ DISPLAY\_WIN1\_ON\ |\ DISPLAY\_SPR\_1D);}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00692}00692\ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{main_8c_a2bb32c52cb5d21be737aaa2aefb353d4}{sharedData}}-\/>\mbox{\hyperlink{struct_shared_data_a2c0c6b195867ee5f8f5c974fcb1d4197}{scalingOn}})}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00693}00693\ \ \ \ \ \ \ \ \ REG\_DISPCNT\ \&=\ \string~(3\ <<\ 16);\ \textcolor{comment}{//\ Main\ display\ is\ disabled\ when\ scaling\ is\ on}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00694}00694\ }
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00695}00695\ \ \ \ \ memset(\mbox{\hyperlink{mmu_8h_a7d0ed1b85995cb654491c9e0958abed2}{vram}}[0],\ 0,\ 0x2000);}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00696}00696\ \ \ \ \ memset(\mbox{\hyperlink{mmu_8h_a7d0ed1b85995cb654491c9e0958abed2}{vram}}[1],\ 0,\ 0x2000);}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00697}00697\ \ \ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keywordtype}{int}\ i\ =\ 0;\ i\ <\ 144;\ i++)}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00698}00698\ \ \ \ \ \{}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00699}00699\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{gbgfx_8cpp_aa479e9c1666a9411084a3c63974e07ad}{scanlineBuffers}}[0][i].\mbox{\hyperlink{struct_scanline_struct_a336f890daf27be7a9bd3728673d20a16}{modified}}\ =\ \textcolor{keyword}{false};}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00700}00700\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{gbgfx_8cpp_aa479e9c1666a9411084a3c63974e07ad}{scanlineBuffers}}[1][i].\mbox{\hyperlink{struct_scanline_struct_a336f890daf27be7a9bd3728673d20a16}{modified}}\ =\ \textcolor{keyword}{false};}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00701}00701\ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00702}00702\ \ \ \ \ \mbox{\hyperlink{gbgfx_8cpp_ae5d63a0df1fc230d6fb3b5c67314393d}{gbGraphicsDisabled}}\ =\ \textcolor{keyword}{false};}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00703}00703\ }
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00704}00704\ \ \ \ \ \mbox{\hyperlink{gbgfx_8cpp_a0e19dccb2272e5ec93cee1dbe5b3fee3}{gfxMask}}\ =\ 0;}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00705}00705\ }
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00706}00706\ \ \ \ \ \mbox{\hyperlink{gbgfx_8cpp_aa830515ff224eeaa5ae76432a118cd98}{checkBorder}}();}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00707}00707\ \ \ \ \ \mbox{\hyperlink{gbgfx_8cpp_a62b34356f6149d2c44ee24379cc347a6}{refreshGFX}}();}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00708}00708\ \}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00709}00709\ }
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00716}\mbox{\hyperlink{gbgfx_8h_ad55b96f2678da1f09b16057cd76c3fe9}{00716}}\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{gbgfx_8cpp_ad55b96f2678da1f09b16057cd76c3fe9}{initGFXPalette}}()}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00717}00717\ \{}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00718}00718\ \ \ \ \ memset(\mbox{\hyperlink{gbgfx_8h_a254d3c52c2ae7fff61e52168c0c37e86}{bgPaletteData}},\ 0xff,\ 0x40);}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00719}00719\ }
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00720}00720\ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{gameboy_8h_af3ddfcff387d53e03211aeaa7a0c14ef}{gbMode}}\ ==\ \mbox{\hyperlink{gbcpu_8h_a44172ac633c517cb4c9e278cef36b000}{GB}})}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00721}00721\ \ \ \ \ \{}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00722}00722\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{gbgfx_8h_ac22d8f92fe46c2fe4681159f06c6192a}{sprPaletteData}}[0]\ =\ 0xff;}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00723}00723\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{gbgfx_8h_ac22d8f92fe46c2fe4681159f06c6192a}{sprPaletteData}}[1]\ =\ 0xff;}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00724}00724\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{gbgfx_8h_ac22d8f92fe46c2fe4681159f06c6192a}{sprPaletteData}}[2]\ =\ 0x15\ |\ ((0x15\ \&\ 7)\ <<\ 5);}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00725}00725\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{gbgfx_8h_ac22d8f92fe46c2fe4681159f06c6192a}{sprPaletteData}}[3]\ =\ (0x15\ >>\ 3)\ |\ (0x15\ <<\ 2);}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00726}00726\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{gbgfx_8h_ac22d8f92fe46c2fe4681159f06c6192a}{sprPaletteData}}[4]\ =\ 0xa\ |\ ((0xa\ \&\ 7)\ <<\ 5);}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00727}00727\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{gbgfx_8h_ac22d8f92fe46c2fe4681159f06c6192a}{sprPaletteData}}[5]\ =\ (0xa\ >>\ 3)\ |\ (0xa\ <<\ 2);}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00728}00728\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{gbgfx_8h_ac22d8f92fe46c2fe4681159f06c6192a}{sprPaletteData}}[6]\ =\ 0;}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00729}00729\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{gbgfx_8h_ac22d8f92fe46c2fe4681159f06c6192a}{sprPaletteData}}[7]\ =\ 0;}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00730}00730\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{gbgfx_8h_ac22d8f92fe46c2fe4681159f06c6192a}{sprPaletteData}}[8]\ =\ 0xff;}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00731}00731\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{gbgfx_8h_ac22d8f92fe46c2fe4681159f06c6192a}{sprPaletteData}}[9]\ =\ 0xff;}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00732}00732\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{gbgfx_8h_ac22d8f92fe46c2fe4681159f06c6192a}{sprPaletteData}}[10]\ =\ 0x15\ |\ ((0x15\ \&\ 7)\ <<\ 5);}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00733}00733\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{gbgfx_8h_ac22d8f92fe46c2fe4681159f06c6192a}{sprPaletteData}}[11]\ =\ (0x15\ >>\ 3)\ |\ (0x15\ <<\ 2);}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00734}00734\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{gbgfx_8h_ac22d8f92fe46c2fe4681159f06c6192a}{sprPaletteData}}[12]\ =\ 0xa\ |\ ((0xa\ \&\ 7)\ <<\ 5);}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00735}00735\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{gbgfx_8h_ac22d8f92fe46c2fe4681159f06c6192a}{sprPaletteData}}[13]\ =\ (0xa\ >>\ 3)\ |\ (0xa\ <<\ 2);}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00736}00736\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{gbgfx_8h_ac22d8f92fe46c2fe4681159f06c6192a}{sprPaletteData}}[14]\ =\ 0;}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00737}00737\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{gbgfx_8h_ac22d8f92fe46c2fe4681159f06c6192a}{sprPaletteData}}[15]\ =\ 0;}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00738}00738\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{gbgfx_8h_a254d3c52c2ae7fff61e52168c0c37e86}{bgPaletteData}}[0]\ =\ 0xff;}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00739}00739\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{gbgfx_8h_a254d3c52c2ae7fff61e52168c0c37e86}{bgPaletteData}}[1]\ =\ 0xff;}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00740}00740\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{gbgfx_8h_a254d3c52c2ae7fff61e52168c0c37e86}{bgPaletteData}}[2]\ =\ 0x15\ |\ ((0x15\ \&\ 7)\ <<\ 5);}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00741}00741\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{gbgfx_8h_a254d3c52c2ae7fff61e52168c0c37e86}{bgPaletteData}}[3]\ =\ (0x15\ >>\ 3)\ |\ (0x15\ <<\ 2);}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00742}00742\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{gbgfx_8h_a254d3c52c2ae7fff61e52168c0c37e86}{bgPaletteData}}[4]\ =\ 0xa\ |\ ((0xa\ \&\ 7)\ <<\ 5);}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00743}00743\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{gbgfx_8h_a254d3c52c2ae7fff61e52168c0c37e86}{bgPaletteData}}[5]\ =\ (0xa\ >>\ 3)\ |\ (0xa\ <<\ 2);}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00744}00744\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{gbgfx_8h_a254d3c52c2ae7fff61e52168c0c37e86}{bgPaletteData}}[6]\ =\ 0;}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00745}00745\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{gbgfx_8h_a254d3c52c2ae7fff61e52168c0c37e86}{bgPaletteData}}[7]\ =\ 0;}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00746}00746\ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00747}00747\ }
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00748}00748\ \ \ \ \ \textcolor{comment}{//\ This\ prevents\ some\ flickering\ when\ loading\ roms}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00749}00749\ \ \ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keywordtype}{int}\ i\ =\ 0;\ i\ <\ 8;\ i++)}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00750}00750\ \ \ \ \ \{}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00751}00751\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{gbgfx_8cpp_a1214c2484459d4a461f437e67a072694}{updateBgPalette\_GBC}}(i,\ \mbox{\hyperlink{gbgfx_8h_a254d3c52c2ae7fff61e52168c0c37e86}{bgPaletteData}}\ +\ i\ *\ 8);}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00752}00752\ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00753}00753\ \}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00754}00754\ }
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00762}\mbox{\hyperlink{gbgfx_8h_a62b34356f6149d2c44ee24379cc347a6}{00762}}\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{gbgfx_8cpp_a62b34356f6149d2c44ee24379cc347a6}{refreshGFX}}()}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00763}00763\ \{}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00764}00764\ \ \ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keywordtype}{int}\ i\ =\ 0;\ i\ <\ 0x180;\ i++)}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00765}00765\ \ \ \ \ \{}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00766}00766\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{gbgfx_8cpp_a8c19f928b2c7863839f14f5609538afd}{drawTile}}(i,\ 0);}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00767}00767\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{gbgfx_8cpp_a8c19f928b2c7863839f14f5609538afd}{drawTile}}(i,\ 1);}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00768}00768\ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00769}00769\ \ \ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keywordtype}{int}\ i\ =\ 0;\ i\ <\ 0x400;\ i++)}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00770}00770\ \ \ \ \ \{}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00771}00771\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{gbgfx_8cpp_a38cfcb29e33564da47daf80302f353b5}{updateTileMap}}(0,\ i);}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00772}00772\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{gbgfx_8cpp_a38cfcb29e33564da47daf80302f353b5}{updateTileMap}}(1,\ i);}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00773}00773\ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00774}00774\ \ \ \ \ \mbox{\hyperlink{gbgfx_8cpp_aad42beb02a7313afa3778db5e804f851}{changedMapQueueLength}}[0]\ =\ 0;}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00775}00775\ \ \ \ \ \mbox{\hyperlink{gbgfx_8cpp_aad42beb02a7313afa3778db5e804f851}{changedMapQueueLength}}[1]\ =\ 0;}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00776}00776\ \ \ \ \ \mbox{\hyperlink{gbgfx_8cpp_a45834c0f350c7bfbd7657d32bcf42d43}{changedTileQueueLength}}\ =\ 0;}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00777}00777\ \ \ \ \ \mbox{\hyperlink{gbgfx_8cpp_adb7a4f818a75d747ae51e6b16dbe623f}{changedTileInFrameQueueLength}}\ =\ 0;}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00778}00778\ \ \ \ \ memset(\mbox{\hyperlink{gbgfx_8cpp_a542811a076e55daa66e05901298fc57a}{changedTile}},\ 0,\ \textcolor{keyword}{sizeof}(\mbox{\hyperlink{gbgfx_8cpp_a542811a076e55daa66e05901298fc57a}{changedTile}}));}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00779}00779\ \ \ \ \ memset(\mbox{\hyperlink{gbgfx_8cpp_af36bd9924bc4a1c5da12c77c46713f4c}{changedTileInFrame}},\ 0,\ \textcolor{keyword}{sizeof}(\mbox{\hyperlink{gbgfx_8cpp_af36bd9924bc4a1c5da12c77c46713f4c}{changedTileInFrame}}));}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00780}00780\ }
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00781}00781\ \ \ \ \ \mbox{\hyperlink{gbgfx_8cpp_a31c7dcff373ddfa6b23617e9298f961d}{lastScreenDisabled}}\ =\ !(\mbox{\hyperlink{mmu_8h_a7436ad149c3b3f2974966d6b546d14d9}{ioRam}}[0x40]\ \&\ 0x80);}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00782}00782\ \ \ \ \ \mbox{\hyperlink{gbgfx_8cpp_a097b7a3d0c46cf0afdc98b34bf6f99ed}{screenDisabled}}\ =\ \mbox{\hyperlink{gbgfx_8cpp_a31c7dcff373ddfa6b23617e9298f961d}{lastScreenDisabled}};}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00783}00783\ \ \ \ \ \mbox{\hyperlink{gbgfx_8cpp_adf5931a286627b99da8d76dc7eb033df}{winPosY}}\ =\ -\/1;}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00784}00784\ }
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00785}00785\ \ \ \ \ \mbox{\hyperlink{gbgfx_8cpp_a3b35e4c59fbe530ccfd4fc14c5d4c265}{usingTilePriority}}[0]\ =\ 0;}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00786}00786\ \ \ \ \ \mbox{\hyperlink{gbgfx_8cpp_a3b35e4c59fbe530ccfd4fc14c5d4c265}{usingTilePriority}}[1]\ =\ 0;}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00787}00787\ \ \ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keywordtype}{int}\ i\ =\ 0x1800;\ i\ <\ 0x1c00;\ i++)}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00788}00788\ \ \ \ \ \{}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00789}00789\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{mmu_8h_a7d0ed1b85995cb654491c9e0958abed2}{vram}}[1][i]\ \&\ 0x80)}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00790}00790\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{gbgfx_8cpp_a3b35e4c59fbe530ccfd4fc14c5d4c265}{usingTilePriority}}[0]++;}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00791}00791\ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00792}00792\ \ \ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keywordtype}{int}\ i\ =\ 0x1c00;\ i\ <\ 0x2000;\ i++)}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00793}00793\ \ \ \ \ \{}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00794}00794\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{mmu_8h_a7d0ed1b85995cb654491c9e0958abed2}{vram}}[1][i]\ \&\ 0x80)}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00795}00795\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{gbgfx_8cpp_a3b35e4c59fbe530ccfd4fc14c5d4c265}{usingTilePriority}}[1]++;}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00796}00796\ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00797}00797\ \}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00798}00798\ }
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00806}\mbox{\hyperlink{gbgfx_8h_a484b3e71acef74d4337dbaf8765cb140}{00806}}\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{gbgfx_8cpp_a484b3e71acef74d4337dbaf8765cb140}{clearGFX}}()}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00807}00807\ \{}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00808}00808\ \ \ \ \ \mbox{\hyperlink{gbgfx_8cpp_ae5d63a0df1fc230d6fb3b5c67314393d}{gbGraphicsDisabled}}\ =\ \textcolor{keyword}{true};}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00809}00809\ \ \ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keywordtype}{int}\ i\ =\ 0;\ i\ <\ (\mbox{\hyperlink{gbgfx_8cpp_aef6032a39f08d1728cefcc4e8be2d437}{loadedBorderType}}\ ?\ 3\ :\ 4);\ i++)}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00810}00810\ \ \ \ \ \ \ \ \ videoBgDisable(i);}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00811}00811\ \ \ \ \ REG\_DISPCNT\ \&=\ \string~DISPLAY\_SPR\_ACTIVE;}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00812}00812\ }
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00813}00813\ \ \ \ \ \textcolor{comment}{//\ Blacken\ the\ screen.}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00814}00814\ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{gbgfx_8cpp_aef6032a39f08d1728cefcc4e8be2d437}{loadedBorderType}})}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00815}00815\ \ \ \ \ \{}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00816}00816\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ Make\ it\ white\ if\ there's\ a\ border\ loaded.}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00817}00817\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ I\ could\ use\ the\ backdrop,\ but\ that\ messes\ with\ SGB\ borders.}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00818}00818\ \ \ \ \ \ \ \ \ BG\_PALETTE[\mbox{\hyperlink{gbgfx_8cpp_ad3002ecdd358dc1031b7f3f5367d856d}{OFF\_MAP\_PALETTE\_INDEX}}]\ =\ RGB15(31,\ 31,\ 31);}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00819}00819\ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00820}00820\ \ \ \ \ \textcolor{keywordflow}{else}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00821}00821\ \ \ \ \ \{}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00822}00822\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ Otherwise\ make\ it\ black.}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00823}00823\ \ \ \ \ \ \ \ \ BG\_PALETTE[\mbox{\hyperlink{gbgfx_8cpp_ad3002ecdd358dc1031b7f3f5367d856d}{OFF\_MAP\_PALETTE\_INDEX}}]\ =\ RGB15(0,\ 0,\ 0);}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00824}00824\ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00825}00825\ \ \ \ \ \mbox{\hyperlink{gbgfx_8cpp_a8209539684d9069849b50012fd470999}{BG\_CNT}}(0)\ =\ BG\_MAP\_BASE(\mbox{\hyperlink{gbgfx_8cpp_a91ce402e5df15ae36e306bc87e0e8571}{off\_map\_base}})\ |\ 3;}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00826}00826\ \ \ \ \ videoBgEnable(0);}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00827}00827\ \}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00828}00828\ }
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00837}\mbox{\hyperlink{gbgfx_8h_ab69a9c5313c53ae912567230d8ddfcf0}{00837}}\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{gbgfx_8cpp_ab69a9c5313c53ae912567230d8ddfcf0}{refreshSgbPalette}}()}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00838}00838\ \{}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00839}00839\ \ \ \ \ \textcolor{keywordtype}{int}\ winMap\ =\ 0,\ bgMap\ =\ 0;}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00840}00840\ \ \ \ \ \textcolor{keywordtype}{bool}\ winJustDisabled\ =\ \textcolor{keyword}{false};}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00841}00841\ \ \ \ \ \textcolor{keywordtype}{bool}\ winOn\ =\ 0;}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00842}00842\ \ \ \ \ \textcolor{keywordtype}{int}\ hofs\ =\ 0,\ vofs\ =\ 0,\ \mbox{\hyperlink{gbgfx_8cpp_af45ebf8710b5dc93aaf0421a4fe37764}{winX}}\ =\ 0,\ winY\ =\ 0;}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00843}00843\ }
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00844}00844\ \ \ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keywordtype}{int}\ y\ =\ 0;\ y\ <\ 18;\ y++)}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00845}00845\ \ \ \ \ \{}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00846}00846\ \ \ \ \ \ \ \ \ winJustDisabled\ =\ \textcolor{keyword}{false};}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00847}00847\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keywordtype}{int}\ yPix\ =\ y\ *\ 8\ -\/\ 7;\ yPix\ <=\ y\ *\ 8;\ yPix++)}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00848}00848\ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00849}00849\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (yPix\ >=\ 0\ \&\&\ \mbox{\hyperlink{gbgfx_8cpp_ab603fe74b48d08c176eb343ade1dc566}{drawingState}}[yPix].modified\ \&\&\ \mbox{\hyperlink{gbgfx_8cpp_ab603fe74b48d08c176eb343ade1dc566}{drawingState}}[yPix].\mbox{\hyperlink{gbgfx_8cpp_a6d8811638f07e4ef3353977efe34c68b}{mapsModified}})}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00850}00850\ \ \ \ \ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00851}00851\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (!winJustDisabled)}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00852}00852\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ winJustDisabled\ =\ winOn\ \&\&\ (!\mbox{\hyperlink{gbgfx_8cpp_ab603fe74b48d08c176eb343ade1dc566}{drawingState}}[yPix].\mbox{\hyperlink{struct_scanline_struct_a3eb9afc043d7b48081054d31bbd5b5ee}{winOn}});}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00853}00853\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ winOn\ =\ \mbox{\hyperlink{gbgfx_8cpp_ab603fe74b48d08c176eb343ade1dc566}{drawingState}}[yPix].\mbox{\hyperlink{struct_scanline_struct_a3eb9afc043d7b48081054d31bbd5b5ee}{winOn}};}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00854}00854\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{gbgfx_8cpp_af45ebf8710b5dc93aaf0421a4fe37764}{winX}}\ =\ \mbox{\hyperlink{gbgfx_8cpp_ab603fe74b48d08c176eb343ade1dc566}{drawingState}}[yPix].\mbox{\hyperlink{struct_scanline_struct_ac62895524abcf9746f5762536a1f8556}{winX}};}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00855}00855\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ winY\ =\ \mbox{\hyperlink{gbgfx_8cpp_ab603fe74b48d08c176eb343ade1dc566}{drawingState}}[yPix].\mbox{\hyperlink{struct_scanline_struct_a8d7776aee90d159b7957a30746690175}{winY}};}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00856}00856\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ hofs\ =\ \mbox{\hyperlink{gbgfx_8cpp_ab603fe74b48d08c176eb343ade1dc566}{drawingState}}[yPix].\mbox{\hyperlink{struct_scanline_struct_a29c1fa6eb5e29c3a97f0ade15c3d6c79}{hofs}};}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00857}00857\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ vofs\ =\ \mbox{\hyperlink{gbgfx_8cpp_ab603fe74b48d08c176eb343ade1dc566}{drawingState}}[yPix].\mbox{\hyperlink{struct_scanline_struct_a8616c1aa21ec4e29a2fd542dda75cc8f}{vofs}};}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00858}00858\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ winMap\ =\ \mbox{\hyperlink{gbgfx_8cpp_ab603fe74b48d08c176eb343ade1dc566}{drawingState}}[yPix].\mbox{\hyperlink{struct_scanline_struct_a488243d91d511956b87cd1ac5f25281d}{winMap}};}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00859}00859\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ bgMap\ =\ \mbox{\hyperlink{gbgfx_8cpp_ab603fe74b48d08c176eb343ade1dc566}{drawingState}}[yPix].\mbox{\hyperlink{struct_scanline_struct_a736b19cc5281791d106022368cc319fd}{bgMap}};}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00860}00860\ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00861}00861\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00862}00862\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keywordtype}{int}\ x\ =\ 0;\ x\ <\ 20;\ x++)}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00863}00863\ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00864}00864\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{int}\ palette\ =\ \mbox{\hyperlink{sgb_8h_a15e19c23520a5b3c3a3ddb347af5273b}{sgbMap}}[y\ *\ 20\ +\ x]\ \&\ 3;}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00865}00865\ }
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00866}00866\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ BACKGROUND}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00867}00867\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{int}\ yLoop\ =\ (y\ ==\ 0\ ||\ winJustDisabled\ ?\ 2\ :\ 1);\ \textcolor{comment}{//\ Give\ vertical\ tile\ -\/1\ tile\ 0's\ palette\ as\ it's\ scrolling\ in}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00868}00868\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{int}\ xLoop\ =\ (x\ ==\ 19\ ?\ 2\ :\ 1);\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ Give\ horizontal\ tile\ 20\ tile\ 19's\ palette,\ as\ it's\ scrolling\ in}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00869}00869\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{while}\ (yLoop-\/-\/\ >\ 0)}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00870}00870\ \ \ \ \ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00871}00871\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keywordtype}{int}\ j\ =\ 0;\ j\ <\ xLoop;\ j++)}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00872}00872\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00873}00873\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{int}\ realx\ =\ (((x\ +\ j)\ *\ 8\ +\ hofs)\ \&\ 0xff)\ /\ 8;}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00874}00874\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{int}\ realy\ =\ (((y\ -\/\ yLoop)\ *\ 8\ +\ vofs\ +\ 7)\ \&\ 0xff)\ /\ 8;}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00875}00875\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{int}\ i\ =\ realy\ *\ 32\ +\ realx;}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00876}00876\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{gbgfx_8cpp_a1e800a6a0ab719ff1af9a81efd02877a}{map}}[bgMap][i]\ \&=\ \string~(7\ <<\ 12);}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00877}00877\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{gbgfx_8cpp_a1e800a6a0ab719ff1af9a81efd02877a}{map}}[bgMap][i]\ |=\ (palette\ <<\ 12);}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00878}00878\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00879}00879\ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00880}00880\ }
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00881}00881\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ WINDOW}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00882}00882\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (winOn)}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00883}00883\ \ \ \ \ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00884}00884\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ yLoop\ =\ (y\ ==\ 17\ ?\ 2\ :\ 1);\ \textcolor{comment}{//\ Give\ vertical\ tile\ 19\ tile\ 18's\ palette\ as\ it's\ scrolling\ in}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00885}00885\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ xLoop\ =\ (x\ ==\ 19\ ?\ 2\ :\ 1);\ \textcolor{comment}{//\ x\ is\ treated\ the\ same\ as\ the\ background}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00886}00886\ }
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00887}00887\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{while}\ (yLoop-\/-\/\ >\ 0)}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00888}00888\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00889}00889\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keywordtype}{int}\ j\ =\ 0;\ j\ <\ xLoop;\ j++)}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00890}00890\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00891}00891\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{int}\ realx\ =\ ((x\ +\ j)\ *\ 8\ -\/\ (\mbox{\hyperlink{gbgfx_8cpp_af45ebf8710b5dc93aaf0421a4fe37764}{winX}}\ -\/\ 7))\ /\ 8;}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00892}00892\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{int}\ realy\ =\ ((y\ +\ yLoop)\ *\ 8\ -\/\ winY)\ /\ 8;}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00893}00893\ }
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00894}00894\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (realx\ >=\ 0\ \&\&\ realy\ >=\ 0\ \&\&\ realx\ <\ 32\ \&\&\ realy\ <\ 32)}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00895}00895\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00896}00896\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{int}\ i\ =\ realy\ *\ 32\ +\ realx;}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00897}00897\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{gbgfx_8cpp_a1e800a6a0ab719ff1af9a81efd02877a}{map}}[winMap][i]\ \&=\ \string~(7\ <<\ 12);}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00898}00898\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{gbgfx_8cpp_a1e800a6a0ab719ff1af9a81efd02877a}{map}}[winMap][i]\ |=\ (palette\ <<\ 12);}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00899}00899\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00900}00900\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00901}00901\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00902}00902\ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00903}00903\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00904}00904\ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00905}00905\ \}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00906}00906\ }
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00913}\mbox{\hyperlink{gbgfx_8h_af6eb238b4b25b103654a5cbae07a4138}{00913}}\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{gbgfx_8cpp_af6eb238b4b25b103654a5cbae07a4138}{displayIcon}}(\textcolor{keywordtype}{int}\ iconid)}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00914}00914\ \{}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00915}00915\ \ \ \ \ \textcolor{keyword}{const}\ u16\ *gfx;}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00916}00916\ \ \ \ \ \textcolor{keyword}{const}\ u16\ *pal;}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00917}00917\ \ \ \ \ \textcolor{keywordtype}{int}\ len\ =\ printerIconTilesLen;\ \textcolor{comment}{//\ Should\ always\ be\ the\ same}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00918}00918\ }
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00919}00919\ \ \ \ \ \textcolor{keywordflow}{switch}\ (iconid)}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00920}00920\ \ \ \ \ \{}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00921}00921\ \ \ \ \ \textcolor{keywordflow}{case}\ \mbox{\hyperlink{gbgfx_8h_a8ae68d9ad47833a98bc33ab36897040fa77556354067e6b09d0bb8c2f8893949b}{ICON\_NULL}}:}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00922}00922\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{gbgfx_8cpp_a34352c8a17802da70f27f22ce225178f}{sprites}}[0].attr0\ =\ ATTR0\_DISABLED;}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00923}00923\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return};}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00924}00924\ \ \ \ \ \textcolor{keywordflow}{case}\ \mbox{\hyperlink{gbgfx_8h_a8ae68d9ad47833a98bc33ab36897040fa978626f79887a3220938f77810857708}{ICON\_PRINTER}}:}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00925}00925\ \ \ \ \ \ \ \ \ gfx\ =\ printerIconTiles;}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00926}00926\ \ \ \ \ \ \ \ \ pal\ =\ printerIconPal;}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00927}00927\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{break};}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00928}00928\ \ \ \ \ \textcolor{keywordflow}{default}:}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00929}00929\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return};}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00930}00930\ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00931}00931\ }
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00932}00932\ \ \ \ \ dmaCopy(gfx,\ SPRITE\_GFX\ +\ 0x200\ *\ 16,\ len);}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00933}00933\ \ \ \ \ dmaCopy(pal,\ SPRITE\_PALETTE\ +\ 15\ *\ 16,\ 16\ *\ 2);}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00934}00934\ }
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00935}00935\ \ \ \ \ \mbox{\hyperlink{gbgfx_8cpp_a34352c8a17802da70f27f22ce225178f}{sprites}}[0].attr0\ =\ \mbox{\hyperlink{gbgfx_8cpp_ae4626134fe8c5a191c8a9d36e9319cbc}{screenOffsY}};}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00936}00936\ \ \ \ \ \mbox{\hyperlink{gbgfx_8cpp_a34352c8a17802da70f27f22ce225178f}{sprites}}[0].attr1\ =\ (\mbox{\hyperlink{gbgfx_8cpp_a285192f5390f5531ee1cca872f957d2d}{screenOffsX}}\ +\ 160\ -\/\ 32)\ |\ ATTR1\_SIZE\_32;}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00937}00937\ \ \ \ \ \mbox{\hyperlink{gbgfx_8cpp_a34352c8a17802da70f27f22ce225178f}{sprites}}[0].attr2\ =\ 0x200\ |\ ATTR2\_PALETTE(15);}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00938}00938\ \}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00939}00939\ }
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00949}\mbox{\hyperlink{gbgfx_8h_a5c68b80f62aca2e37b19134d5885eb57}{00949}}\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{gbgfx_8cpp_a5c68b80f62aca2e37b19134d5885eb57}{selectBorder}}()}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00950}00950\ \{}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00951}00951\ \ \ \ \ \mbox{\hyperlink{gbsnd_8h_a7fab9e8cae567ef9c79b711b29909ffb}{muteSND}}();\ \textcolor{comment}{//\ Mute\ the\ sound\ before\ opening\ file\ chooser}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00952}00952\ }
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00953}00953\ \ \ \ \ \textcolor{comment}{//\ If\ the\ current\ directory\ is\ the\ root\ and\ a\ border\ is\ loaded,\ set\ the\ file\ chooser's}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00954}00954\ \ \ \ \ \textcolor{comment}{//\ current\ directory\ to\ the\ directory\ containing\ the\ current\ border\ file.}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00955}00955\ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{filechooser_8h_aae617de565d7031c7d254a6b55b8e01f}{borderChooserState}}.\mbox{\hyperlink{struct_file_chooser_state_a34c3a0d8034c7794d02d5f0e3599c130}{directory}}\ ==\ \textcolor{stringliteral}{"{}/"{}}\ \&\&\ \mbox{\hyperlink{inputhelper_8h_afb9e9630607fb784a26fade843b3a663}{borderPath}}\ !=\ NULL)}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00956}00956\ \ \ \ \ \{}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00957}00957\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{char}\ dest[256];}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00958}00958\ \ \ \ \ \ \ \ \ strcpy(dest,\ \mbox{\hyperlink{inputhelper_8h_afb9e9630607fb784a26fade843b3a663}{borderPath}});}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00959}00959\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{filechooser_8h_a1ce1ee9c7f2b538eb7ede7cc4ae43b2e}{setFileChooserMatchFile}}(strrchr(dest,\ \textcolor{charliteral}{'/'})\ +\ 1);}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00960}00960\ \ \ \ \ \ \ \ \ *(strrchr(dest,\ \textcolor{charliteral}{'/'})\ +\ 1)\ =\ \textcolor{charliteral}{'\(\backslash\)0'};}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00961}00961\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{filechooser_8h_aae617de565d7031c7d254a6b55b8e01f}{borderChooserState}}.\mbox{\hyperlink{struct_file_chooser_state_a34c3a0d8034c7794d02d5f0e3599c130}{directory}}\ =\ dest;}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00962}00962\ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00963}00963\ }
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00964}00964\ \ \ \ \ \textcolor{comment}{//\ Load\ the\ file\ chooser's\ state\ and\ prompt\ the\ user\ to\ select\ a\ BMP\ file.}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00965}00965\ \ \ \ \ \mbox{\hyperlink{filechooser_8h_a0585552ff957251a4c6304d2ac819dba}{loadFileChooserState}}(\&\mbox{\hyperlink{filechooser_8h_aae617de565d7031c7d254a6b55b8e01f}{borderChooserState}});}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00966}00966\ \ \ \ \ \textcolor{keyword}{const}\ \textcolor{keywordtype}{char}\ *extensions[]\ =\ \{\textcolor{stringliteral}{"{}bmp"{}}\};}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00967}00967\ \ \ \ \ \textcolor{keywordtype}{int}\ len\ =\ (\textcolor{keyword}{sizeof}(extensions)\ /\ \textcolor{keyword}{sizeof}(\textcolor{keyword}{const}\ \textcolor{keywordtype}{char}\ *));}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00968}00968\ \ \ \ \ \textcolor{keywordtype}{char}\ *\mbox{\hyperlink{inputhelper_8cpp_a8c1e45e135261042ac6429a00328fe61}{filename}}\ =\ \mbox{\hyperlink{filechooser_8h_ad9290a6b86d58cddd1af76147abebaee}{startFileChooser}}(extensions,\ len,\ \textcolor{keyword}{false},\ \textcolor{keyword}{true});}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00969}00969\ }
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00970}00970\ \ \ \ \ \textcolor{comment}{//\ If\ a\ file\ is\ selected,\ store\ its\ path\ in\ borderPath,\ free\ the\ filename\ buffer,}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00971}00971\ \ \ \ \ \textcolor{comment}{//\ force\ a\ reload\ of\ the\ border,\ and\ check\ if\ the\ border\ is\ valid.}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00972}00972\ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{inputhelper_8cpp_a8c1e45e135261042ac6429a00328fe61}{filename}}\ !=\ NULL)}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00973}00973\ \ \ \ \ \{}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00974}00974\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{char}\ cwd[256];}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00975}00975\ \ \ \ \ \ \ \ \ getcwd(cwd,\ 256);}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00976}00976\ \ \ \ \ \ \ \ \ free(\mbox{\hyperlink{inputhelper_8h_afb9e9630607fb784a26fade843b3a663}{borderPath}});}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00977}00977\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{inputhelper_8h_afb9e9630607fb784a26fade843b3a663}{borderPath}}\ =\ (\textcolor{keywordtype}{char}\ *)malloc(strlen(cwd)\ +\ strlen(\mbox{\hyperlink{inputhelper_8cpp_a8c1e45e135261042ac6429a00328fe61}{filename}})\ +\ 1);}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00978}00978\ \ \ \ \ \ \ \ \ strcpy(\mbox{\hyperlink{inputhelper_8h_afb9e9630607fb784a26fade843b3a663}{borderPath}},\ cwd);}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00979}00979\ \ \ \ \ \ \ \ \ strcat(\mbox{\hyperlink{inputhelper_8h_afb9e9630607fb784a26fade843b3a663}{borderPath}},\ \mbox{\hyperlink{inputhelper_8cpp_a8c1e45e135261042ac6429a00328fe61}{filename}});}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00980}00980\ \ \ \ \ \ \ \ \ free(\mbox{\hyperlink{inputhelper_8cpp_a8c1e45e135261042ac6429a00328fe61}{filename}});}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00981}00981\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{gbgfx_8cpp_aef6032a39f08d1728cefcc4e8be2d437}{loadedBorderType}}\ =\ \mbox{\hyperlink{gbgfx_8h_abc6126af1d45847bc59afa0aa3216b04a6051477cfcc8ff5efefaf4147723d9a2}{BORDER\_NONE}};\ \textcolor{comment}{//\ Force\ reload}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00982}00982\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{gbgfx_8cpp_aa830515ff224eeaa5ae76432a118cd98}{checkBorder}}();}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00983}00983\ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00984}00984\ }
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00985}00985\ \ \ \ \ \textcolor{comment}{//\ Save\ the\ file\ chooser's\ state\ and\ reload\ the\ ROM\ file\ chooser\ state.}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00986}00986\ \ \ \ \ \mbox{\hyperlink{filechooser_8h_a2469bf89eddb75cbc3b1b7712e08bb48}{saveFileChooserState}}(\&\mbox{\hyperlink{filechooser_8h_aae617de565d7031c7d254a6b55b8e01f}{borderChooserState}});}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00987}00987\ \ \ \ \ \mbox{\hyperlink{filechooser_8h_a0585552ff957251a4c6304d2ac819dba}{loadFileChooserState}}(\&\mbox{\hyperlink{filechooser_8h_a1c185a37dc80642d3853e3e2bc73c6a2}{romChooserState}});}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00988}00988\ }
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00989}00989\ \ \ \ \ \mbox{\hyperlink{gbsnd_8h_ae7ca78c77d7dc2018984e5dfe67c87eb}{unmuteSND}}();\ \textcolor{comment}{//\ Unmute\ the\ sound\ after\ closing\ the\ file\ chooser}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00990}00990\ \}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00991}00991\ }
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00998}\mbox{\hyperlink{gbgfx_8h_ac67a99cc1feaf73626bdeebcd476c33d}{00998}}\ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{gbgfx_8cpp_ac67a99cc1feaf73626bdeebcd476c33d}{loadBorder}}(\textcolor{keyword}{const}\ \textcolor{keywordtype}{char}\ *\mbox{\hyperlink{inputhelper_8cpp_a8c1e45e135261042ac6429a00328fe61}{filename}})}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l00999}00999\ \{}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01000}01000\ \ \ \ \ \textcolor{comment}{//\ Attempt\ to\ open\ the\ file.}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01001}01001\ \ \ \ \ FILE\ *file\ =\ fopen(\mbox{\hyperlink{inputhelper_8cpp_a8c1e45e135261042ac6429a00328fe61}{filename}},\ \textcolor{stringliteral}{"{}rb"{}});}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01002}01002\ \ \ \ \ \textcolor{keywordflow}{if}\ (file\ ==\ NULL)}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01003}01003\ \ \ \ \ \{}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01004}01004\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{gbgfx_8cpp_a6092e57bcfad6a29770fdc99f3f3b221}{customBorderExists}}\ =\ \textcolor{keyword}{false};}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01005}01005\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{console_8h_a67a8669d5dfb6c692da04af49dc4c510}{disableMenuOption}}(\textcolor{stringliteral}{"{}Custom\ Border"{}});}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01006}01006\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{console_8h_a62de465465602ecf44e199d8e1dc876a}{printLog}}(\textcolor{stringliteral}{"{}Error\ opening\ border.\(\backslash\)n"{}});}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01007}01007\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ 1;}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01008}01008\ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01009}01009\ }
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01010}01010\ \ \ \ \ \textcolor{comment}{//\ Enable\ the\ "{}Custom\ Border"{}\ menu\ option\ and\ set\ the\ custom\ border\ flag.}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01011}01011\ \ \ \ \ \mbox{\hyperlink{console_8h_a5309114235fda699b310a34bb8dfe131}{enableMenuOption}}(\textcolor{stringliteral}{"{}Custom\ Border"{}});}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01012}01012\ \ \ \ \ \mbox{\hyperlink{gbgfx_8cpp_a6092e57bcfad6a29770fdc99f3f3b221}{customBorderExists}}\ =\ \textcolor{keyword}{true};}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01013}01013\ }
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01014}01014\ \ \ \ \ \textcolor{comment}{//\ Set\ the\ VRAM\ bank\ to\ use\ and\ start\ loading\ the\ image.}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01015}01015\ \ \ \ \ vramSetBankD(VRAM\_D\_MAIN\_BG\_0x06040000);}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01016}01016\ \ \ \ \ fseek(file,\ 0xe,\ SEEK\_SET);}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01017}01017\ \ \ \ \ u8\ pixelStart\ =\ (u8)fgetc(file)\ +\ 0xe;}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01018}01018\ \ \ \ \ fseek(file,\ pixelStart,\ SEEK\_SET);}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01019}01019\ }
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01020}01020\ \ \ \ \ \textcolor{comment}{//\ Load\ the\ image\ data\ into\ VRAM.}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01021}01021\ \ \ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keywordtype}{int}\ y\ =\ 191;\ y\ >=\ 168;\ y-\/-\/)}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01022}01022\ \ \ \ \ \{}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01023}01023\ \ \ \ \ \ \ \ \ u16\ buffer[256];}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01024}01024\ \ \ \ \ \ \ \ \ fread(buffer,\ 2,\ 0x100,\ file);}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01025}01025\ \ \ \ \ \ \ \ \ u16\ *src\ =\ buffer;}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01026}01026\ }
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01027}01027\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keywordtype}{int}\ i\ =\ 0;\ i\ <\ 256;\ i++)}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01028}01028\ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01029}01029\ \ \ \ \ \ \ \ \ \ \ \ \ u16\ val\ =\ *(src++);}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01030}01030\ \ \ \ \ \ \ \ \ \ \ \ \ BG\_GFX[0x20000\ +\ y\ *\ 256\ +\ i]\ =\ ((val\ >>\ 10)\ \&\ 0x1f)\ |\ ((val)\ \&\ (0x1f\ <<\ 5))\ |\ (val\ \&\ 0x1f)\ <<\ 10\ |\ BIT(15);}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01031}01031\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01032}01032\ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01033}01033\ }
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01034}01034\ \ \ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keywordtype}{int}\ y\ =\ 167;\ y\ >=\ 24;\ y-\/-\/)}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01035}01035\ \ \ \ \ \{}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01036}01036\ \ \ \ \ \ \ \ \ u16\ buffer[256];}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01037}01037\ \ \ \ \ \ \ \ \ fread(buffer,\ 2,\ 256,\ file);}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01038}01038\ \ \ \ \ \ \ \ \ u16\ *src\ =\ buffer;}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01039}01039\ }
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01040}01040\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keywordtype}{int}\ i\ =\ 0;\ i\ <\ 48;\ i++)}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01041}01041\ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01042}01042\ \ \ \ \ \ \ \ \ \ \ \ \ u16\ val\ =\ *(src++);}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01043}01043\ \ \ \ \ \ \ \ \ \ \ \ \ BG\_GFX[0x20000\ +\ y\ *\ 256\ +\ i]\ =\ ((val\ >>\ 10)\ \&\ 0x1f)\ |\ ((val)\ \&\ (0x1f\ <<\ 5))\ |\ (val\ \&\ 0x1f)\ <<\ 10\ |\ BIT(15);}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01044}01044\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01045}01045\ }
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01046}01046\ \ \ \ \ \ \ \ \ src\ +=\ 160;}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01047}01047\ }
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01048}01048\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keywordtype}{int}\ i\ =\ 208;\ i\ <\ 256;\ i++)}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01049}01049\ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01050}01050\ \ \ \ \ \ \ \ \ \ \ \ \ u16\ val\ =\ *(src++);}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01051}01051\ \ \ \ \ \ \ \ \ \ \ \ \ BG\_GFX[0x20000\ +\ y\ *\ 256\ +\ i]\ =\ ((val\ >>\ 10)\ \&\ 0x1f)\ |\ ((val)\ \&\ (0x1f\ <<\ 5))\ |\ (val\ \&\ 0x1f)\ <<\ 10\ |\ BIT(15);}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01052}01052\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01053}01053\ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01054}01054\ }
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01055}01055\ \ \ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keywordtype}{int}\ y\ =\ 23;\ y\ >=\ 0;\ y-\/-\/)}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01056}01056\ \ \ \ \ \{}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01057}01057\ \ \ \ \ \ \ \ \ u16\ buffer[256];}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01058}01058\ \ \ \ \ \ \ \ \ fread(buffer,\ 2,\ 0x100,\ file);}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01059}01059\ \ \ \ \ \ \ \ \ u16\ *src\ =\ buffer;}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01060}01060\ }
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01061}01061\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keywordtype}{int}\ i\ =\ 0;\ i\ <\ 256;\ i++)}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01062}01062\ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01063}01063\ \ \ \ \ \ \ \ \ \ \ \ \ u16\ val\ =\ *(src++);}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01064}01064\ \ \ \ \ \ \ \ \ \ \ \ \ BG\_GFX[0x20000\ +\ y\ *\ 256\ +\ i]\ =\ ((val\ >>\ 10)\ \&\ 0x1f)\ |\ ((val)\ \&\ (0x1f\ <<\ 5))\ |\ (val\ \&\ 0x1f)\ <<\ 10\ |\ BIT(15);}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01065}01065\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01066}01066\ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01067}01067\ }
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01068}01068\ \ \ \ \ fclose(file);}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01069}01069\ }
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01070}01070\ \ \ \ \ \textcolor{keywordflow}{return}\ 0;}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01071}01071\ \}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01072}01072\ }
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01073}\mbox{\hyperlink{gbgfx_8h_aa830515ff224eeaa5ae76432a118cd98}{01073}}\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{gbgfx_8cpp_aa830515ff224eeaa5ae76432a118cd98}{checkBorder}}()}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01074}01074\ \{}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01075}01075\ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{gbgfx_8cpp_ae5d63a0df1fc230d6fb3b5c67314393d}{gbGraphicsDisabled}})}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01076}01076\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return};}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01077}01077\ }
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01078}01078\ \ \ \ \ \textcolor{keywordtype}{int}\ lastBorderType\ =\ \mbox{\hyperlink{gbgfx_8cpp_aef6032a39f08d1728cefcc4e8be2d437}{loadedBorderType}};}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01079}01079\ \ \ \ \ \textcolor{keywordtype}{int}\ nextBorderType\ =\ \mbox{\hyperlink{gbgfx_8h_abc6126af1d45847bc59afa0aa3216b04a6051477cfcc8ff5efefaf4147723d9a2}{BORDER\_NONE}};}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01080}01080\ }
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01081}01081\ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{gbgfx_8cpp_a134de385e7f51e7cb43357cf0bb4b624}{sgbBorderLoaded}}\ \&\&\ \mbox{\hyperlink{console_8h_a317ff7205cdf33838b77012ea9027eb7}{sgbBordersEnabled}})}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01082}01082\ \ \ \ \ \{}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01083}01083\ \ \ \ \ \ \ \ \ nextBorderType\ =\ \mbox{\hyperlink{gbgfx_8h_abc6126af1d45847bc59afa0aa3216b04a67fb865853b0b945451732f850cd550f}{BORDER\_SGB}};}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01084}01084\ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01085}01085\ }
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01086}01086\ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{console_8h_ad3e68069fa016efcb84ec2f382b74bc5}{customBordersEnabled}}\ \&\&\ \mbox{\hyperlink{gbgfx_8cpp_a156841b066241f0fedaeedc3b9bebe4f}{scaleMode}}\ ==\ 0\ \&\&\ nextBorderType\ ==\ \mbox{\hyperlink{gbgfx_8h_abc6126af1d45847bc59afa0aa3216b04a6051477cfcc8ff5efefaf4147723d9a2}{BORDER\_NONE}})}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01087}01087\ \ \ \ \ \{}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01088}01088\ \ \ \ \ \ \ \ \ nextBorderType\ =\ \mbox{\hyperlink{gbgfx_8h_abc6126af1d45847bc59afa0aa3216b04ac1bf7e07e233f14e0c57a02c1644b737}{BORDER\_CUSTOM}};}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01089}01089\ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01090}01090\ }
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01091}01091\ end:}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01092}01092\ \ \ \ \ \textcolor{comment}{/*}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01093}01093\ \textcolor{comment}{\ \ \ \ \ \ \ if\ (loadedBorderType\ ==\ nextBorderType)}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01094}01094\ \textcolor{comment}{\ \ \ \ \ \ \ return;}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01095}01095\ \textcolor{comment}{\ \ \ \ \ \ \ */}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01096}01096\ \ \ \ \ \mbox{\hyperlink{gbgfx_8cpp_aef6032a39f08d1728cefcc4e8be2d437}{loadedBorderType}}\ =\ nextBorderType;}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01097}01097\ }
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01098}01098\ \ \ \ \ \textcolor{keywordflow}{if}\ (nextBorderType\ ==\ \mbox{\hyperlink{gbgfx_8h_abc6126af1d45847bc59afa0aa3216b04a6051477cfcc8ff5efefaf4147723d9a2}{BORDER\_NONE}})}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01099}01099\ \ \ \ \ \{}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01100}01100\ \ \ \ \ \ \ \ \ WIN\_OUT\ =\ 0;}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01101}01101\ \ \ \ \ \ \ \ \ REG\_DISPCNT\ \&=\ \string~7;\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ Mode\ 0}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01102}01102\ \ \ \ \ \ \ \ \ BG\_PALETTE[0]\ =\ \mbox{\hyperlink{gbgfx_8cpp_a075aa9549fd1d8e0bde8b65e2233d169}{BACKDROP\_COLOUR}};\ \textcolor{comment}{//\ Reset\ backdrop\ (SGB\ borders\ use\ the\ backdrop)}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01103}01103\ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01104}01104\ \ \ \ \ \textcolor{keywordflow}{else}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01105}01105\ \ \ \ \ \{}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01106}01106\ \ \ \ \ \ \ \ \ WIN\_OUT\ =\ 1\ <<\ 3;}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01107}01107\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (nextBorderType\ ==\ \mbox{\hyperlink{gbgfx_8h_abc6126af1d45847bc59afa0aa3216b04a67fb865853b0b945451732f850cd550f}{BORDER\_SGB}})}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01108}01108\ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01109}01109\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{gbgfx_8cpp_a6152d90bc27302b3fcd92f4973a2401c}{loadSGBBorder}}();}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01110}01110\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01111}01111\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{else}\ \textcolor{keywordflow}{if}\ (nextBorderType\ ==\ \mbox{\hyperlink{gbgfx_8h_abc6126af1d45847bc59afa0aa3216b04ac1bf7e07e233f14e0c57a02c1644b737}{BORDER\_CUSTOM}})}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01112}01112\ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01113}01113\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (lastBorderType\ !=\ \mbox{\hyperlink{gbgfx_8h_abc6126af1d45847bc59afa0aa3216b04ac1bf7e07e233f14e0c57a02c1644b737}{BORDER\_CUSTOM}})}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01114}01114\ \ \ \ \ \ \ \ \ \ \ \ \ \{\ \textcolor{comment}{//\ Don't\ reload\ if\ it's\ already\ loaded}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01115}01115\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ videoBgDisable(3);}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01116}01116\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ Set\ up\ background}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01117}01117\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ REG\_DISPCNT\ \&=\ \string~7;}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01118}01118\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ REG\_DISPCNT\ |=\ 3;\ \textcolor{comment}{//\ Mode\ 3}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01119}01119\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ REG\_BG3CNT\ =\ BG\_MAP\_BASE(16)\ |\ BG\_BMP16\_256x256;}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01120}01120\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ REG\_BG3X\ =\ 0;}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01121}01121\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ REG\_BG3Y\ =\ 0;}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01122}01122\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ REG\_BG3PA\ =\ 1\ <<\ 8;}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01123}01123\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ REG\_BG3PB\ =\ 0;}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01124}01124\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ REG\_BG3PC\ =\ 0;}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01125}01125\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ REG\_BG3PD\ =\ 1\ <<\ 8;}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01126}01126\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ videoBgEnable(3);}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01127}01127\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{gbgfx_8cpp_ac67a99cc1feaf73626bdeebcd476c33d}{loadBorder}}(\mbox{\hyperlink{inputhelper_8h_afb9e9630607fb784a26fade843b3a663}{borderPath}})\ ==\ 1)}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01128}01128\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01129}01129\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ nextBorderType\ =\ \mbox{\hyperlink{gbgfx_8h_abc6126af1d45847bc59afa0aa3216b04a6051477cfcc8ff5efefaf4147723d9a2}{BORDER\_NONE}};}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01130}01130\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{goto}\ end;}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01131}01131\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01132}01132\ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01133}01133\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01134}01134\ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01135}01135\ \}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01136}01136\ }
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01144}\mbox{\hyperlink{gbgfx_8h_addf38491f7aa4075fc1bb2eb2fe2d096}{01144}}\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{gbgfx_8cpp_addf38491f7aa4075fc1bb2eb2fe2d096}{refreshScaleMode}}()}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01145}01145\ \{}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01146}01146\ \ \ \ \ \textcolor{keywordtype}{int}\ BG2PA,\ BG2PB,\ BG2PC,\ BG2PD;}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01147}01147\ }
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01148}01148\ \ \ \ \ \mbox{\hyperlink{gbgfx_8cpp_aa830515ff224eeaa5ae76432a118cd98}{checkBorder}}();}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01149}01149\ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{gbgfx_8cpp_a156841b066241f0fedaeedc3b9bebe4f}{scaleMode}}\ ==\ 0)}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01150}01150\ \ \ \ \ \{}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01151}01151\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return};}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01152}01152\ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01153}01153\ }
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01154}01154\ \ \ \ \ videoSetModeSub(MODE\_5\_2D);}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01155}01155\ \ \ \ \ videoBgDisableSub(0);}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01156}01156\ \ \ \ \ videoBgDisableSub(1);}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01157}01157\ \ \ \ \ bgInitSub(2,\ BgType\_Bmp16,\ BgSize\_B16\_256x256,\ 0,\ 0);}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01158}01158\ \ \ \ \ bgInitSub(3,\ BgType\_Bmp16,\ BgSize\_B16\_256x256,\ 0,\ 0);}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01159}01159\ }
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01160}01160\ \ \ \ \ \textcolor{keywordflow}{switch}\ (\mbox{\hyperlink{gbgfx_8cpp_a156841b066241f0fedaeedc3b9bebe4f}{scaleMode}})}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01161}01161\ \ \ \ \ \{}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01162}01162\ \ \ \ \ \textcolor{keywordflow}{case}\ 1:\ \textcolor{comment}{//\ Aspect}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01163}01163\ \ \ \ \ \{}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01164}01164\ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ \textcolor{keywordtype}{double}\ scaleFactor\ =\ (double)191\ /\ 144\ +\ 0.125\ /\ 144;}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01165}01165\ \ \ \ \ \ \ \ \ BG2PA\ =\ (1\ <<\ 8)\ /\ scaleFactor;}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01166}01166\ \ \ \ \ \ \ \ \ BG2PB\ =\ 0;}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01167}01167\ \ \ \ \ \ \ \ \ BG2PC\ =\ 0;}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01168}01168\ \ \ \ \ \ \ \ \ BG2PD\ =\ (1\ <<\ 8)\ /\ scaleFactor;}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01169}01169\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{int}\ x\ =\ (256\ -\/\ 160\ *\ scaleFactor)\ /\ 2;}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01170}01170\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{gbgfx_8cpp_af3e8557b7fc26006b9850248932ddf8b}{SCALE\_BGX}}\ =\ (1\ <<\ 8)\ *\ (\mbox{\hyperlink{gbgfx_8cpp_a285192f5390f5531ee1cca872f957d2d}{screenOffsX}}\ -\/\ x\ /\ scaleFactor\ +\ 0.5);}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01171}01171\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{gbgfx_8cpp_a2f95b3058774b52ad7e38b3f5c7174f5}{SCALE\_BGY}}\ =\ 1\ <<\ 7;\ \textcolor{comment}{//\ 0.5}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01172}01172\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{break};}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01173}01173\ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01174}01174\ \ \ \ \ \textcolor{keywordflow}{case}\ 2:\ \textcolor{comment}{//\ Full}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01175}01175\ \ \ \ \ \{}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01176}01176\ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ \textcolor{keywordtype}{double}\ scaleFactorX\ =\ (double)255\ /\ 160;}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01177}01177\ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ \textcolor{keywordtype}{double}\ scaleFactorY\ =\ (double)191\ /\ 144\ +\ 0.125\ /\ 144;}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01178}01178\ \ \ \ \ \ \ \ \ BG2PA\ =\ (1\ <<\ 8)\ /\ (scaleFactorX);}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01179}01179\ \ \ \ \ \ \ \ \ BG2PB\ =\ 0;}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01180}01180\ \ \ \ \ \ \ \ \ BG2PC\ =\ 0;}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01181}01181\ \ \ \ \ \ \ \ \ BG2PD\ =\ (1\ <<\ 8)\ /\ (scaleFactorY);}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01182}01182\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{gbgfx_8cpp_af3e8557b7fc26006b9850248932ddf8b}{SCALE\_BGX}}\ =\ (1\ <<\ 8)\ *\ (\mbox{\hyperlink{gbgfx_8cpp_a285192f5390f5531ee1cca872f957d2d}{screenOffsX}}\ -\/\ (256\ -\/\ 160\ *\ scaleFactorX)\ /\ 2\ /\ (scaleFactorX)\ +\ 0.5);}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01183}01183\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{gbgfx_8cpp_a2f95b3058774b52ad7e38b3f5c7174f5}{SCALE\_BGY}}\ =\ 1\ <<\ 7;\ \textcolor{comment}{//\ 0.5}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01184}01184\ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01185}01185\ \ \ \ \ \textcolor{keywordflow}{break};}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01186}01186\ \ \ \ \ \textcolor{keywordflow}{default}:}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01187}01187\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return};}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01188}01188\ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01189}01189\ }
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01190}01190\ \ \ \ \ REG\_BLDCNT\_SUB\ =\ 1\ <<\ 2\ |\ 1\ <<\ 11\ |\ 1\ <<\ 6;}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01191}01191\ \ \ \ \ REG\_BLDALPHA\_SUB\ =\ 8\ |\ 8\ <<\ 8;}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01192}01192\ }
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01193}01193\ \ \ \ \ REG\_BG2X\_SUB\ =\ \mbox{\hyperlink{gbgfx_8cpp_af3e8557b7fc26006b9850248932ddf8b}{SCALE\_BGX}};}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01194}01194\ \ \ \ \ REG\_BG2Y\_SUB\ =\ \mbox{\hyperlink{gbgfx_8cpp_a2f95b3058774b52ad7e38b3f5c7174f5}{SCALE\_BGY}};}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01195}01195\ \ \ \ \ REG\_BG2PA\_SUB\ =\ BG2PA;}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01196}01196\ \ \ \ \ REG\_BG2PB\_SUB\ =\ BG2PB;}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01197}01197\ \ \ \ \ REG\_BG2PC\_SUB\ =\ BG2PC;}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01198}01198\ \ \ \ \ REG\_BG2PD\_SUB\ =\ BG2PD;}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01199}01199\ }
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01200}01200\ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{gbgfx_8cpp_a89e8f23cbae54ca6f6935daecbb1c5c5}{scaleFilter}}\ ==\ 1)}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01201}01201\ \ \ \ \ \{}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01202}01202\ \ \ \ \ \ \ \ \ REG\_BG3X\_SUB\ =\ \mbox{\hyperlink{gbgfx_8cpp_af3e8557b7fc26006b9850248932ddf8b}{SCALE\_BGX}};}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01203}01203\ \ \ \ \ \ \ \ \ REG\_BG3Y\_SUB\ =\ \mbox{\hyperlink{gbgfx_8cpp_a2f95b3058774b52ad7e38b3f5c7174f5}{SCALE\_BGY}};}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01204}01204\ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01205}01205\ \ \ \ \ \textcolor{keywordflow}{else}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01206}01206\ \ \ \ \ \{}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01207}01207\ \ \ \ \ \ \ \ \ REG\_BG3X\_SUB\ =\ \mbox{\hyperlink{gbgfx_8cpp_af3e8557b7fc26006b9850248932ddf8b}{SCALE\_BGX}};}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01208}01208\ \ \ \ \ \ \ \ \ REG\_BG3Y\_SUB\ =\ \mbox{\hyperlink{gbgfx_8cpp_a2f95b3058774b52ad7e38b3f5c7174f5}{SCALE\_BGY}};}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01209}01209\ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01210}01210\ \ \ \ \ REG\_BG3PA\_SUB\ =\ BG2PA;}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01211}01211\ \ \ \ \ REG\_BG3PB\_SUB\ =\ BG2PB;}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01212}01212\ \ \ \ \ REG\_BG3PC\_SUB\ =\ BG2PC;}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01213}01213\ \ \ \ \ REG\_BG3PD\_SUB\ =\ BG2PD;}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01214}01214\ \}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01215}01215\ }
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01221}\mbox{\hyperlink{gbgfx_8h_ab7865df132d4b365722a1ff879942afc}{01221}}\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{gbgfx_8cpp_ab7865df132d4b365722a1ff879942afc}{setGFXMask}}(\textcolor{keywordtype}{int}\ mask)}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01222}01222\ \{}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01223}01223\ \ \ \ \ \textcolor{comment}{//\ Set\ the\ graphics\ mask\ to\ the\ given\ value.}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01224}01224\ \ \ \ \ \mbox{\hyperlink{gbgfx_8cpp_a0e19dccb2272e5ec93cee1dbe5b3fee3}{gfxMask}}\ =\ mask;}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01225}01225\ }
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01226}01226\ \ \ \ \ \textcolor{comment}{//\ Print\ a\ log\ message\ indicating\ the\ new\ mask\ value.}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01227}01227\ \ \ \ \ \mbox{\hyperlink{console_8h_a62de465465602ecf44e199d8e1dc876a}{printLog}}(\textcolor{stringliteral}{"{}Mask\ \%d\(\backslash\)n"{}},\ \mbox{\hyperlink{gbgfx_8cpp_a0e19dccb2272e5ec93cee1dbe5b3fee3}{gfxMask}});}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01228}01228\ }
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01229}01229\ \ \ \ \ \textcolor{comment}{//\ If\ the\ mask\ is\ 0,\ perform\ necessary\ actions.}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01230}01230\ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{gbgfx_8cpp_a0e19dccb2272e5ec93cee1dbe5b3fee3}{gfxMask}}\ ==\ 0)}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01231}01231\ \ \ \ \ \{}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01232}01232\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ If\ the\ loaded\ border\ type\ is\ not\ BORDER\_NONE,\ enable\ the\ background\ of\ video\ and\ set\ the\ BG\_PALETTE\ array.}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01233}01233\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{gbgfx_8cpp_aef6032a39f08d1728cefcc4e8be2d437}{loadedBorderType}}\ !=\ \mbox{\hyperlink{gbgfx_8h_abc6126af1d45847bc59afa0aa3216b04a6051477cfcc8ff5efefaf4147723d9a2}{BORDER\_NONE}})}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01234}01234\ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01235}01235\ \ \ \ \ \ \ \ \ \ \ \ \ videoBgEnable(3);}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01236}01236\ \ \ \ \ \ \ \ \ \ \ \ \ BG\_PALETTE[0]\ =\ \mbox{\hyperlink{gbgfx_8h_a254d3c52c2ae7fff61e52168c0c37e86}{bgPaletteData}}[0]\ |\ \mbox{\hyperlink{gbgfx_8h_a254d3c52c2ae7fff61e52168c0c37e86}{bgPaletteData}}[1]\ <<\ 8;}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01237}01237\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01238}01238\ }
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01239}01239\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ Set\ the\ winPosY\ variable\ to\ -\/1.}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01240}01240\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{gbgfx_8cpp_adf5931a286627b99da8d76dc7eb033df}{winPosY}}\ =\ -\/1;}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01241}01241\ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01242}01242\ \}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01243}01243\ }
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01250}\mbox{\hyperlink{gbgfx_8h_a3ab71e5f2db0803412a7e58751bbfe9a}{01250}}\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{gbgfx_8cpp_a3ab71e5f2db0803412a7e58751bbfe9a}{setSgbTiles}}(u8\ *src,\ u8\ flags)}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01251}01251\ \{}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01252}01252\ \ \ \ \ \textcolor{comment}{//\ If\ the\ graphics\ mask\ is\ not\ 0\ and\ the\ loaded\ border\ type\ is\ not\ BORDER\_NONE,\ disable\ the\ video\ background\ and\ set\ the\ background\ palette\ to\ the\ backdrop\ color.}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01253}01253\ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{gbgfx_8cpp_a0e19dccb2272e5ec93cee1dbe5b3fee3}{gfxMask}}\ !=\ 0\ \&\&\ \mbox{\hyperlink{gbgfx_8cpp_aef6032a39f08d1728cefcc4e8be2d437}{loadedBorderType}}\ !=\ \mbox{\hyperlink{gbgfx_8h_abc6126af1d45847bc59afa0aa3216b04a6051477cfcc8ff5efefaf4147723d9a2}{BORDER\_NONE}})}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01254}01254\ \ \ \ \ \{}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01255}01255\ \ \ \ \ \ \ \ \ videoBgDisable(3);}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01256}01256\ \ \ \ \ \ \ \ \ BG\_PALETTE[0]\ =\ \mbox{\hyperlink{gbgfx_8cpp_a075aa9549fd1d8e0bde8b65e2233d169}{BACKDROP\_COLOUR}};}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01257}01257\ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01258}01258\ }
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01259}01259\ \ \ \ \ \textcolor{comment}{//\ Initialize\ index\ and\ srcIndex\ to\ 0.}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01260}01260\ \ \ \ \ \textcolor{keywordtype}{int}\ index\ =\ 0,\ srcIndex\ =\ 0;}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01261}01261\ }
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01262}01262\ \ \ \ \ \textcolor{comment}{//\ If\ the\ first\ flag\ bit\ is\ set,\ increment\ index\ by\ 0x80\ *\ 16.}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01263}01263\ \ \ \ \ \textcolor{keywordflow}{if}\ (flags\ \&\ 1)}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01264}01264\ \ \ \ \ \ \ \ \ index\ +=\ 0x80\ *\ 16;}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01265}01265\ }
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01266}01266\ \ \ \ \ \textcolor{comment}{//\ Iterate\ over\ 128\ tiles.}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01267}01267\ \ \ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keywordtype}{int}\ i\ =\ 0;\ i\ <\ 128;\ i++)}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01268}01268\ \ \ \ \ \{}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01269}01269\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ Iterate\ over\ 8\ rows\ of\ pixels.}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01270}01270\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keywordtype}{int}\ y\ =\ 0;\ y\ <\ 8;\ y++)}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01271}01271\ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01272}01272\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ Extract\ the\ bit\ values\ for\ each\ pixel\ in\ the\ row.}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01273}01273\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{int}\ b1\ =\ src[srcIndex];}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01274}01274\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{int}\ b2\ =\ src[srcIndex\ +\ 1]\ <<\ 1;}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01275}01275\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{int}\ b3\ =\ src[srcIndex\ +\ 16]\ <<\ 2;}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01276}01276\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{int}\ b4\ =\ src[srcIndex\ +\ 17]\ <<\ 3;}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01277}01277\ \ \ \ \ \ \ \ \ \ \ \ \ srcIndex\ +=\ 2;}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01278}01278\ }
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01279}01279\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ Initialize\ bb0\ and\ bb1\ to\ 0\ and\ shift\ to\ 12.}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01280}01280\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{int}\ bb0\ =\ 0,\ bb1\ =\ 0;}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01281}01281\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{int}\ shift\ =\ 12;}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01282}01282\ }
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01283}01283\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ Iterate\ over\ 4\ pixels\ in\ the\ row\ to\ generate\ the\ data\ for\ bb1.}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01284}01284\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keywordtype}{int}\ x\ =\ 0;\ x\ <\ 4;\ x++)}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01285}01285\ \ \ \ \ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01286}01286\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{int}\ colorid\ =\ b1\ \&\ 1;}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01287}01287\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ b1\ >>=\ 1;}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01288}01288\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ colorid\ |=\ b2\ \&\ 2;}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01289}01289\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ b2\ >>=\ 1;}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01290}01290\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ colorid\ |=\ b3\ \&\ 4;}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01291}01291\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ b3\ >>=\ 1;}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01292}01292\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ colorid\ |=\ b4\ \&\ 8;}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01293}01293\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ b4\ >>=\ 1;}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01294}01294\ }
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01295}01295\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ bb1\ |=\ (colorid\ <<\ shift);}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01296}01296\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ shift\ -\/=\ 4;}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01297}01297\ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01298}01298\ }
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01299}01299\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ Reset\ shift\ to\ 12.}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01300}01300\ \ \ \ \ \ \ \ \ \ \ \ \ shift\ =\ 12;}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01301}01301\ }
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01302}01302\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ Iterate\ over\ 4\ pixels\ in\ the\ row\ to\ generate\ the\ data\ for\ bb0.}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01303}01303\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keywordtype}{int}\ x\ =\ 0;\ x\ <\ 4;\ x++)}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01304}01304\ \ \ \ \ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01305}01305\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{int}\ colorid\ =\ b1\ \&\ 1;}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01306}01306\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ b1\ >>=\ 1;}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01307}01307\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ colorid\ |=\ b2\ \&\ 2;}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01308}01308\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ b2\ >>=\ 1;}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01309}01309\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ colorid\ |=\ b3\ \&\ 4;}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01310}01310\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ b3\ >>=\ 1;}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01311}01311\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ colorid\ |=\ b4\ \&\ 8;}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01312}01312\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ b4\ >>=\ 1;}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01313}01313\ }
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01314}01314\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ bb0\ |=\ (colorid\ <<\ shift);}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01315}01315\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ shift\ -\/=\ 4;}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01316}01316\ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01317}01317\ }
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01318}01318\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ Set\ the\ data\ for\ bb0\ and\ bb1\ in\ the\ BG\_GFX\ array.}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01319}01319\ \ \ \ \ \ \ \ \ \ \ \ \ BG\_GFX[0x18000\ +\ index++]\ =\ bb0;}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01320}01320\ \ \ \ \ \ \ \ \ \ \ \ \ BG\_GFX[0x18000\ +\ index++]\ =\ bb1;}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01321}01321\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01322}01322\ }
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01323}01323\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ Increment\ the\ source\ index\ by\ 16.}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01324}01324\ \ \ \ \ \ \ \ \ srcIndex\ +=\ 16;}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01325}01325\ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01326}01326\ \}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01327}01327\ }
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01333}\mbox{\hyperlink{gbgfx_8h_a8535091adb0cef3f5ddd47d30e6015bb}{01333}}\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{gbgfx_8cpp_a8535091adb0cef3f5ddd47d30e6015bb}{setSgbMap}}(u8\ *src)}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01334}01334\ \{}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01335}01335\ \ \ \ \ \textcolor{comment}{//\ Iterate\ over\ each\ tile\ in\ the\ 32x32\ map.}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01336}01336\ \ \ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keywordtype}{int}\ i\ =\ 0;\ i\ <\ 32\ *\ 32;\ i++)}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01337}01337\ \ \ \ \ \{}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01338}01338\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ Extract\ the\ values\ for\ the\ tile\ ID,\ palette\ ID,\ flipX,\ and\ flipY.}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01339}01339\ \ \ \ \ \ \ \ \ u16\ val\ =\ ((u16\ *)src)[i];}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01340}01340\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{int}\ tile\ =\ val\ \&\ 0xff;}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01341}01341\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{int}\ paletteid\ =\ ((val\ >>\ 10)\ \&\ 3)\ +\ 8;}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01342}01342\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{int}\ flipX\ =\ (val\ >>\ 14)\ \&\ 1;}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01343}01343\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{int}\ flipY\ =\ (val\ >>\ 15)\ \&\ 1;}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01344}01344\ }
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01345}01345\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ Set\ the\ border\ map\ entry\ with\ the\ tile\ ID,\ palette\ ID,\ flipX,\ and\ flipY\ values.}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01346}01346\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{gbgfx_8cpp_a1098ad62439e76ffa2cc640296a8d9f1}{borderMap}}[i]\ =\ tile\ |\ (paletteid\ <<\ 12)\ |\ (flipX\ <<\ 10)\ |\ (flipY\ <<\ 11);}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01347}01347\ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01348}01348\ }
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01349}01349\ \ \ \ \ \textcolor{comment}{//\ Flush\ the\ data\ cache\ for\ the\ source\ and\ copy\ the\ data\ to\ the\ background\ palette.}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01350}01350\ \ \ \ \ DC\_FlushRange(src\ +\ 0x800,\ 0x80);}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01351}01351\ \ \ \ \ dmaCopy(src\ +\ 0x800,\ BG\_PALETTE\ +\ 8\ *\ 16,\ 0x80);}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01352}01352\ }
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01353}01353\ \ \ \ \ \textcolor{comment}{//\ Set\ the\ SGB\ border\ loaded\ flag\ to\ true.}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01354}01354\ \ \ \ \ \mbox{\hyperlink{gbgfx_8cpp_a134de385e7f51e7cb43357cf0bb4b624}{sgbBorderLoaded}}\ =\ \textcolor{keyword}{true};}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01355}01355\ }
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01356}01356\ \ \ \ \ \textcolor{comment}{//\ If\ SGB\ borders\ are\ enabled,\ load\ the\ SGB\ border\ and\ set\ the\ background\ palette.}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01357}01357\ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{console_8h_a317ff7205cdf33838b77012ea9027eb7}{sgbBordersEnabled}})}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01358}01358\ \ \ \ \ \{}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01359}01359\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{gbgfx_8cpp_a6152d90bc27302b3fcd92f4973a2401c}{loadSGBBorder}}();}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01360}01360\ \ \ \ \ \ \ \ \ BG\_PALETTE[0]\ =\ \mbox{\hyperlink{gbgfx_8h_a254d3c52c2ae7fff61e52168c0c37e86}{bgPaletteData}}[0]\ |\ \mbox{\hyperlink{gbgfx_8h_a254d3c52c2ae7fff61e52168c0c37e86}{bgPaletteData}}[1]\ <<\ 8;}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01361}01361\ }
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01362}01362\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ If\ probing\ for\ the\ border,\ set\ the\ probingForBorder\ flag\ to\ false\ and\ reset\ the\ Game\ Boy.}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01363}01363\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{gameboy_8h_af9fb33f9e0c7674ff242adfb4fa0e1b0}{probingForBorder}})}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01364}01364\ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01365}01365\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{gameboy_8h_af9fb33f9e0c7674ff242adfb4fa0e1b0}{probingForBorder}}\ =\ \textcolor{keyword}{false};}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01366}01366\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{gameboy_8h_aa1504f6d72b07740c4e0839f08d92ae6}{resetGameboy}}();}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01367}01367\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01368}01368\ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01369}01369\ \}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01370}01370\ }
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01374}\mbox{\hyperlink{gbgfx_8cpp_a60975f999e5000cce01f957e5061efc2}{01374}}\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{gbgfx_8cpp_a60975f999e5000cce01f957e5061efc2}{updateTileMaps}}()}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01375}01375\ \{}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01376}01376\ \ \ \ \ \textcolor{comment}{//\ Iterate\ over\ the\ two\ tile\ maps.}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01377}01377\ \ \ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keywordtype}{int}\ m\ =\ 0;\ m\ <\ 2;\ m++)}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01378}01378\ \ \ \ \ \{}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01379}01379\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ While\ there\ are\ changes\ in\ the\ map\ queue,\ update\ the\ tile\ map\ for\ the\ changed\ tile.}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01380}01380\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{while}\ (\mbox{\hyperlink{gbgfx_8cpp_aad42beb02a7313afa3778db5e804f851}{changedMapQueueLength}}[m]\ !=\ 0)}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01381}01381\ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01382}01382\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{int}\ tile\ =\ \mbox{\hyperlink{gbgfx_8cpp_a9d36dda4f8424acfa6e750cbb86fac06}{changedMapQueue}}[m][-\/-\/\mbox{\hyperlink{gbgfx_8cpp_aad42beb02a7313afa3778db5e804f851}{changedMapQueueLength}}[m]];}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01383}01383\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{gbgfx_8cpp_a38cfcb29e33564da47daf80302f353b5}{updateTileMap}}(m,\ tile);}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01384}01384\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01385}01385\ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01386}01386\ \}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01387}01387\ }
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01398}\mbox{\hyperlink{gbgfx_8cpp_a38cfcb29e33564da47daf80302f353b5}{01398}}\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{gbgfx_8cpp_a38cfcb29e33564da47daf80302f353b5}{updateTileMap}}(\textcolor{keywordtype}{int}\ m,\ \textcolor{keywordtype}{int}\ i)}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01399}01399\ \{}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01400}01400\ \ \ \ \ \textcolor{comment}{//\ Set\ the\ changed\ map\ flag\ for\ the\ tile\ to\ false.}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01401}01401\ \ \ \ \ \mbox{\hyperlink{gbgfx_8cpp_a7a79512469ed835be49735d7e6233390}{changedMap}}[m][i]\ =\ \textcolor{keyword}{false};}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01402}01402\ }
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01403}01403\ \ \ \ \ \textcolor{comment}{//\ Get\ the\ map\ address\ and\ tile\ number\ for\ the\ tile.}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01404}01404\ \ \ \ \ \textcolor{keywordtype}{int}\ mapAddr\ =\ (m\ ?\ 0x1c00\ +\ i\ :\ 0x1800\ +\ i);}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01405}01405\ \ \ \ \ \textcolor{keywordtype}{int}\ tileNum\ =\ \mbox{\hyperlink{mmu_8h_a7d0ed1b85995cb654491c9e0958abed2}{vram}}[0][mapAddr];}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01406}01406\ }
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01407}01407\ \ \ \ \ \textcolor{comment}{//\ Initialize\ bank,\ flipX,\ flipY,\ paletteid,\ and\ priority\ to\ 0.}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01408}01408\ \ \ \ \ \textcolor{keywordtype}{int}\ bank\ =\ 0;}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01409}01409\ \ \ \ \ \textcolor{keywordtype}{int}\ flipX\ =\ 0,\ flipY\ =\ 0;}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01410}01410\ \ \ \ \ \textcolor{keywordtype}{int}\ paletteid\ =\ 0;}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01411}01411\ \ \ \ \ \textcolor{keywordtype}{int}\ priority\ =\ 0;}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01412}01412\ }
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01413}01413\ \ \ \ \ \textcolor{comment}{//\ If\ the\ Game\ Boy\ mode\ is\ CGB,\ extract\ the\ flipX,\ flipY,\ bank,\ paletteid,\ and\ priority\ values\ from\ the\ VRAM.}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01414}01414\ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{gameboy_8h_af3ddfcff387d53e03211aeaa7a0c14ef}{gbMode}}\ ==\ \mbox{\hyperlink{gbcpu_8h_a5d6a36e6c1ec6aad48d2db4868de600c}{CGB}})}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01415}01415\ \ \ \ \ \{}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01416}01416\ \ \ \ \ \ \ \ \ flipX\ =\ !!(\mbox{\hyperlink{mmu_8h_a7d0ed1b85995cb654491c9e0958abed2}{vram}}[1][mapAddr]\ \&\ 0x20);}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01417}01417\ \ \ \ \ \ \ \ \ flipY\ =\ !!(\mbox{\hyperlink{mmu_8h_a7d0ed1b85995cb654491c9e0958abed2}{vram}}[1][mapAddr]\ \&\ 0x40);}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01418}01418\ \ \ \ \ \ \ \ \ bank\ =\ !!(\mbox{\hyperlink{mmu_8h_a7d0ed1b85995cb654491c9e0958abed2}{vram}}[1][mapAddr]\ \&\ 0x8);}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01419}01419\ \ \ \ \ \ \ \ \ paletteid\ =\ \mbox{\hyperlink{mmu_8h_a7d0ed1b85995cb654491c9e0958abed2}{vram}}[1][mapAddr]\ \&\ 0x7;}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01420}01420\ \ \ \ \ \ \ \ \ priority\ =\ !!(\mbox{\hyperlink{mmu_8h_a7d0ed1b85995cb654491c9e0958abed2}{vram}}[1][mapAddr]\ \&\ 0x80);}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01421}01421\ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01422}01422\ }
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01423}01423\ \ \ \ \ \textcolor{comment}{//\ If\ the\ priority\ value\ is\ set,\ set\ the\ overlay\ map\ entry\ with\ the\ tile\ number,\ bank,\ palette\ ID,\ flipX,\ and\ flipY\ values.}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01424}01424\ \ \ \ \ \textcolor{keywordflow}{if}\ (priority)}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01425}01425\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{gbgfx_8cpp_adb86ece52e11b17321b0ba3ae9b2710a}{overlayMap}}[m][i]\ =\ (tileNum\ +\ (bank\ *\ 0x100))\ |\ (paletteid\ <<\ 12)\ |\ (flipX\ <<\ 10)\ |\ (flipY\ <<\ 11);}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01426}01426\ \ \ \ \ \textcolor{keywordflow}{else}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01427}01427\ \ \ \ \ \{}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01428}01428\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ Otherwise,\ set\ the\ overlay\ map\ entry\ to\ 0x300.}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01429}01429\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{gbgfx_8cpp_adb86ece52e11b17321b0ba3ae9b2710a}{overlayMap}}[m][i]\ =\ 0x300;}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01430}01430\ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01431}01431\ }
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01432}01432\ \ \ \ \ \textcolor{comment}{//\ Set\ the\ map\ entry\ with\ the\ tile\ number,\ bank,\ palette\ ID,\ flipX,\ and\ flipY\ values.}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01433}01433\ \ \ \ \ \mbox{\hyperlink{gbgfx_8cpp_a1e800a6a0ab719ff1af9a81efd02877a}{map}}[m][i]\ =\ (tileNum\ +\ (bank\ *\ 0x100))\ |\ (paletteid\ <<\ 12)\ |\ (flipX\ <<\ 10)\ |\ (flipY\ <<\ 11);}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01434}01434\ }
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01435}01435\ \ \ \ \ \textcolor{comment}{//\ Set\ the\ color\ 0\ map\ entry\ with\ the\ palette\ ID.}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01436}01436\ \ \ \ \ \mbox{\hyperlink{gbgfx_8cpp_a11c5fa757d50eb2a76a07eab96e06af2}{color0Map}}[m][i]\ =\ paletteid\ <<\ 12;}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01437}01437\ \}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01438}01438\ }
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01448}\mbox{\hyperlink{gbgfx_8cpp_a8c19f928b2c7863839f14f5609538afd}{01448}}\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{gbgfx_8cpp_a8c19f928b2c7863839f14f5609538afd}{drawTile}}(\textcolor{keywordtype}{int}\ tileNum,\ \textcolor{keywordtype}{int}\ bank)}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01449}01449\ \{}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01450}01450\ \ \ \ \ \textcolor{comment}{//\ Calculate\ the\ index\ for\ the\ tile\ and\ the\ signed\ index\ if\ the\ tile\ number\ is\ greater\ than\ or\ equal\ to\ 0x100.}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01451}01451\ \ \ \ \ \textcolor{keywordtype}{int}\ index\ =\ (tileNum\ <<\ 4)\ +\ (bank\ *\ 0x100\ *\ 16);}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01452}01452\ \ \ \ \ \textcolor{keywordtype}{int}\ signedIndex\ =\ index;}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01453}01453\ \ \ \ \ \textcolor{keywordflow}{if}\ (tileNum\ >=\ 0x100)}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01454}01454\ \ \ \ \ \ \ \ \ signedIndex\ -\/=\ (0x100\ <<\ 4);}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01455}01455\ }
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01456}01456\ \ \ \ \ \textcolor{comment}{//\ Determine\ whether\ the\ tile\ number\ is\ unsigned\ or\ signed.}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01457}01457\ \ \ \ \ \textcolor{keywordtype}{bool}\ unsign\ =\ tileNum\ <\ 0x100;}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01458}01458\ \ \ \ \ \textcolor{keywordtype}{bool}\ sign\ =\ tileNum\ >=\ 0x80;}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01459}01459\ }
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01460}01460\ \ \ \ \ \textcolor{comment}{//\ Get\ the\ source\ data\ for\ the\ tile.}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01461}01461\ \ \ \ \ u8\ *src\ =\ \&\mbox{\hyperlink{mmu_8h_a7d0ed1b85995cb654491c9e0958abed2}{vram}}[bank][tileNum\ <<\ 4];}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01462}01462\ }
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01463}01463\ \ \ \ \ \textcolor{comment}{//\ Iterate\ over\ the\ 8\ rows\ in\ the\ tile.}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01464}01464\ \ \ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keywordtype}{int}\ y\ =\ 0;\ y\ <\ 8;\ y++)}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01465}01465\ \ \ \ \ \{}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01466}01466\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{int}\ b1\ =\ *(src++);}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01467}01467\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{int}\ b2\ =\ *(src++)\ <<\ 1;}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01468}01468\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{int}\ bb0\ =\ 0,\ bb1\ =\ 0;}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01469}01469\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{int}\ fb0\ =\ 0,\ fb1\ =\ 0;}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01470}01470\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{int}\ sb0\ =\ 0,\ sb1\ =\ 0;}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01471}01471\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{int}\ shift\ =\ 12;}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01472}01472\ }
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01473}01473\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ Iterate\ over\ the\ 4\ pixels\ in\ each\ row\ of\ the\ tile.}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01474}01474\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keywordtype}{int}\ x\ =\ 0;\ x\ <\ 4;\ x++)}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01475}01475\ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01476}01476\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{int}\ colorid\ =\ b1\ \&\ 1;}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01477}01477\ \ \ \ \ \ \ \ \ \ \ \ \ b1\ >>=\ 1;}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01478}01478\ \ \ \ \ \ \ \ \ \ \ \ \ colorid\ |=\ b2\ \&\ 2;}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01479}01479\ \ \ \ \ \ \ \ \ \ \ \ \ b2\ >>=\ 1;}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01480}01480\ }
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01481}01481\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ Set\ the\ foreground\ and\ background\ color\ values.}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01482}01482\ \ \ \ \ \ \ \ \ \ \ \ \ fb1\ |=\ (colorid\ +\ 1)\ <<\ shift;}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01483}01483\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (colorid\ !=\ 0)}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01484}01484\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ bb1\ |=\ ((colorid\ +\ 1)\ <<\ shift);}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01485}01485\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (unsign)}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01486}01486\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ sb1\ |=\ (colorid\ <<\ shift);}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01487}01487\ \ \ \ \ \ \ \ \ \ \ \ \ shift\ -\/=\ 4;}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01488}01488\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01489}01489\ \ \ \ \ \ \ \ \ shift\ =\ 12;}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01490}01490\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keywordtype}{int}\ x\ =\ 0;\ x\ <\ 4;\ x++)}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01491}01491\ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01492}01492\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{int}\ colorid\ =\ b1\ \&\ 1;}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01493}01493\ \ \ \ \ \ \ \ \ \ \ \ \ b1\ >>=\ 1;}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01494}01494\ \ \ \ \ \ \ \ \ \ \ \ \ colorid\ |=\ b2\ \&\ 2;}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01495}01495\ \ \ \ \ \ \ \ \ \ \ \ \ b2\ >>=\ 1;}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01496}01496\ }
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01497}01497\ \ \ \ \ \ \ \ \ \ \ \ \ fb0\ |=\ (colorid\ +\ 1)\ <<\ shift;}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01498}01498\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (colorid\ !=\ 0)}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01499}01499\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ bb0\ |=\ ((colorid\ +\ 1)\ <<\ shift);}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01500}01500\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (unsign)}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01501}01501\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ sb0\ |=\ (colorid\ <<\ shift);}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01502}01502\ \ \ \ \ \ \ \ \ \ \ \ \ shift\ -\/=\ 4;}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01503}01503\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01504}01504\ }
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01505}01505\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ Set\ the\ graphics\ data\ for\ the\ tile\ based\ on\ whether\ it\ is\ unsigned\ or\ signed.}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01506}01506\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (unsign)}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01507}01507\ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01508}01508\ \ \ \ \ \ \ \ \ \ \ \ \ BG\_GFX[0x8000\ +\ index]\ =\ bb0;}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01509}01509\ \ \ \ \ \ \ \ \ \ \ \ \ BG\_GFX[0x8000\ +\ index\ +\ 1]\ =\ bb1;}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01510}01510\ \ \ \ \ \ \ \ \ \ \ \ \ BG\_GFX[0x10000\ +\ index]\ =\ fb0;}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01511}01511\ \ \ \ \ \ \ \ \ \ \ \ \ BG\_GFX[0x10000\ +\ index\ +\ 1]\ =\ fb1;}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01512}01512\ \ \ \ \ \ \ \ \ \ \ \ \ SPRITE\_GFX[index++]\ =\ sb0;}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01513}01513\ \ \ \ \ \ \ \ \ \ \ \ \ SPRITE\_GFX[index++]\ =\ sb1;}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01514}01514\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01515}01515\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (sign)}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01516}01516\ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01517}01517\ \ \ \ \ \ \ \ \ \ \ \ \ BG\_GFX[0xc000\ +\ signedIndex]\ =\ bb0;}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01518}01518\ \ \ \ \ \ \ \ \ \ \ \ \ BG\_GFX[0xc000\ +\ signedIndex\ +\ 1]\ =\ bb1;}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01519}01519\ \ \ \ \ \ \ \ \ \ \ \ \ BG\_GFX[0x14000\ +\ signedIndex++]\ =\ fb0;}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01520}01520\ \ \ \ \ \ \ \ \ \ \ \ \ BG\_GFX[0x14000\ +\ signedIndex++]\ =\ fb1;}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01521}01521\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01522}01522\ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01523}01523\ \}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01524}01524\ }
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01534}\mbox{\hyperlink{gbgfx_8cpp_a211a591c0c34da3c0e17a95361b3b6ab}{01534}}\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{gbgfx_8cpp_a211a591c0c34da3c0e17a95361b3b6ab}{copyTile}}(u8\ *src,\ u16\ *dest)}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01535}01535\ \{}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01536}01536\ \ \ \ \ \textcolor{comment}{//\ Iterate\ over\ the\ 8\ rows\ in\ the\ tile.}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01537}01537\ \ \ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keywordtype}{int}\ y\ =\ 0;\ y\ <\ 8;\ y++)}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01538}01538\ \ \ \ \ \{}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01539}01539\ \ \ \ \ \ \ \ \ dest[y\ *\ 2]\ =\ 0;}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01540}01540\ \ \ \ \ \ \ \ \ dest[y\ *\ 2\ +\ 1]\ =\ 0;}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01541}01541\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{int}\ index\ =\ y\ *\ 2;}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01542}01542\ }
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01543}01543\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ Iterate\ over\ the\ 8\ pixels\ in\ each\ row\ of\ the\ tile.}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01544}01544\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keywordtype}{int}\ x\ =\ 0;\ x\ <\ 8;\ x++)}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01545}01545\ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01546}01546\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ Get\ the\ color\ ID\ for\ the\ pixel.}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01547}01547\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{int}\ colorid;}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01548}01548\ \ \ \ \ \ \ \ \ \ \ \ \ colorid\ =\ !!(src[index]\ \&\ (0x80\ >>\ x));}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01549}01549\ \ \ \ \ \ \ \ \ \ \ \ \ colorid\ |=\ !!(src[index\ +\ 1]\ \&\ (0x80\ >>\ x))\ <<\ 1;}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01550}01550\ }
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01551}01551\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ Set\ the\ color\ value\ in\ the\ destination\ data.}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01552}01552\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{int}\ orValue\ =\ (colorid\ <<\ ((x\ \%\ 4)\ *\ 4));}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01553}01553\ \ \ \ \ \ \ \ \ \ \ \ \ dest[y\ *\ 2\ +\ x\ /\ 4]\ |=\ orValue;}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01554}01554\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01555}01555\ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01556}01556\ \}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01557}01557\ }
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01571}\mbox{\hyperlink{gbgfx_8h_a156e6af1e5bbf84cd59aaa74d204ee77}{01571}}\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{gbgfx_8cpp_a156e6af1e5bbf84cd59aaa74d204ee77}{drawScreen}}()}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01572}01572\ \{}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01573}01573\ \ \ \ \ \textcolor{comment}{//\ If\ we\ are\ probing\ for\ a\ border,\ return\ early\ without\ performing\ any\ actions.}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01574}01574\ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{gameboy_8h_af9fb33f9e0c7674ff242adfb4fa0e1b0}{probingForBorder}})}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01575}01575\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return};}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01576}01576\ }
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01577}01577\ \ \ \ \ \textcolor{comment}{//\ If\ we\ are\ not\ in\ fast\ forward\ mode,\ wait\ for\ vblank\ and\ reset\ the\ `didVblank`\ flag.}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01578}01578\ \ \ \ \ \textcolor{keywordflow}{if}\ (!(\mbox{\hyperlink{gameboy_8h_ac86f7a6e55f0899d62d5f4424821826a}{fastForwardMode}}\ ||\ \mbox{\hyperlink{gameboy_8h_a7a001fcbf25fa32416413978771c6194}{fastForwardKey}}))}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01579}01579\ \ \ \ \ \{}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01580}01580\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{gbgfx_8cpp_aa419499bc88635e3e3e2ad6616e17563}{interruptWaitMode}}\ ==\ 1)\ \textcolor{comment}{//\ Always\ wait\ for\ Vblank.}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01581}01581\ \ \ \ \ \ \ \ \ \ \ \ \ swiWaitForVBlank();}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01582}01582\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{else}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01583}01583\ \ \ \ \ \ \ \ \ \{\ \textcolor{comment}{//\ Continue\ if\ we've\ passed\ vblank.}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01584}01584\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (!\mbox{\hyperlink{gbgfx_8cpp_a5458fb138ca4b8f989873109fd0c53d7}{didVblank}})}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01585}01585\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ swiWaitForVBlank();}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01586}01586\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01587}01587\ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01588}01588\ \ \ \ \ \mbox{\hyperlink{gbgfx_8cpp_a5458fb138ca4b8f989873109fd0c53d7}{didVblank}}\ =\ \textcolor{keyword}{false};}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01589}01589\ }
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01590}01590\ \ \ \ \ \textcolor{comment}{//\ Update\ the\ `frameFlip\_Gameboy`\ and\ `frameFlip\_DS`\ fields\ of\ the\ `sharedData`\ struct}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01591}01591\ \ \ \ \ \textcolor{comment}{//\ based\ on\ the\ current\ value\ of\ `REG\_VCOUNT`.}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01592}01592\ \ \ \ \ \mbox{\hyperlink{main_8c_a2bb32c52cb5d21be737aaa2aefb353d4}{sharedData}}-\/>\mbox{\hyperlink{struct_shared_data_a375385b4dc726b4c0edae7a2b438ce48}{frameFlip\_Gameboy}}\ =\ !\mbox{\hyperlink{main_8c_a2bb32c52cb5d21be737aaa2aefb353d4}{sharedData}}-\/>\mbox{\hyperlink{struct_shared_data_a375385b4dc726b4c0edae7a2b438ce48}{frameFlip\_Gameboy}};}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01593}01593\ \ \ \ \ \textcolor{keywordflow}{if}\ (REG\_VCOUNT\ ==\ 192)}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01594}01594\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{main_8c_a2bb32c52cb5d21be737aaa2aefb353d4}{sharedData}}-\/>\mbox{\hyperlink{struct_shared_data_afed8946bd180371ec758e171fabdb7ca}{frameFlip\_DS}}\ =\ \mbox{\hyperlink{main_8c_a2bb32c52cb5d21be737aaa2aefb353d4}{sharedData}}-\/>\mbox{\hyperlink{struct_shared_data_a375385b4dc726b4c0edae7a2b438ce48}{frameFlip\_Gameboy}};}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01595}01595\ }
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01596}01596\ \ \ \ \ \textcolor{comment}{//\ If\ `gfxMask`\ is\ nonzero,\ return\ early\ without\ performing\ any\ further\ actions.}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01597}01597\ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{gbgfx_8cpp_a0e19dccb2272e5ec93cee1dbe5b3fee3}{gfxMask}})}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01598}01598\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return};}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01599}01599\ }
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01600}01600\ \ \ \ \ \textcolor{comment}{//\ Swap\ the\ `renderingState`\ and\ `drawingState`\ pointers.}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01601}01601\ \ \ \ \ \mbox{\hyperlink{struct_scanline_struct}{ScanlineStruct}}\ *tmp\ =\ \mbox{\hyperlink{gbgfx_8cpp_ae151e70163adb76a07dce9eaacf55800}{renderingState}};}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01602}01602\ \ \ \ \ \mbox{\hyperlink{gbgfx_8cpp_ae151e70163adb76a07dce9eaacf55800}{renderingState}}\ =\ \mbox{\hyperlink{gbgfx_8cpp_ab603fe74b48d08c176eb343ade1dc566}{drawingState}};}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01603}01603\ \ \ \ \ \mbox{\hyperlink{gbgfx_8cpp_ab603fe74b48d08c176eb343ade1dc566}{drawingState}}\ =\ tmp;}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01604}01604\ }
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01605}01605\ \ \ \ \ \textcolor{comment}{//\ Update\ the\ `screenDisabled`\ variable\ based\ on\ the\ value\ of\ the\ LCD\ control\ register.}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01606}01606\ \ \ \ \ \mbox{\hyperlink{gbgfx_8cpp_a097b7a3d0c46cf0afdc98b34bf6f99ed}{screenDisabled}}\ =\ \mbox{\hyperlink{gbgfx_8cpp_a31c7dcff373ddfa6b23617e9298f961d}{lastScreenDisabled}};}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01607}01607\ \ \ \ \ \textcolor{keywordflow}{if}\ (!(\mbox{\hyperlink{mmu_8h_a7436ad149c3b3f2974966d6b546d14d9}{ioRam}}[0x40]\ \&\ 0x80))}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01608}01608\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{gbgfx_8cpp_a097b7a3d0c46cf0afdc98b34bf6f99ed}{screenDisabled}}\ =\ \textcolor{keyword}{true};}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01609}01609\ \ \ \ \ \mbox{\hyperlink{gbgfx_8cpp_a31c7dcff373ddfa6b23617e9298f961d}{lastScreenDisabled}}\ =\ !(\mbox{\hyperlink{mmu_8h_a7436ad149c3b3f2974966d6b546d14d9}{ioRam}}[0x40]\ \&\ 0x80);}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01610}01610\ }
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01611}01611\ \ \ \ \ \textcolor{comment}{//\ Reset\ the\ window\ Y\ position.}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01612}01612\ \ \ \ \ \mbox{\hyperlink{gbgfx_8cpp_adf5931a286627b99da8d76dc7eb033df}{winPosY}}\ =\ -\/1;}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01613}01613\ }
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01614}01614\ \ \ \ \ \textcolor{comment}{//\ Update\ the\ tile\ data\ and\ tile\ maps.}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01615}01615\ \ \ \ \ \mbox{\hyperlink{gbgfx_8cpp_a73afcb774f607a0031a6877ab3059fd3}{updateTiles}}();}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01616}01616\ \ \ \ \ \mbox{\hyperlink{gbgfx_8cpp_a60975f999e5000cce01f957e5061efc2}{updateTileMaps}}();}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01617}01617\ }
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01618}01618\ \ \ \ \ \textcolor{comment}{//\ If\ SGB\ mode\ is\ active,\ refresh\ the\ SGB\ palette.}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01619}01619\ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{gameboy_8h_a5021082cf23612467be2f40ebe83d8e3}{sgbMode}})}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01620}01620\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{gbgfx_8cpp_ab69a9c5313c53ae912567230d8ddfcf0}{refreshSgbPalette}}();}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01621}01621\ \}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01622}01622\ }
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01631}\mbox{\hyperlink{gbgfx_8cpp_a88f8d46d8cf1f3ea65e4e290a99020d9}{01631}}\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{gbgfx_8cpp_a88f8d46d8cf1f3ea65e4e290a99020d9}{drawSprites}}(u8\ *data,\ \textcolor{keywordtype}{int}\ tall)}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01632}01632\ \{}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01633}01633\ \ \ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keywordtype}{int}\ i\ =\ 0;\ i\ <\ 40;\ i++)}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01634}01634\ \ \ \ \ \{}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01635}01635\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{int}\ spriteIndex\ =\ i\ +\ \mbox{\hyperlink{gbgfx_8cpp_a1b6ed3b899ddd242915f4dd097981b9c}{firstGbSprite}};}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01636}01636\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{int}\ spriteNum\ =\ i\ *\ 4;}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01637}01637\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (data[spriteNum]\ ==\ 0)}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01638}01638\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{gbgfx_8cpp_a34352c8a17802da70f27f22ce225178f}{sprites}}[spriteIndex].attr0\ =\ ATTR0\_DISABLED;}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01639}01639\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{else}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01640}01640\ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01641}01641\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{int}\ y\ =\ data[spriteNum]\ -\/\ 16;}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01642}01642\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (y\ ==\ -\/16)}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01643}01643\ \ \ \ \ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01644}01644\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{gbgfx_8cpp_a34352c8a17802da70f27f22ce225178f}{sprites}}[spriteIndex].attr0\ =\ 0;}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01645}01645\ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01646}01646\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{else}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01647}01647\ \ \ \ \ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01648}01648\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{int}\ tileNum\ =\ data[spriteNum\ +\ 2];}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01649}01649\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (tall)}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01650}01650\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ tileNum\ \&=\ \string~1;}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01651}01651\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{int}\ x\ =\ data[spriteNum\ +\ 1]\ -\/\ 8;}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01652}01652\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{int}\ bank\ =\ 0;}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01653}01653\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{int}\ flipX\ =\ !!(data[spriteNum\ +\ 3]\ \&\ 0x20);}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01654}01654\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{int}\ flipY\ =\ !!(data[spriteNum\ +\ 3]\ \&\ 0x40);}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01655}01655\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{int}\ priority\ =\ !!(data[spriteNum\ +\ 3]\ \&\ 0x80);}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01656}01656\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{int}\ paletteid;}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01657}01657\ }
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01658}01658\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{gameboy_8h_af3ddfcff387d53e03211aeaa7a0c14ef}{gbMode}}\ ==\ \mbox{\hyperlink{gbcpu_8h_a5d6a36e6c1ec6aad48d2db4868de600c}{CGB}})}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01659}01659\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01660}01660\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ bank\ =\ !!(data[spriteNum\ +\ 3]\ \&\ 0x8);}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01661}01661\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ paletteid\ =\ data[spriteNum\ +\ 3]\ \&\ 0x7;}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01662}01662\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01663}01663\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{else}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01664}01664\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01665}01665\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{gameboy_8h_a5021082cf23612467be2f40ebe83d8e3}{sgbMode}})}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01666}01666\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01667}01667\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ Sprites\ are\ colored\ the\ same\ as\ the\ background.\ A\ bit}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01668}01668\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ of\ compromise\ is\ needed,\ since\ they\ don't\ line\ up\ perfectly.}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01669}01669\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{int}\ yPos,\ xPos;}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01670}01670\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ xPos\ =\ (x\ <\ 0\ ?\ 0\ :\ x\ /\ 8);}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01671}01671\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (tall)}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01672}01672\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01673}01673\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ ((y\ >=\ 144\ -\/\ 15\ \&\&\ !\mbox{\hyperlink{gbgfx_8cpp_ab603fe74b48d08c176eb343ade1dc566}{drawingState}}[143].spritesOn)\ ||\ (y\ <\ 144\ -\/\ 15\ \&\&\ !\mbox{\hyperlink{gbgfx_8cpp_ab603fe74b48d08c176eb343ade1dc566}{drawingState}}[y\ +\ 15].\mbox{\hyperlink{struct_scanline_struct_adf5cb31009707e20fb58ba43473f5b44}{spritesOn}}))}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01674}01674\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ yPos\ =\ y\ /\ 8;\ \textcolor{comment}{//\ Take\ the\ color\ at\ the\ top}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01675}01675\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{else}\ \textcolor{keywordflow}{if}\ ((y\ <\ 0\ \&\&\ !\mbox{\hyperlink{gbgfx_8cpp_ab603fe74b48d08c176eb343ade1dc566}{drawingState}}[0].spritesOn)\ ||\ !\mbox{\hyperlink{gbgfx_8cpp_ab603fe74b48d08c176eb343ade1dc566}{drawingState}}[y].\mbox{\hyperlink{struct_scanline_struct_adf5cb31009707e20fb58ba43473f5b44}{spritesOn}})}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01676}01676\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ yPos\ =\ (y\ +\ 15)\ /\ 8;\ \textcolor{comment}{//\ Take\ the\ color\ at\ the\ bottom}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01677}01677\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{else}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01678}01678\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ yPos\ =\ (y\ <\ -\/7\ ?\ 0\ :\ (y\ +\ 7)\ /\ 8);\ \textcolor{comment}{//\ Take\ the\ color\ around\ the\ middle}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01679}01679\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01680}01680\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{else}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01681}01681\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01682}01682\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (y\ >\ -\/8\ \&\&\ ((y\ >=\ 144\ -\/\ 8\ \&\&\ !\mbox{\hyperlink{gbgfx_8cpp_ab603fe74b48d08c176eb343ade1dc566}{drawingState}}[143].spritesOn)\ ||\ (y\ <\ 144\ -\/\ 8\ \&\&\ !\mbox{\hyperlink{gbgfx_8cpp_ab603fe74b48d08c176eb343ade1dc566}{drawingState}}[y\ +\ 8].\mbox{\hyperlink{struct_scanline_struct_adf5cb31009707e20fb58ba43473f5b44}{spritesOn}})))}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01683}01683\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ yPos\ =\ y\ /\ 8;\ \textcolor{comment}{//\ Take\ the\ color\ at\ the\ top}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01684}01684\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{else}\ \textcolor{keywordflow}{if}\ ((y\ <\ 0\ \&\&\ !\mbox{\hyperlink{gbgfx_8cpp_ab603fe74b48d08c176eb343ade1dc566}{drawingState}}[0].spritesOn)\ ||\ !\mbox{\hyperlink{gbgfx_8cpp_ab603fe74b48d08c176eb343ade1dc566}{drawingState}}[y].\mbox{\hyperlink{struct_scanline_struct_adf5cb31009707e20fb58ba43473f5b44}{spritesOn}})}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01685}01685\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ yPos\ =\ (y\ +\ 7)\ /\ 8;\ \textcolor{comment}{//\ Take\ the\ color\ at\ the\ bottom}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01686}01686\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{else}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01687}01687\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ yPos\ =\ (y\ <\ -\/3\ ?\ 0\ :\ (y\ +\ 3)\ /\ 8);\ \textcolor{comment}{//\ Take\ the\ color\ around\ the\ middle}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01688}01688\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01689}01689\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (yPos\ <\ 0)}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01690}01690\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ yPos\ =\ 0;}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01691}01691\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{else}\ \textcolor{keywordflow}{if}\ (yPos\ >=\ 18)}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01692}01692\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ yPos\ =\ 17;}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01693}01693\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{int}\ sgbPalette\ =\ \mbox{\hyperlink{sgb_8h_a15e19c23520a5b3c3a3ddb347af5273b}{sgbMap}}[yPos\ *\ 20\ +\ xPos]\ \&\ 3;}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01694}01694\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ paletteid\ =\ sgbPalette\ +\ (!!(data[spriteNum\ +\ 3]\ \&\ 0x10))\ *\ 4;}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01695}01695\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01696}01696\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{else}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01697}01697\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ paletteid\ =\ ((data[spriteNum\ +\ 3]\ \&\ 0x10)\ ?\ 5\ :\ 0);}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01698}01698\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01699}01699\ }
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01700}01700\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{int}\ priorityVal\ =\ (priority\ ?\ \mbox{\hyperlink{gbgfx_8cpp_acb5531c62e489ea1cae44400ac9336ee}{spr\_priority\_low}}\ :\ \mbox{\hyperlink{gbgfx_8cpp_a74f524dec8b515de3783f1ca4fe9966a}{spr\_priority}});}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01701}01701\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{gbgfx_8cpp_a34352c8a17802da70f27f22ce225178f}{sprites}}[spriteIndex].attr0\ =\ (y\ +\ \mbox{\hyperlink{gbgfx_8cpp_ae4626134fe8c5a191c8a9d36e9319cbc}{screenOffsY}})\ |\ (tall\ <<\ 15);}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01702}01702\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{gbgfx_8cpp_a34352c8a17802da70f27f22ce225178f}{sprites}}[spriteIndex].attr1\ =\ ((x\ \&\ 0x1ff)\ +\ \mbox{\hyperlink{gbgfx_8cpp_a285192f5390f5531ee1cca872f957d2d}{screenOffsX}})\ |\ (flipX\ <<\ 12)\ |\ (flipY\ <<\ 13);}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01703}01703\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{gbgfx_8cpp_a34352c8a17802da70f27f22ce225178f}{sprites}}[spriteIndex].attr2\ =\ (tileNum\ +\ (bank\ *\ 0x100))\ |\ (priorityVal\ <<\ 10)\ |\ (paletteid\ <<\ 12);}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01704}01704\ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01705}01705\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01706}01706\ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01707}01707\ \}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01708}01708\ }
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01709}01709\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{gbgfx_8cpp_a1cec0914be5ae980da80f2a7cf47ddc9}{drawScanline}}(\textcolor{keywordtype}{int}\ scanline)\ ITCM\_CODE;}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01710}01710\ }
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01711}\mbox{\hyperlink{gbgfx_8cpp_af45ebf8710b5dc93aaf0421a4fe37764}{01711}}\ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{gbgfx_8cpp_af45ebf8710b5dc93aaf0421a4fe37764}{winX}};}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01712}01712\ \textcolor{comment}{//\ Called\ after\ mode\ 2}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01719}\mbox{\hyperlink{gbgfx_8h_a1cec0914be5ae980da80f2a7cf47ddc9}{01719}}\ \textcolor{comment}{}\textcolor{keywordtype}{void}\ \mbox{\hyperlink{gbgfx_8cpp_a1cec0914be5ae980da80f2a7cf47ddc9}{drawScanline}}(\textcolor{keywordtype}{int}\ scanline)}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01720}01720\ \{}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01721}01721\ \ \ \ \ \textcolor{comment}{//\ This\ japanese\ game,\ "{}Fushigi\ no\ Dungeon\ -\/\ Fuurai\ no\ Shiren..."{}\ expects}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01722}01722\ \ \ \ \ \textcolor{comment}{//\ writes\ to\ winX\ during\ mode\ 3\ to\ take\ effect\ next\ scanline\ -\/\ at\ least,}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01723}01723\ \ \ \ \ \textcolor{comment}{//\ when\ winX\ is\ changed\ from\ >=167\ to\ <167\ or\ vice\ versa.\ Maybe\ this\ should}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01724}01724\ \ \ \ \ \textcolor{comment}{//\ be\ investigated\ further.}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01725}01725\ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{gbgfx_8cpp_af45ebf8710b5dc93aaf0421a4fe37764}{winX}}\ !=\ \mbox{\hyperlink{mmu_8h_a7436ad149c3b3f2974966d6b546d14d9}{ioRam}}[0x4b])}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01726}01726\ \ \ \ \ \{}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01727}01727\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{gbgfx_8cpp_af45ebf8710b5dc93aaf0421a4fe37764}{winX}}\ =\ \mbox{\hyperlink{mmu_8h_a7436ad149c3b3f2974966d6b546d14d9}{ioRam}}[0x4b];}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01728}01728\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{gbgfx_8cpp_a5823f3af2c35fce45f1b50d16a313df4}{lineModified}}\ =\ \textcolor{keyword}{true};}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01729}01729\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{gbgfx_8cpp_a6d8811638f07e4ef3353977efe34c68b}{mapsModified}}\ =\ \textcolor{keyword}{true};}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01730}01730\ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01731}01731\ \}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01732}01732\ }
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01733}01733\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{gbgfx_8cpp_a5f2076cbffa95c8bb5e27e4f4d6f67d5}{drawScanline\_P2}}(\textcolor{keywordtype}{int}\ scanline)\ ITCM\_CODE;}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01734}01734\ }
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01746}\mbox{\hyperlink{gbgfx_8h_a5f2076cbffa95c8bb5e27e4f4d6f67d5}{01746}}\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{gbgfx_8cpp_a5f2076cbffa95c8bb5e27e4f4d6f67d5}{drawScanline\_P2}}(\textcolor{keywordtype}{int}\ scanline)}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01747}01747\ \{}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01748}01748\ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{gbgfx_8cpp_ab764cbdc62a676940e3d9c4940461cea}{hblankDisabled}})}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01749}01749\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return};}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01750}01750\ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{gbgfx_8cpp_adf5931a286627b99da8d76dc7eb033df}{winPosY}}\ ==\ -\/2)}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01751}01751\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{gbgfx_8cpp_adf5931a286627b99da8d76dc7eb033df}{winPosY}}\ =\ \mbox{\hyperlink{mmu_8h_a7436ad149c3b3f2974966d6b546d14d9}{ioRam}}[0x44]\ -\/\ \mbox{\hyperlink{mmu_8h_a7436ad149c3b3f2974966d6b546d14d9}{ioRam}}[0x4a];}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01752}01752\ \ \ \ \ \textcolor{keywordflow}{else}\ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{mmu_8h_a7436ad149c3b3f2974966d6b546d14d9}{ioRam}}[0x40]\ \&\ 0x20\ \&\&\ \mbox{\hyperlink{gbgfx_8cpp_af45ebf8710b5dc93aaf0421a4fe37764}{winX}}\ <\ 167\ \&\&\ \mbox{\hyperlink{mmu_8h_a7436ad149c3b3f2974966d6b546d14d9}{ioRam}}[0x4a]\ <=\ scanline)}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01753}01753\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{gbgfx_8cpp_adf5931a286627b99da8d76dc7eb033df}{winPosY}}++;}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01754}01754\ }
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01755}01755\ \ \ \ \ \textcolor{comment}{//\ Always\ set\ this,\ since\ it's\ checked\ in\ the\ drawSprites\ function}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01756}01756\ \ \ \ \ \mbox{\hyperlink{gbgfx_8cpp_ae151e70163adb76a07dce9eaacf55800}{renderingState}}[scanline].\mbox{\hyperlink{struct_scanline_struct_adf5cb31009707e20fb58ba43473f5b44}{spritesOn}}\ =\ \mbox{\hyperlink{mmu_8h_a7436ad149c3b3f2974966d6b546d14d9}{ioRam}}[0x40]\ \&\ 0x2;}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01757}01757\ }
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01758}01758\ \ \ \ \ \textcolor{keywordflow}{if}\ (scanline\ ==\ 0)}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01759}01759\ \ \ \ \ \{}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01760}01760\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{gbgfx_8cpp_a5823f3af2c35fce45f1b50d16a313df4}{lineModified}}\ =\ \textcolor{keyword}{true};}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01761}01761\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{gbgfx_8cpp_a751160e1702627464ad6b4d6d063a655}{bgPalettesModified}}\ =\ \textcolor{keyword}{true};}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01762}01762\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{gbgfx_8cpp_a7bdc492b1884bde1b603abce41cde89e}{sprPalettesModified}}\ =\ \textcolor{keyword}{true};}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01763}01763\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{gbgfx_8cpp_a270d6ce2a8e0be18c9b587c22bd0a9b6}{spritesModified}}\ =\ \textcolor{keyword}{true};}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01764}01764\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{gbgfx_8cpp_a6d8811638f07e4ef3353977efe34c68b}{mapsModified}}\ =\ \textcolor{keyword}{true};}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01765}01765\ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01766}01766\ \ \ \ \ \textcolor{keywordflow}{else}\ \textcolor{keywordflow}{if}\ (scanline\ ==\ \mbox{\hyperlink{mmu_8h_a7436ad149c3b3f2974966d6b546d14d9}{ioRam}}[0x4a])}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01767}01767\ \ \ \ \ \{\ \textcolor{comment}{//\ First\ line\ of\ the\ window}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01768}01768\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{gbgfx_8cpp_a5823f3af2c35fce45f1b50d16a313df4}{lineModified}}\ =\ \textcolor{keyword}{true};}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01769}01769\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{gbgfx_8cpp_a6d8811638f07e4ef3353977efe34c68b}{mapsModified}}\ =\ \textcolor{keyword}{true};}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01770}01770\ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01771}01771\ \ \ \ \ \textcolor{keywordflow}{else}\ \textcolor{keywordflow}{if}\ (!\mbox{\hyperlink{gbgfx_8cpp_a5823f3af2c35fce45f1b50d16a313df4}{lineModified}})}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01772}01772\ \ \ \ \ \{}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01773}01773\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{gbgfx_8cpp_ae151e70163adb76a07dce9eaacf55800}{renderingState}}[scanline].\mbox{\hyperlink{struct_scanline_struct_a336f890daf27be7a9bd3728673d20a16}{modified}}\ =\ \textcolor{keyword}{false};}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01774}01774\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return};}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01775}01775\ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01776}01776\ }
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01777}01777\ \ \ \ \ \mbox{\hyperlink{gbgfx_8cpp_ae151e70163adb76a07dce9eaacf55800}{renderingState}}[scanline].\mbox{\hyperlink{struct_scanline_struct_a336f890daf27be7a9bd3728673d20a16}{modified}}\ =\ \textcolor{keyword}{true};}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01778}01778\ }
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01779}01779\ \ \ \ \ \mbox{\hyperlink{gbgfx_8cpp_ae151e70163adb76a07dce9eaacf55800}{renderingState}}[scanline].\mbox{\hyperlink{struct_scanline_struct_a81d6ccf694d3f73ee5a2e0a506a973b7}{spritesModified}}\ =\ \mbox{\hyperlink{gbgfx_8cpp_a270d6ce2a8e0be18c9b587c22bd0a9b6}{spritesModified}};}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01780}01780\ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{gbgfx_8cpp_a270d6ce2a8e0be18c9b587c22bd0a9b6}{spritesModified}})}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01781}01781\ \ \ \ \ \{}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01782}01782\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keywordtype}{int}\ i\ =\ 0;\ i\ <\ 0xa0;\ i++)}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01783}01783\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{gbgfx_8cpp_ae151e70163adb76a07dce9eaacf55800}{renderingState}}[scanline].\mbox{\hyperlink{mmu_8h_a33bd1edbc22f1b0180441d711829cd9b}{spriteData}}[i]\ =\ \mbox{\hyperlink{mmu_8h_ac883c44820bf261155e8eb1dc1e6160f}{hram}}[i];}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01784}01784\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{gbgfx_8cpp_ae151e70163adb76a07dce9eaacf55800}{renderingState}}[scanline].\mbox{\hyperlink{struct_scanline_struct_abf2bf57c4f3344e25ace69a7505a4f22}{tallSprites}}\ =\ !!(\mbox{\hyperlink{mmu_8h_a7436ad149c3b3f2974966d6b546d14d9}{ioRam}}[0x40]\ \&\ 4);}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01785}01785\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{gbgfx_8cpp_a270d6ce2a8e0be18c9b587c22bd0a9b6}{spritesModified}}\ =\ \textcolor{keyword}{false};}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01786}01786\ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01787}01787\ }
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01788}01788\ \ \ \ \ \mbox{\hyperlink{gbgfx_8cpp_ae151e70163adb76a07dce9eaacf55800}{renderingState}}[scanline].\mbox{\hyperlink{struct_scanline_struct_af7c7cb7f298fa852d7747a2734499cee}{mapsModified}}\ =\ \mbox{\hyperlink{gbgfx_8cpp_a6d8811638f07e4ef3353977efe34c68b}{mapsModified}};}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01789}01789\ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{gbgfx_8cpp_a6d8811638f07e4ef3353977efe34c68b}{mapsModified}})}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01790}01790\ \ \ \ \ \{}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01791}01791\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{gbgfx_8cpp_a6d8811638f07e4ef3353977efe34c68b}{mapsModified}}\ =\ \textcolor{keyword}{false};}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01792}01792\ }
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01793}01793\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{int}\ tileSigned,\ winMap,\ bgMap;}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01794}01794\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{mmu_8h_a7436ad149c3b3f2974966d6b546d14d9}{ioRam}}[0x40]\ \&\ 0x10)}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01795}01795\ \ \ \ \ \ \ \ \ \ \ \ \ tileSigned\ =\ 0;}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01796}01796\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{else}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01797}01797\ \ \ \ \ \ \ \ \ \ \ \ \ tileSigned\ =\ 1;}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01798}01798\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{mmu_8h_a7436ad149c3b3f2974966d6b546d14d9}{ioRam}}[0x40]\ \&\ 0x40)}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01799}01799\ \ \ \ \ \ \ \ \ \ \ \ \ winMap\ =\ 1;}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01800}01800\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{else}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01801}01801\ \ \ \ \ \ \ \ \ \ \ \ \ winMap\ =\ 0;}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01802}01802\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{mmu_8h_a7436ad149c3b3f2974966d6b546d14d9}{ioRam}}[0x40]\ \&\ 0x8)}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01803}01803\ \ \ \ \ \ \ \ \ \ \ \ \ bgMap\ =\ 1;}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01804}01804\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{else}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01805}01805\ \ \ \ \ \ \ \ \ \ \ \ \ bgMap\ =\ 0;}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01806}01806\ }
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01807}01807\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{gbgfx_8cpp_ae151e70163adb76a07dce9eaacf55800}{renderingState}}[scanline].\mbox{\hyperlink{struct_scanline_struct_a736b19cc5281791d106022368cc319fd}{bgMap}}\ =\ bgMap;}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01808}01808\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{gbgfx_8cpp_ae151e70163adb76a07dce9eaacf55800}{renderingState}}[scanline].\mbox{\hyperlink{struct_scanline_struct_a488243d91d511956b87cd1ac5f25281d}{winMap}}\ =\ winMap;}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01809}01809\ }
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01810}01810\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{gameboy_8h_af3ddfcff387d53e03211aeaa7a0c14ef}{gbMode}}\ !=\ \mbox{\hyperlink{gbcpu_8h_a5d6a36e6c1ec6aad48d2db4868de600c}{CGB}}\ \&\&\ !(\mbox{\hyperlink{mmu_8h_a7436ad149c3b3f2974966d6b546d14d9}{ioRam}}[0x40]\ \&\ 1))}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01811}01811\ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01812}01812\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{gbgfx_8cpp_ae151e70163adb76a07dce9eaacf55800}{renderingState}}[scanline].\mbox{\hyperlink{struct_scanline_struct_a628dcb4a7573142ee58304a88a94ae2d}{winColor0Cnt}}\ =\ BG\_MAP\_BASE(\mbox{\hyperlink{gbgfx_8cpp_a91ce402e5df15ae36e306bc87e0e8571}{off\_map\_base}})\ |\ 3;}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01813}01813\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{gbgfx_8cpp_ae151e70163adb76a07dce9eaacf55800}{renderingState}}[scanline].\mbox{\hyperlink{struct_scanline_struct_a0f9059cd63f6b283f48ac0a7178aba52}{winCnt}}\ =\ BG\_MAP\_BASE(\mbox{\hyperlink{gbgfx_8cpp_a91ce402e5df15ae36e306bc87e0e8571}{off\_map\_base}})\ |\ 3;}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01814}01814\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{gbgfx_8cpp_ae151e70163adb76a07dce9eaacf55800}{renderingState}}[scanline].\mbox{\hyperlink{struct_scanline_struct_a296e759aff6b478d1e115891c7f69e5f}{winOverlayCnt}}\ =\ BG\_MAP\_BASE(\mbox{\hyperlink{gbgfx_8cpp_a91ce402e5df15ae36e306bc87e0e8571}{off\_map\_base}})\ |\ 3;}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01815}01815\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{gbgfx_8cpp_ae151e70163adb76a07dce9eaacf55800}{renderingState}}[scanline].\mbox{\hyperlink{struct_scanline_struct_a4d5a5e33b85637c02a93ec769c7631ae}{bgColor0Cnt}}\ =\ BG\_MAP\_BASE(\mbox{\hyperlink{gbgfx_8cpp_a91ce402e5df15ae36e306bc87e0e8571}{off\_map\_base}})\ |\ 3;}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01816}01816\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{gbgfx_8cpp_ae151e70163adb76a07dce9eaacf55800}{renderingState}}[scanline].\mbox{\hyperlink{struct_scanline_struct_ae7458b84776ae55eadf7d310764e60c5}{bgCnt}}\ =\ BG\_MAP\_BASE(\mbox{\hyperlink{gbgfx_8cpp_a91ce402e5df15ae36e306bc87e0e8571}{off\_map\_base}})\ |\ 3;}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01817}01817\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{gbgfx_8cpp_ae151e70163adb76a07dce9eaacf55800}{renderingState}}[scanline].\mbox{\hyperlink{struct_scanline_struct_a2c1e744c540d565ae23f79d5b6c4f13a}{bgOverlayCnt}}\ =\ BG\_MAP\_BASE(\mbox{\hyperlink{gbgfx_8cpp_a91ce402e5df15ae36e306bc87e0e8571}{off\_map\_base}})\ |\ 3;}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01818}01818\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01819}01819\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{else}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01820}01820\ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01821}01821\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{bool}\ priorityOn\ =\ \mbox{\hyperlink{gameboy_8h_af3ddfcff387d53e03211aeaa7a0c14ef}{gbMode}}\ ==\ \mbox{\hyperlink{gbcpu_8h_a5d6a36e6c1ec6aad48d2db4868de600c}{CGB}}\ \&\&\ \mbox{\hyperlink{mmu_8h_a7436ad149c3b3f2974966d6b546d14d9}{ioRam}}[0x40]\ \&\ 1;}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01822}01822\ }
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01823}01823\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{int}\ winMapBase\ =\ \mbox{\hyperlink{gbgfx_8cpp_a83ace767bc1330b97e1e66dac3d0ec32}{map\_base}}[winMap];}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01824}01824\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{int}\ bgMapBase\ =\ \mbox{\hyperlink{gbgfx_8cpp_a83ace767bc1330b97e1e66dac3d0ec32}{map\_base}}[bgMap];}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01825}01825\ }
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01826}01826\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{gbgfx_8cpp_ae151e70163adb76a07dce9eaacf55800}{renderingState}}[scanline].\mbox{\hyperlink{struct_scanline_struct_a2b628f4e841ccc096056d92b693eb6e3}{tileSigned}}\ =\ tileSigned;}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01827}01827\ }
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01828}01828\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{int}\ tileBase\ =\ (tileSigned\ ?\ 6\ :\ 4);}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01829}01829\ }
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01830}01830\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{gbgfx_8cpp_ae151e70163adb76a07dce9eaacf55800}{renderingState}}[scanline].\mbox{\hyperlink{struct_scanline_struct_a628dcb4a7573142ee58304a88a94ae2d}{winColor0Cnt}}\ =\ (BG\_MAP\_BASE(\mbox{\hyperlink{gbgfx_8cpp_ae6e7b7ff5173baf7ca4316c5de93a2c7}{color0\_map\_base}}[winMap])\ |\ BG\_TILE\_BASE(0)\ |\ \mbox{\hyperlink{gbgfx_8cpp_abf4dba0db945ceed11b00da029badbde}{win\_color0\_priority}});}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01831}01831\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{gbgfx_8cpp_ae151e70163adb76a07dce9eaacf55800}{renderingState}}[scanline].\mbox{\hyperlink{struct_scanline_struct_a0f9059cd63f6b283f48ac0a7178aba52}{winCnt}}\ =\ (BG\_MAP\_BASE(winMapBase)\ |\ BG\_TILE\_BASE(tileBase)\ |\ \mbox{\hyperlink{gbgfx_8cpp_af31a9f5a39555bd2b4a05dfdbc8c1835}{win\_priority}});}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01832}01832\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{gbgfx_8cpp_ae151e70163adb76a07dce9eaacf55800}{renderingState}}[scanline].\mbox{\hyperlink{struct_scanline_struct_a4d5a5e33b85637c02a93ec769c7631ae}{bgColor0Cnt}}\ =\ (BG\_MAP\_BASE(\mbox{\hyperlink{gbgfx_8cpp_ae6e7b7ff5173baf7ca4316c5de93a2c7}{color0\_map\_base}}[bgMap])\ |\ BG\_TILE\_BASE(0)\ |\ \mbox{\hyperlink{gbgfx_8cpp_a0b46cea5d84f2577ca9084a7ce1938bb}{bg\_color0\_priority}});}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01833}01833\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{gbgfx_8cpp_ae151e70163adb76a07dce9eaacf55800}{renderingState}}[scanline].\mbox{\hyperlink{struct_scanline_struct_ae7458b84776ae55eadf7d310764e60c5}{bgCnt}}\ =\ (BG\_MAP\_BASE(bgMapBase)\ |\ BG\_TILE\_BASE(tileBase)\ |\ \mbox{\hyperlink{gbgfx_8cpp_a3f02de6a79af2ad2983cd2b9cbfe2442}{bg\_priority}});}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01834}01834\ }
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01835}01835\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{gbgfx_8cpp_ae151e70163adb76a07dce9eaacf55800}{renderingState}}[scanline].\mbox{\hyperlink{struct_scanline_struct_a703c2f8f0ffc5c2a95ddc763db0743fd}{winAllCnt}}\ =\ (BG\_MAP\_BASE(winMapBase)\ |\ BG\_TILE\_BASE(tileBase\ +\ 4)\ |\ \mbox{\hyperlink{gbgfx_8cpp_a2f7019b05da7580d78d7b80310aca299}{win\_all\_priority}});}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01836}01836\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{gbgfx_8cpp_ae151e70163adb76a07dce9eaacf55800}{renderingState}}[scanline].\mbox{\hyperlink{struct_scanline_struct_a09b441f9df432f6b27868df63f75c86e}{bgAllCnt}}\ =\ (BG\_MAP\_BASE(bgMapBase)\ |\ BG\_TILE\_BASE(tileBase\ +\ 4)\ |\ \mbox{\hyperlink{gbgfx_8cpp_ae3246472d110c092ff32a7f01971651e}{bg\_all\_priority}});}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01837}01837\ }
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01838}01838\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (priorityOn)}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01839}01839\ \ \ \ \ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01840}01840\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{gbgfx_8cpp_ae151e70163adb76a07dce9eaacf55800}{renderingState}}[scanline].\mbox{\hyperlink{struct_scanline_struct_a296e759aff6b478d1e115891c7f69e5f}{winOverlayCnt}}\ =\ (BG\_MAP\_BASE(\mbox{\hyperlink{gbgfx_8cpp_a40bbc77db17292c166f889155e08fe44}{overlay\_map\_base}}[winMap])\ |\ BG\_TILE\_BASE(tileBase)\ |\ \mbox{\hyperlink{gbgfx_8cpp_ab963a509c56b484cae862e8f1db740dc}{win\_overlay\_priority}});}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01841}01841\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{gbgfx_8cpp_ae151e70163adb76a07dce9eaacf55800}{renderingState}}[scanline].\mbox{\hyperlink{struct_scanline_struct_a2c1e744c540d565ae23f79d5b6c4f13a}{bgOverlayCnt}}\ =\ (BG\_MAP\_BASE(\mbox{\hyperlink{gbgfx_8cpp_a40bbc77db17292c166f889155e08fe44}{overlay\_map\_base}}[bgMap])\ |\ BG\_TILE\_BASE(tileBase)\ |\ \mbox{\hyperlink{gbgfx_8cpp_af56ca8375678dbe0b7bccaf88aa02469}{bg\_overlay\_priority}});}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01842}01842\ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01843}01843\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{else}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01844}01844\ \ \ \ \ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01845}01845\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ Give\ these\ layers\ the\ same\ priority\ as\ the\ regular\ layers.}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01846}01846\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{gbgfx_8cpp_ae151e70163adb76a07dce9eaacf55800}{renderingState}}[scanline].\mbox{\hyperlink{struct_scanline_struct_a296e759aff6b478d1e115891c7f69e5f}{winOverlayCnt}}\ =\ (BG\_MAP\_BASE(\mbox{\hyperlink{gbgfx_8cpp_a40bbc77db17292c166f889155e08fe44}{overlay\_map\_base}}[winMap])\ |\ BG\_TILE\_BASE(tileBase)\ |\ \mbox{\hyperlink{gbgfx_8cpp_af31a9f5a39555bd2b4a05dfdbc8c1835}{win\_priority}});}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01847}01847\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{gbgfx_8cpp_ae151e70163adb76a07dce9eaacf55800}{renderingState}}[scanline].\mbox{\hyperlink{struct_scanline_struct_a2c1e744c540d565ae23f79d5b6c4f13a}{bgOverlayCnt}}\ =\ (BG\_MAP\_BASE(\mbox{\hyperlink{gbgfx_8cpp_a40bbc77db17292c166f889155e08fe44}{overlay\_map\_base}}[bgMap])\ |\ BG\_TILE\_BASE(tileBase)\ |\ \mbox{\hyperlink{gbgfx_8cpp_a3f02de6a79af2ad2983cd2b9cbfe2442}{bg\_priority}});}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01848}01848\ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01849}01849\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01850}01850\ }
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01851}01851\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{bool}\ winOn\ =\ (\mbox{\hyperlink{mmu_8h_a7436ad149c3b3f2974966d6b546d14d9}{ioRam}}[0x40]\ \&\ 0x20)\ \&\&\ \mbox{\hyperlink{gbgfx_8cpp_af45ebf8710b5dc93aaf0421a4fe37764}{winX}}\ <\ 167\ \&\&\ \mbox{\hyperlink{mmu_8h_a7436ad149c3b3f2974966d6b546d14d9}{ioRam}}[0x4a]\ <\ 144\ \&\&\ \mbox{\hyperlink{mmu_8h_a7436ad149c3b3f2974966d6b546d14d9}{ioRam}}[0x4a]\ <=\ scanline;}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01852}01852\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{gbgfx_8cpp_ae151e70163adb76a07dce9eaacf55800}{renderingState}}[scanline].\mbox{\hyperlink{struct_scanline_struct_a3eb9afc043d7b48081054d31bbd5b5ee}{winOn}}\ =\ winOn;}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01853}01853\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{gbgfx_8cpp_ae151e70163adb76a07dce9eaacf55800}{renderingState}}[scanline].\mbox{\hyperlink{struct_scanline_struct_a29c1fa6eb5e29c3a97f0ade15c3d6c79}{hofs}}\ =\ \mbox{\hyperlink{mmu_8h_a7436ad149c3b3f2974966d6b546d14d9}{ioRam}}[0x43];}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01854}01854\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{gbgfx_8cpp_ae151e70163adb76a07dce9eaacf55800}{renderingState}}[scanline].\mbox{\hyperlink{struct_scanline_struct_a8616c1aa21ec4e29a2fd542dda75cc8f}{vofs}}\ =\ \mbox{\hyperlink{mmu_8h_a7436ad149c3b3f2974966d6b546d14d9}{ioRam}}[0x42];}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01855}01855\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{gbgfx_8cpp_ae151e70163adb76a07dce9eaacf55800}{renderingState}}[scanline].\mbox{\hyperlink{struct_scanline_struct_ac62895524abcf9746f5762536a1f8556}{winX}}\ =\ \mbox{\hyperlink{gbgfx_8cpp_af45ebf8710b5dc93aaf0421a4fe37764}{winX}};}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01856}01856\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{gbgfx_8cpp_ae151e70163adb76a07dce9eaacf55800}{renderingState}}[scanline].\mbox{\hyperlink{struct_scanline_struct_a1b98193d12dedc8710ce22bae9131fb3}{winPosY}}\ =\ \mbox{\hyperlink{gbgfx_8cpp_adf5931a286627b99da8d76dc7eb033df}{winPosY}};}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01857}01857\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{gbgfx_8cpp_ae151e70163adb76a07dce9eaacf55800}{renderingState}}[scanline].\mbox{\hyperlink{struct_scanline_struct_a8d7776aee90d159b7957a30746690175}{winY}}\ =\ \mbox{\hyperlink{mmu_8h_a7436ad149c3b3f2974966d6b546d14d9}{ioRam}}[0x4a];}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01858}01858\ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01859}01859\ }
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01860}01860\ \ \ \ \ \mbox{\hyperlink{gbgfx_8cpp_ae151e70163adb76a07dce9eaacf55800}{renderingState}}[scanline].\mbox{\hyperlink{struct_scanline_struct_ac60a42cb8bfdc25f84c60649dc261184}{bgPalettesModified}}\ =\ \mbox{\hyperlink{gbgfx_8cpp_a751160e1702627464ad6b4d6d063a655}{bgPalettesModified}};}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01861}01861\ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{gbgfx_8cpp_a751160e1702627464ad6b4d6d063a655}{bgPalettesModified}})}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01862}01862\ \ \ \ \ \{}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01863}01863\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{gbgfx_8cpp_a751160e1702627464ad6b4d6d063a655}{bgPalettesModified}}\ =\ \textcolor{keyword}{false};}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01864}01864\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{gbgfx_8cpp_ae151e70163adb76a07dce9eaacf55800}{renderingState}}[scanline].\mbox{\hyperlink{struct_scanline_struct_a0a3ad89252909262e540cff1f9c24d96}{bgPal}}\ =\ \mbox{\hyperlink{mmu_8h_a7436ad149c3b3f2974966d6b546d14d9}{ioRam}}[0x47];}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01865}01865\ }
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01866}01866\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ Hash\ is\ helpful\ for\ more-\/or-\/less\ static\ screens\ using\ tons\ of\ colours.}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01867}01867\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{int}\ hash\ =\ 0;}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01868}01868\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keywordtype}{int}\ i\ =\ 0;\ i\ <\ 0x10;\ i++)}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01869}01869\ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01870}01870\ \ \ \ \ \ \ \ \ \ \ \ \ hash\ =\ ((hash\ <<\ 5)\ +\ hash)\ +\ ((\textcolor{keywordtype}{int}\ *)\mbox{\hyperlink{gbgfx_8h_a254d3c52c2ae7fff61e52168c0c37e86}{bgPaletteData}})[i];}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01871}01871\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01872}01872\ }
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01873}01873\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{gbgfx_8cpp_ae151e70163adb76a07dce9eaacf55800}{renderingState}}[scanline].bgHash\ !=\ hash\ ||}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01874}01874\ \ \ \ \ \ \ \ \ \ \ \ \ scanline\ ==\ 0)}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01875}01875\ \ \ \ \ \ \ \ \ \{\ \textcolor{comment}{//\ Just\ to\ be\ safe\ in\ case\ of\ hash\ collision}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01876}01876\ }
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01877}01877\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{gbgfx_8cpp_ae151e70163adb76a07dce9eaacf55800}{renderingState}}[scanline].\mbox{\hyperlink{struct_scanline_struct_a923590cd756b59863e217703f401f058}{bgHash}}\ =\ hash;}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01878}01878\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keywordtype}{int}\ i\ =\ 0;\ i\ <\ 0x40;\ i++)}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01879}01879\ \ \ \ \ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01880}01880\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{gbgfx_8cpp_ae151e70163adb76a07dce9eaacf55800}{renderingState}}[scanline].bgPaletteData[i]\ =\ \mbox{\hyperlink{gbgfx_8h_a254d3c52c2ae7fff61e52168c0c37e86}{bgPaletteData}}[i];}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01881}01881\ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01882}01882\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01883}01883\ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01884}01884\ }
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01885}01885\ \ \ \ \ \mbox{\hyperlink{gbgfx_8cpp_ae151e70163adb76a07dce9eaacf55800}{renderingState}}[scanline].\mbox{\hyperlink{struct_scanline_struct_a70f3906bb00b352432f08c8772415750}{sprPalettesModified}}\ =\ \mbox{\hyperlink{gbgfx_8cpp_a7bdc492b1884bde1b603abce41cde89e}{sprPalettesModified}};}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01886}01886\ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{gbgfx_8cpp_a7bdc492b1884bde1b603abce41cde89e}{sprPalettesModified}})}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01887}01887\ \ \ \ \ \{}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01888}01888\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{gbgfx_8cpp_a7bdc492b1884bde1b603abce41cde89e}{sprPalettesModified}}\ =\ \textcolor{keyword}{false};}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01889}01889\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{gbgfx_8cpp_ae151e70163adb76a07dce9eaacf55800}{renderingState}}[scanline].\mbox{\hyperlink{struct_scanline_struct_a5ec6e08381b5b79194688b6469c8b3a8}{sprPal}}[0]\ =\ \mbox{\hyperlink{mmu_8h_a7436ad149c3b3f2974966d6b546d14d9}{ioRam}}[0x48];}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01890}01890\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{gbgfx_8cpp_ae151e70163adb76a07dce9eaacf55800}{renderingState}}[scanline].\mbox{\hyperlink{struct_scanline_struct_a5ec6e08381b5b79194688b6469c8b3a8}{sprPal}}[1]\ =\ \mbox{\hyperlink{mmu_8h_a7436ad149c3b3f2974966d6b546d14d9}{ioRam}}[0x49];}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01891}01891\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keywordtype}{int}\ i\ =\ 0;\ i\ <\ 0x40;\ i++)}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01892}01892\ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01893}01893\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{gbgfx_8cpp_ae151e70163adb76a07dce9eaacf55800}{renderingState}}[scanline].sprPaletteData[i]\ =\ \mbox{\hyperlink{gbgfx_8h_ac22d8f92fe46c2fe4681159f06c6192a}{sprPaletteData}}[i];}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01894}01894\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01895}01895\ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01896}01896\ }
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01897}01897\ \ \ \ \ \mbox{\hyperlink{gbgfx_8cpp_a5823f3af2c35fce45f1b50d16a313df4}{lineModified}}\ =\ \textcolor{keyword}{false};}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01898}01898\ \}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01899}01899\ }
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01908}\mbox{\hyperlink{gbgfx_8h_aaf17e95c285e77dea221cb54923a91a3}{01908}}\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{gbgfx_8cpp_aaf17e95c285e77dea221cb54923a91a3}{writeVram}}(u16\ addr,\ u8\ val)}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01909}01909\ \{}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01910}01910\ \ \ \ \ u8\ old\ =\ \mbox{\hyperlink{mmu_8h_a7d0ed1b85995cb654491c9e0958abed2}{vram}}[\mbox{\hyperlink{mmu_8h_adf5f76879a2dc41ba5b73a2fbe844c26}{vramBank}}][addr];}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01911}01911\ \ \ \ \ \textcolor{keywordflow}{if}\ (old\ ==\ val)}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01912}01912\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return};}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01913}01913\ \ \ \ \ \mbox{\hyperlink{mmu_8h_a7d0ed1b85995cb654491c9e0958abed2}{vram}}[\mbox{\hyperlink{mmu_8h_adf5f76879a2dc41ba5b73a2fbe844c26}{vramBank}}][addr]\ =\ val;}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01914}01914\ }
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01915}01915\ \ \ \ \ \textcolor{keywordflow}{if}\ (addr\ <\ 0x1800)}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01916}01916\ \ \ \ \ \{}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01917}01917\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{int}\ tileNum\ =\ addr\ /\ 16;}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01918}01918\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{int}\ scanline\ =\ \mbox{\hyperlink{mmu_8h_a7436ad149c3b3f2974966d6b546d14d9}{ioRam}}[0x44];}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01919}01919\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (scanline\ >=\ 128\ \&\&\ scanline\ <\ 144)}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01920}01920\ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01921}01921\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (!\mbox{\hyperlink{gbgfx_8cpp_af36bd9924bc4a1c5da12c77c46713f4c}{changedTileInFrame}}[\mbox{\hyperlink{mmu_8h_adf5f76879a2dc41ba5b73a2fbe844c26}{vramBank}}][tileNum])}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01922}01922\ \ \ \ \ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01923}01923\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{gbgfx_8cpp_af36bd9924bc4a1c5da12c77c46713f4c}{changedTileInFrame}}[\mbox{\hyperlink{mmu_8h_adf5f76879a2dc41ba5b73a2fbe844c26}{vramBank}}][tileNum]\ =\ \textcolor{keyword}{true};}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01924}01924\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{gbgfx_8cpp_ae569c6094981c38d5e0754f2dae61816}{changedTileInFrameQueue}}[\mbox{\hyperlink{gbgfx_8cpp_adb7a4f818a75d747ae51e6b16dbe623f}{changedTileInFrameQueueLength}}++]\ =\ tileNum\ |\ (\mbox{\hyperlink{mmu_8h_adf5f76879a2dc41ba5b73a2fbe844c26}{vramBank}}\ <<\ 9);}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01925}01925\ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01926}01926\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01927}01927\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{else}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01928}01928\ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01929}01929\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (!\mbox{\hyperlink{gbgfx_8cpp_a542811a076e55daa66e05901298fc57a}{changedTile}}[\mbox{\hyperlink{mmu_8h_adf5f76879a2dc41ba5b73a2fbe844c26}{vramBank}}][tileNum])}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01930}01930\ \ \ \ \ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01931}01931\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{gbgfx_8cpp_a542811a076e55daa66e05901298fc57a}{changedTile}}[\mbox{\hyperlink{mmu_8h_adf5f76879a2dc41ba5b73a2fbe844c26}{vramBank}}][tileNum]\ =\ \textcolor{keyword}{true};}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01932}01932\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{gbgfx_8cpp_ade2d99a4b9f321c5dcb857b655c91f48}{changedTileQueue}}[\mbox{\hyperlink{gbgfx_8cpp_a45834c0f350c7bfbd7657d32bcf42d43}{changedTileQueueLength}}++]\ =\ tileNum\ |\ (\mbox{\hyperlink{mmu_8h_adf5f76879a2dc41ba5b73a2fbe844c26}{vramBank}}\ <<\ 9);}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01933}01933\ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01934}01934\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01935}01935\ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01936}01936\ \ \ \ \ \textcolor{keywordflow}{else}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01937}01937\ \ \ \ \ \{}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01938}01938\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{gbgfx_8cpp_a1e800a6a0ab719ff1af9a81efd02877a}{map}}\ =\ (addr\ -\/\ 0x1800)\ /\ 0x400;}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01939}01939\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{int}\ tile\ =\ addr\ \&\ 0x3ff;}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01940}01940\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{mmu_8h_adf5f76879a2dc41ba5b73a2fbe844c26}{vramBank}}\ ==\ 1)}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01941}01941\ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01942}01942\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ ((val\ \&\ 0x80)\ \&\&\ !(old\ \&\ 0x80))}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01943}01943\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{gbgfx_8cpp_a3b35e4c59fbe530ccfd4fc14c5d4c265}{usingTilePriority}}[\mbox{\hyperlink{gbgfx_8cpp_a1e800a6a0ab719ff1af9a81efd02877a}{map}}]++;}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01944}01944\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{else}\ \textcolor{keywordflow}{if}\ (!(val\ \&\ 0x80)\ \&\&\ (old\ \&\ 0x80))}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01945}01945\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{gbgfx_8cpp_a3b35e4c59fbe530ccfd4fc14c5d4c265}{usingTilePriority}}[\mbox{\hyperlink{gbgfx_8cpp_a1e800a6a0ab719ff1af9a81efd02877a}{map}}]-\/-\/;}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01946}01946\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01947}01947\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (!\mbox{\hyperlink{gbgfx_8cpp_a7a79512469ed835be49735d7e6233390}{changedMap}}[\mbox{\hyperlink{gbgfx_8cpp_a1e800a6a0ab719ff1af9a81efd02877a}{map}}][tile])}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01948}01948\ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01949}01949\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{gbgfx_8cpp_a7a79512469ed835be49735d7e6233390}{changedMap}}[\mbox{\hyperlink{gbgfx_8cpp_a1e800a6a0ab719ff1af9a81efd02877a}{map}}][tile]\ =\ \textcolor{keyword}{true};}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01950}01950\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{gbgfx_8cpp_a9d36dda4f8424acfa6e750cbb86fac06}{changedMapQueue}}[\mbox{\hyperlink{gbgfx_8cpp_a1e800a6a0ab719ff1af9a81efd02877a}{map}}][\mbox{\hyperlink{gbgfx_8cpp_aad42beb02a7313afa3778db5e804f851}{changedMapQueueLength}}[\mbox{\hyperlink{gbgfx_8cpp_a1e800a6a0ab719ff1af9a81efd02877a}{map}}]++]\ =\ tile;}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01951}01951\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01952}01952\ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01953}01953\ \}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01954}01954\ }
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01962}\mbox{\hyperlink{gbgfx_8h_a256e8a10e8afb86c626c6d5c215b3dc5}{01962}}\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{gbgfx_8cpp_a9631e983076a6906dd0eb1c185bd870c}{writeVram16}}(u16\ dest,\ u16\ src)}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01963}01963\ \{}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01964}01964\ \ \ \ \ \textcolor{keywordtype}{bool}\ writingToMapFlags\ =\ (\mbox{\hyperlink{mmu_8h_adf5f76879a2dc41ba5b73a2fbe844c26}{vramBank}}\ ==\ 1\ \&\&\ dest\ >=\ 0x1800);}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01965}01965\ \ \ \ \ \textcolor{keywordtype}{bool}\ changed\ =\ \textcolor{keyword}{false};}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01966}01966\ \ \ \ \ u8\ *page\ =\ \mbox{\hyperlink{mmu_8h_a0f09ea9762f03d69ea68b6c34a0b59d0}{memory}}[src\ >>\ 12];}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01967}01967\ \ \ \ \ \textcolor{keywordtype}{int}\ offset\ =\ src\ \&\ 0xfff;}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01968}01968\ }
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01969}01969\ \ \ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keywordtype}{int}\ i\ =\ 0;\ i\ <\ 16;\ i++)}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01970}01970\ \ \ \ \ \{}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01971}01971\ \ \ \ \ \ \ \ \ u8\ val\ =\ page[offset++];}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01972}01972\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{mmu_8h_a7d0ed1b85995cb654491c9e0958abed2}{vram}}[\mbox{\hyperlink{mmu_8h_adf5f76879a2dc41ba5b73a2fbe844c26}{vramBank}}][dest]\ !=\ val)}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01973}01973\ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01974}01974\ \ \ \ \ \ \ \ \ \ \ \ \ changed\ =\ \textcolor{keyword}{true};}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01975}01975\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (writingToMapFlags)}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01976}01976\ \ \ \ \ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01977}01977\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ u8\ old\ =\ \mbox{\hyperlink{mmu_8h_a7d0ed1b85995cb654491c9e0958abed2}{vram}}[\mbox{\hyperlink{mmu_8h_adf5f76879a2dc41ba5b73a2fbe844c26}{vramBank}}][dest];}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01978}01978\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{gbgfx_8cpp_a1e800a6a0ab719ff1af9a81efd02877a}{map}}\ =\ (dest\ -\/\ 0x1800)\ /\ 0x400;}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01979}01979\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ ((val\ \&\ 0x80)\ \&\&\ !(old\ \&\ 0x80))}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01980}01980\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{gbgfx_8cpp_a3b35e4c59fbe530ccfd4fc14c5d4c265}{usingTilePriority}}[\mbox{\hyperlink{gbgfx_8cpp_a1e800a6a0ab719ff1af9a81efd02877a}{map}}]++;}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01981}01981\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{else}\ \textcolor{keywordflow}{if}\ (!(val\ \&\ 0x80)\ \&\&\ (old\ \&\ 0x80))}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01982}01982\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{gbgfx_8cpp_a3b35e4c59fbe530ccfd4fc14c5d4c265}{usingTilePriority}}[\mbox{\hyperlink{gbgfx_8cpp_a1e800a6a0ab719ff1af9a81efd02877a}{map}}]-\/-\/;}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01983}01983\ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01984}01984\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{mmu_8h_a7d0ed1b85995cb654491c9e0958abed2}{vram}}[\mbox{\hyperlink{mmu_8h_adf5f76879a2dc41ba5b73a2fbe844c26}{vramBank}}][dest]\ =\ val;}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01985}01985\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01986}01986\ \ \ \ \ \ \ \ \ dest++;}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01987}01987\ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01988}01988\ \ \ \ \ \textcolor{keywordflow}{if}\ (!changed)}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01989}01989\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return};}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01990}01990\ \ \ \ \ dest\ -\/=\ 16;}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01991}01991\ }
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01992}01992\ \ \ \ \ \textcolor{keywordflow}{if}\ (dest\ <\ 0x1800)}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01993}01993\ \ \ \ \ \{}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01994}01994\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{int}\ tileNum\ =\ dest\ /\ 16;}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01995}01995\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{mmu_8h_a7436ad149c3b3f2974966d6b546d14d9}{ioRam}}[0x44]\ <\ 144)}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01996}01996\ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01997}01997\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (!\mbox{\hyperlink{gbgfx_8cpp_af36bd9924bc4a1c5da12c77c46713f4c}{changedTileInFrame}}[\mbox{\hyperlink{mmu_8h_adf5f76879a2dc41ba5b73a2fbe844c26}{vramBank}}][tileNum])}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01998}01998\ \ \ \ \ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l01999}01999\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{gbgfx_8cpp_af36bd9924bc4a1c5da12c77c46713f4c}{changedTileInFrame}}[\mbox{\hyperlink{mmu_8h_adf5f76879a2dc41ba5b73a2fbe844c26}{vramBank}}][tileNum]\ =\ \textcolor{keyword}{true};}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l02000}02000\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{gbgfx_8cpp_ae569c6094981c38d5e0754f2dae61816}{changedTileInFrameQueue}}[\mbox{\hyperlink{gbgfx_8cpp_adb7a4f818a75d747ae51e6b16dbe623f}{changedTileInFrameQueueLength}}++]\ =\ tileNum\ |\ (\mbox{\hyperlink{mmu_8h_adf5f76879a2dc41ba5b73a2fbe844c26}{vramBank}}\ <<\ 9);}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l02001}02001\ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l02002}02002\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l02003}02003\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{else}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l02004}02004\ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l02005}02005\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (!\mbox{\hyperlink{gbgfx_8cpp_a542811a076e55daa66e05901298fc57a}{changedTile}}[\mbox{\hyperlink{mmu_8h_adf5f76879a2dc41ba5b73a2fbe844c26}{vramBank}}][tileNum])}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l02006}02006\ \ \ \ \ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l02007}02007\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{gbgfx_8cpp_a542811a076e55daa66e05901298fc57a}{changedTile}}[\mbox{\hyperlink{mmu_8h_adf5f76879a2dc41ba5b73a2fbe844c26}{vramBank}}][tileNum]\ =\ \textcolor{keyword}{true};}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l02008}02008\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{gbgfx_8cpp_ade2d99a4b9f321c5dcb857b655c91f48}{changedTileQueue}}[\mbox{\hyperlink{gbgfx_8cpp_a45834c0f350c7bfbd7657d32bcf42d43}{changedTileQueueLength}}++]\ =\ tileNum\ |\ (\mbox{\hyperlink{mmu_8h_adf5f76879a2dc41ba5b73a2fbe844c26}{vramBank}}\ <<\ 9);}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l02009}02009\ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l02010}02010\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l02011}02011\ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l02012}02012\ \ \ \ \ \textcolor{keywordflow}{else}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l02013}02013\ \ \ \ \ \{}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l02014}02014\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{gbgfx_8cpp_a1e800a6a0ab719ff1af9a81efd02877a}{map}}\ =\ (dest\ -\/\ 0x1800)\ /\ 0x400;}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l02015}02015\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keywordtype}{int}\ i\ =\ 0;\ i\ <\ 16;\ i++)}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l02016}02016\ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l02017}02017\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{int}\ tile\ =\ (dest\ +\ i)\ \&\ 0x3ff;}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l02018}02018\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (!\mbox{\hyperlink{gbgfx_8cpp_a7a79512469ed835be49735d7e6233390}{changedMap}}[\mbox{\hyperlink{gbgfx_8cpp_a1e800a6a0ab719ff1af9a81efd02877a}{map}}][tile])}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l02019}02019\ \ \ \ \ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l02020}02020\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{gbgfx_8cpp_a7a79512469ed835be49735d7e6233390}{changedMap}}[\mbox{\hyperlink{gbgfx_8cpp_a1e800a6a0ab719ff1af9a81efd02877a}{map}}][tile]\ =\ \textcolor{keyword}{true};}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l02021}02021\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{gbgfx_8cpp_a9d36dda4f8424acfa6e750cbb86fac06}{changedMapQueue}}[\mbox{\hyperlink{gbgfx_8cpp_a1e800a6a0ab719ff1af9a81efd02877a}{map}}][\mbox{\hyperlink{gbgfx_8cpp_aad42beb02a7313afa3778db5e804f851}{changedMapQueueLength}}[\mbox{\hyperlink{gbgfx_8cpp_a1e800a6a0ab719ff1af9a81efd02877a}{map}}]++]\ =\ tile;}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l02022}02022\ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l02023}02023\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l02024}02024\ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l02025}02025\ \}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l02026}02026\ }
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l02039}\mbox{\hyperlink{gbgfx_8cpp_a73afcb774f607a0031a6877ab3059fd3}{02039}}\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{gbgfx_8cpp_a73afcb774f607a0031a6877ab3059fd3}{updateTiles}}()}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l02040}02040\ \{}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l02041}02041\ \ \ \ \ \textcolor{keywordflow}{while}\ (\mbox{\hyperlink{gbgfx_8cpp_a45834c0f350c7bfbd7657d32bcf42d43}{changedTileQueueLength}}\ >\ 0)}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l02042}02042\ \ \ \ \ \{}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l02043}02043\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{int}\ val\ =\ \mbox{\hyperlink{gbgfx_8cpp_ade2d99a4b9f321c5dcb857b655c91f48}{changedTileQueue}}[-\/-\/\mbox{\hyperlink{gbgfx_8cpp_a45834c0f350c7bfbd7657d32bcf42d43}{changedTileQueueLength}}];}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l02044}02044\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{int}\ bank\ =\ val\ >>\ 9,\ tile\ =\ val\ \&\ 0x1ff;}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l02045}02045\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{gbgfx_8cpp_a8c19f928b2c7863839f14f5609538afd}{drawTile}}(tile,\ bank);}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l02046}02046\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{gbgfx_8cpp_a542811a076e55daa66e05901298fc57a}{changedTile}}[bank][tile]\ =\ \textcolor{keyword}{false};}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l02047}02047\ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l02048}02048\ \ \ \ \ \textcolor{comment}{//\ copy\ "{}changedTileInFrame"{}\ to\ "{}changedTile"{},\ where\ they'll\ be\ applied\ next}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l02049}02049\ \ \ \ \ \textcolor{comment}{//\ frame.}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l02050}02050\ \ \ \ \ \textcolor{keywordflow}{while}\ (\mbox{\hyperlink{gbgfx_8cpp_adb7a4f818a75d747ae51e6b16dbe623f}{changedTileInFrameQueueLength}}\ >\ 0)}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l02051}02051\ \ \ \ \ \{}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l02052}02052\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{int}\ val\ =\ \mbox{\hyperlink{gbgfx_8cpp_ae569c6094981c38d5e0754f2dae61816}{changedTileInFrameQueue}}[-\/-\/\mbox{\hyperlink{gbgfx_8cpp_adb7a4f818a75d747ae51e6b16dbe623f}{changedTileInFrameQueueLength}}];}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l02053}02053\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{int}\ bank\ =\ val\ >>\ 9,\ tile\ =\ val\ \&\ 0x1ff;}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l02054}02054\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{gbgfx_8cpp_af36bd9924bc4a1c5da12c77c46713f4c}{changedTileInFrame}}[bank][tile]\ =\ \textcolor{keyword}{false};}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l02055}02055\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{gbgfx_8cpp_a542811a076e55daa66e05901298fc57a}{changedTile}}[bank][tile]\ =\ \textcolor{keyword}{true};}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l02056}02056\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{gbgfx_8cpp_ade2d99a4b9f321c5dcb857b655c91f48}{changedTileQueue}}[\mbox{\hyperlink{gbgfx_8cpp_a45834c0f350c7bfbd7657d32bcf42d43}{changedTileQueueLength}}++]\ =\ val;}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l02057}02057\ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l02058}02058\ \}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l02059}02059\ }
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l02071}\mbox{\hyperlink{gbgfx_8cpp_a9a8e94462dd86825fa22f6a3a145862e}{02071}}\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{gbgfx_8cpp_a9a8e94462dd86825fa22f6a3a145862e}{updateBgPalette}}(\textcolor{keywordtype}{int}\ paletteid,\ u8\ *data,\ u8\ dmgPal)}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l02072}02072\ \{}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l02073}02073\ \ \ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keywordtype}{int}\ i\ =\ 0;\ i\ <\ 4;\ i++)}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l02074}02074\ \ \ \ \ \{}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l02075}02075\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{int}\ \textcolor{keywordtype}{id}\ =\ (dmgPal\ >>\ (i\ *\ 2))\ \&\ 3;}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l02076}02076\ }
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l02077}02077\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ Set\ the\ new\ color\ values\ for\ each\ palette\ index}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l02078}02078\ \ \ \ \ \ \ \ \ BG\_PALETTE[((paletteid)*16)\ +\ i\ +\ 1]\ =\ data[(paletteid\ *\ 8)\ +\ (\textcolor{keywordtype}{id}\ *\ 2)]\ |\ data[(paletteid\ *\ 8)\ +\ (\textcolor{keywordtype}{id}\ *\ 2)\ +\ 1]\ <<\ 8;}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l02079}02079\ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l02080}02080\ \}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l02081}02081\ }
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l02090}\mbox{\hyperlink{gbgfx_8cpp_a1214c2484459d4a461f437e67a072694}{02090}}\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{gbgfx_8cpp_a1214c2484459d4a461f437e67a072694}{updateBgPalette\_GBC}}(\textcolor{keywordtype}{int}\ paletteid,\ u8\ *data)}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l02091}02091\ \{}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l02092}02092\ \ \ \ \ \textcolor{comment}{//\ Compute\ the\ destination\ and\ source\ pointers.}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l02093}02093\ \ \ \ \ u16\ *dest\ =\ BG\_PALETTE\ +\ paletteid\ *\ 16\ +\ 1;}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l02094}02094\ \ \ \ \ u16\ *src\ =\ ((u16\ *)data)\ +\ paletteid\ *\ 4;}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l02095}02095\ }
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l02096}02096\ \ \ \ \ \textcolor{comment}{//\ Update\ the\ palette\ with\ the\ specified\ data.}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l02097}02097\ \ \ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keywordtype}{int}\ i\ =\ 0;\ i\ <\ 4;\ i++)}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l02098}02098\ \ \ \ \ \ \ \ \ *(dest++)\ =\ *(src++);}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l02099}02099\ \}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l02100}02100\ }
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l02107}\mbox{\hyperlink{gbgfx_8cpp_a69f15ee8d4cda930e01bfe3e42bbd66a}{02107}}\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{gbgfx_8cpp_a69f15ee8d4cda930e01bfe3e42bbd66a}{updateSprPalette}}(\textcolor{keywordtype}{int}\ paletteid,\ u8\ *data,\ u8\ dmgPal)}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l02108}02108\ \{}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l02109}02109\ \ \ \ \ \textcolor{keywordtype}{int}\ src\ =\ paletteid;}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l02110}02110\ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{gameboy_8h_af3ddfcff387d53e03211aeaa7a0c14ef}{gbMode}}\ ==\ \mbox{\hyperlink{gbcpu_8h_a44172ac633c517cb4c9e278cef36b000}{GB}}\ \&\&\ paletteid\ >=\ 4)\ \textcolor{comment}{//\ Check\ if\ we're\ in\ SGB\ mode\ and\ adjust\ the\ source\ ID\ if\ necessary}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l02111}02111\ \ \ \ \ \ \ \ \ src\ -\/=\ 4;}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l02112}02112\ \ \ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keywordtype}{int}\ i\ =\ 0;\ i\ <\ 4;\ i++)}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l02113}02113\ \ \ \ \ \{}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l02114}02114\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{int}\ id;}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l02115}02115\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{gameboy_8h_af3ddfcff387d53e03211aeaa7a0c14ef}{gbMode}}\ ==\ \mbox{\hyperlink{gbcpu_8h_a44172ac633c517cb4c9e278cef36b000}{GB}})\ \textcolor{comment}{//\ Check\ if\ we're\ in\ DMG\ or\ CGB\ mode}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l02116}02116\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{id}\ =\ (dmgPal\ >>\ (i\ *\ 2))\ \&\ 3;\ \textcolor{comment}{//\ Get\ the\ DMG\ color\ ID}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l02117}02117\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{else}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l02118}02118\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{id}\ =\ i;\ \textcolor{comment}{//\ Use\ the\ CGB\ color\ ID}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l02119}02119\ }
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l02120}02120\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ Update\ the\ sprite\ palette\ with\ the\ new\ color\ values}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l02121}02121\ \ \ \ \ \ \ \ \ SPRITE\_PALETTE[((paletteid)*16)\ +\ i]\ =\ data[(src\ *\ 8)\ +\ (\textcolor{keywordtype}{id}\ *\ 2)]\ |\ data[(src\ *\ 8)\ +\ (\textcolor{keywordtype}{id}\ *\ 2)\ +\ 1]\ <<\ 8;}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l02122}02122\ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l02123}02123\ \}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l02124}02124\ }
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l02125}02125\ }
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l02144}\mbox{\hyperlink{gbgfx_8h_ae7573347fba5b70225ad712fc48a679c}{02144}}\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{gbgfx_8cpp_ae7573347fba5b70225ad712fc48a679c}{handleVideoRegister}}(u8\ ioReg,\ u8\ val)}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l02145}02145\ \{}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l02146}02146\ \ \ \ \ \textcolor{keywordflow}{switch}\ (ioReg)}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l02147}02147\ \ \ \ \ \{}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l02148}02148\ \ \ \ \ \textcolor{keywordflow}{case}\ 0x40:\ \textcolor{comment}{//\ LCDC}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l02149}02149\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ ((val\ \&\ 0x7B)\ !=\ (\mbox{\hyperlink{mmu_8h_a7436ad149c3b3f2974966d6b546d14d9}{ioRam}}[0x40]\ \&\ 0x7B))}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l02150}02150\ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l02151}02151\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{gbgfx_8cpp_a5823f3af2c35fce45f1b50d16a313df4}{lineModified}}\ =\ \textcolor{keyword}{true};}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l02152}02152\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{gbgfx_8cpp_a6d8811638f07e4ef3353977efe34c68b}{mapsModified}}\ =\ \textcolor{keyword}{true};}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l02153}02153\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l02154}02154\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ ((val\ \&\ 4)\ !=\ (\mbox{\hyperlink{mmu_8h_a7436ad149c3b3f2974966d6b546d14d9}{ioRam}}[0x40]\ \&\ 4))}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l02155}02155\ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l02156}02156\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{gbgfx_8cpp_a5823f3af2c35fce45f1b50d16a313df4}{lineModified}}\ =\ \textcolor{keyword}{true};}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l02157}02157\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{gbgfx_8cpp_a270d6ce2a8e0be18c9b587c22bd0a9b6}{spritesModified}}\ =\ \textcolor{keyword}{true};}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l02158}02158\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l02159}02159\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{mmu_8h_a7436ad149c3b3f2974966d6b546d14d9}{ioRam}}[0x40]\ =\ val;}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l02160}02160\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (!(val\ \&\ 0x80))}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l02161}02161\ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l02162}02162\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{mmu_8h_a7436ad149c3b3f2974966d6b546d14d9}{ioRam}}[0x44]\ =\ 0;}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l02163}02163\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{mmu_8h_a7436ad149c3b3f2974966d6b546d14d9}{ioRam}}[0x41]\ \&=\ \string~3;\ \textcolor{comment}{//\ Set\ video\ mode\ 0}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l02164}02164\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l02165}02165\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return};}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l02166}02166\ \ \ \ \ \textcolor{keywordflow}{case}\ 0x46:\ \textcolor{comment}{//\ DMA}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l02167}02167\ \ \ \ \ \{}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l02168}02168\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{int}\ src\ =\ val\ <<\ 8;}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l02169}02169\ \ \ \ \ \ \ \ \ u8\ *mem\ =\ \mbox{\hyperlink{mmu_8h_a0f09ea9762f03d69ea68b6c34a0b59d0}{memory}}[src\ >>\ 12];}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l02170}02170\ \ \ \ \ \ \ \ \ src\ \&=\ 0xfff;}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l02171}02171\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keywordtype}{int}\ i\ =\ 0;\ i\ <\ 0xA0;\ i++)}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l02172}02172\ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l02173}02173\ \ \ \ \ \ \ \ \ \ \ \ \ u8\ val\ =\ mem[src++];}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l02174}02174\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{mmu_8h_ac883c44820bf261155e8eb1dc1e6160f}{hram}}[i]\ =\ val;}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l02175}02175\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l02176}02176\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{gbgfx_8cpp_a5823f3af2c35fce45f1b50d16a313df4}{lineModified}}\ =\ \textcolor{keyword}{true};}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l02177}02177\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{gbgfx_8cpp_a270d6ce2a8e0be18c9b587c22bd0a9b6}{spritesModified}}\ =\ \textcolor{keyword}{true};}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l02178}02178\ }
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l02179}02179\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{mmu_8h_a7436ad149c3b3f2974966d6b546d14d9}{ioRam}}[ioReg]\ =\ val;}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l02180}02180\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ printLog("{}dma\ write\ \%d\(\backslash\)n"{},\ ioRam[0x44]);}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l02181}02181\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return};}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l02182}02182\ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l02183}02183\ \ \ \ \ \textcolor{keywordflow}{case}\ 0x42:}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l02184}02184\ \ \ \ \ \textcolor{keywordflow}{case}\ 0x43:}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l02185}02185\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (val\ !=\ \mbox{\hyperlink{mmu_8h_a7436ad149c3b3f2974966d6b546d14d9}{ioRam}}[ioReg])}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l02186}02186\ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l02187}02187\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{mmu_8h_a7436ad149c3b3f2974966d6b546d14d9}{ioRam}}[ioReg]\ =\ val;}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l02188}02188\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{gbgfx_8cpp_a5823f3af2c35fce45f1b50d16a313df4}{lineModified}}\ =\ \textcolor{keyword}{true};}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l02189}02189\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{gbgfx_8cpp_a6d8811638f07e4ef3353977efe34c68b}{mapsModified}}\ =\ \textcolor{keyword}{true};}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l02190}02190\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l02191}02191\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{break};}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l02192}02192\ \ \ \ \ \textcolor{keywordflow}{case}\ 0x4B:\ \textcolor{comment}{//\ winX}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l02193}02193\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (val\ !=\ \mbox{\hyperlink{mmu_8h_a7436ad149c3b3f2974966d6b546d14d9}{ioRam}}[ioReg])}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l02194}02194\ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l02195}02195\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{mmu_8h_a7436ad149c3b3f2974966d6b546d14d9}{ioRam}}[ioReg]\ =\ val;}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l02196}02196\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l02197}02197\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{break};}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l02198}02198\ \ \ \ \ \textcolor{keywordflow}{case}\ 0x4A:\ \textcolor{comment}{//\ winY}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l02199}02199\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{mmu_8h_a7436ad149c3b3f2974966d6b546d14d9}{ioRam}}[0x44]\ >=\ 144\ ||\ val\ >\ \mbox{\hyperlink{mmu_8h_a7436ad149c3b3f2974966d6b546d14d9}{ioRam}}[0x44])}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l02200}02200\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{gbgfx_8cpp_adf5931a286627b99da8d76dc7eb033df}{winPosY}}\ =\ -\/1;}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l02201}02201\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{else}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l02202}02202\ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l02203}02203\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ Signal\ that\ winPosY\ must\ be\ reset\ according\ to\ winY}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l02204}02204\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{gbgfx_8cpp_adf5931a286627b99da8d76dc7eb033df}{winPosY}}\ =\ -\/2;}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l02205}02205\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l02206}02206\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{gbgfx_8cpp_a5823f3af2c35fce45f1b50d16a313df4}{lineModified}}\ =\ \textcolor{keyword}{true};}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l02207}02207\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{gbgfx_8cpp_a6d8811638f07e4ef3353977efe34c68b}{mapsModified}}\ =\ \textcolor{keyword}{true};}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l02208}02208\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{mmu_8h_a7436ad149c3b3f2974966d6b546d14d9}{ioRam}}[ioReg]\ =\ val;}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l02209}02209\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{break};}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l02210}02210\ \ \ \ \ \textcolor{keywordflow}{case}\ 0x47:\ \textcolor{comment}{//\ BG\ Palette\ (GB\ classic\ only)}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l02211}02211\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{gameboy_8h_af3ddfcff387d53e03211aeaa7a0c14ef}{gbMode}}\ ==\ \mbox{\hyperlink{gbcpu_8h_a44172ac633c517cb4c9e278cef36b000}{GB}}\ \&\&\ \mbox{\hyperlink{mmu_8h_a7436ad149c3b3f2974966d6b546d14d9}{ioRam}}[0x47]\ !=\ val)}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l02212}02212\ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l02213}02213\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{gbgfx_8cpp_a5823f3af2c35fce45f1b50d16a313df4}{lineModified}}\ =\ \textcolor{keyword}{true};}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l02214}02214\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{gbgfx_8cpp_a751160e1702627464ad6b4d6d063a655}{bgPalettesModified}}\ =\ \textcolor{keyword}{true};}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l02215}02215\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l02216}02216\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{mmu_8h_a7436ad149c3b3f2974966d6b546d14d9}{ioRam}}[0x47]\ =\ val;}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l02217}02217\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return};}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l02218}02218\ \ \ \ \ \textcolor{keywordflow}{case}\ 0x48:\ \textcolor{comment}{//\ Spr\ Palette\ (GB\ classic\ only)}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l02219}02219\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{gameboy_8h_af3ddfcff387d53e03211aeaa7a0c14ef}{gbMode}}\ ==\ \mbox{\hyperlink{gbcpu_8h_a44172ac633c517cb4c9e278cef36b000}{GB}}\ \&\&\ \mbox{\hyperlink{mmu_8h_a7436ad149c3b3f2974966d6b546d14d9}{ioRam}}[0x48]\ !=\ val)}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l02220}02220\ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l02221}02221\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{gbgfx_8cpp_a5823f3af2c35fce45f1b50d16a313df4}{lineModified}}\ =\ \textcolor{keyword}{true};}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l02222}02222\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{gbgfx_8cpp_a7bdc492b1884bde1b603abce41cde89e}{sprPalettesModified}}\ =\ \textcolor{keyword}{true};}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l02223}02223\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l02224}02224\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{mmu_8h_a7436ad149c3b3f2974966d6b546d14d9}{ioRam}}[0x48]\ =\ val;}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l02225}02225\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return};}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l02226}02226\ \ \ \ \ \textcolor{keywordflow}{case}\ 0x49:\ \textcolor{comment}{//\ Spr\ Palette\ (GB\ classic\ only)}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l02227}02227\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{gameboy_8h_af3ddfcff387d53e03211aeaa7a0c14ef}{gbMode}}\ ==\ \mbox{\hyperlink{gbcpu_8h_a44172ac633c517cb4c9e278cef36b000}{GB}}\ \&\&\ \mbox{\hyperlink{mmu_8h_a7436ad149c3b3f2974966d6b546d14d9}{ioRam}}[0x49]\ !=\ val)}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l02228}02228\ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l02229}02229\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{gbgfx_8cpp_a5823f3af2c35fce45f1b50d16a313df4}{lineModified}}\ =\ \textcolor{keyword}{true};}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l02230}02230\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{gbgfx_8cpp_a7bdc492b1884bde1b603abce41cde89e}{sprPalettesModified}}\ =\ \textcolor{keyword}{true};}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l02231}02231\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l02232}02232\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{mmu_8h_a7436ad149c3b3f2974966d6b546d14d9}{ioRam}}[0x49]\ =\ val;}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l02233}02233\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return};}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l02234}02234\ \ \ \ \ \textcolor{keywordflow}{case}\ 0x69:\ \textcolor{comment}{//\ BG\ Palette\ Data\ (GBC\ only)}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l02235}02235\ \ \ \ \ \{}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l02236}02236\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{int}\ index\ =\ \mbox{\hyperlink{mmu_8h_a7436ad149c3b3f2974966d6b546d14d9}{ioRam}}[0x68]\ \&\ 0x3F;}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l02237}02237\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{gbgfx_8h_a254d3c52c2ae7fff61e52168c0c37e86}{bgPaletteData}}[index]\ !=\ val)}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l02238}02238\ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l02239}02239\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{gbgfx_8h_a254d3c52c2ae7fff61e52168c0c37e86}{bgPaletteData}}[index]\ =\ val;}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l02240}02240\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{gbgfx_8cpp_a5823f3af2c35fce45f1b50d16a313df4}{lineModified}}\ =\ \textcolor{keyword}{true};}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l02241}02241\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{gbgfx_8cpp_a751160e1702627464ad6b4d6d063a655}{bgPalettesModified}}\ =\ \textcolor{keyword}{true};}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l02242}02242\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l02243}02243\ }
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l02244}02244\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{mmu_8h_a7436ad149c3b3f2974966d6b546d14d9}{ioRam}}[0x68]\ \&\ 0x80)}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l02245}02245\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{mmu_8h_a7436ad149c3b3f2974966d6b546d14d9}{ioRam}}[0x68]\ =\ 0x80\ |\ (\mbox{\hyperlink{mmu_8h_a7436ad149c3b3f2974966d6b546d14d9}{ioRam}}[0x68]\ +\ 1);}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l02246}02246\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{mmu_8h_a7436ad149c3b3f2974966d6b546d14d9}{ioRam}}[0x69]\ =\ \mbox{\hyperlink{gbgfx_8h_a254d3c52c2ae7fff61e52168c0c37e86}{bgPaletteData}}[\mbox{\hyperlink{mmu_8h_a7436ad149c3b3f2974966d6b546d14d9}{ioRam}}[0x68]\ \&\ 0x3F];}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l02247}02247\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return};}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l02248}02248\ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l02249}02249\ \ \ \ \ \textcolor{keywordflow}{case}\ 0x6B:\ \textcolor{comment}{//\ Sprite\ Palette\ Data\ (GBC\ only)}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l02250}02250\ \ \ \ \ \{}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l02251}02251\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{int}\ index\ =\ \mbox{\hyperlink{mmu_8h_a7436ad149c3b3f2974966d6b546d14d9}{ioRam}}[0x6A]\ \&\ 0x3F;}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l02252}02252\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{gbgfx_8h_ac22d8f92fe46c2fe4681159f06c6192a}{sprPaletteData}}[index]\ !=\ val)}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l02253}02253\ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l02254}02254\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{gbgfx_8h_ac22d8f92fe46c2fe4681159f06c6192a}{sprPaletteData}}[index]\ =\ val;}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l02255}02255\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{gbgfx_8cpp_a5823f3af2c35fce45f1b50d16a313df4}{lineModified}}\ =\ \textcolor{keyword}{true};}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l02256}02256\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{gbgfx_8cpp_a7bdc492b1884bde1b603abce41cde89e}{sprPalettesModified}}\ =\ \textcolor{keyword}{true};}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l02257}02257\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l02258}02258\ }
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l02259}02259\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{mmu_8h_a7436ad149c3b3f2974966d6b546d14d9}{ioRam}}[0x6A]\ \&\ 0x80)}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l02260}02260\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{mmu_8h_a7436ad149c3b3f2974966d6b546d14d9}{ioRam}}[0x6A]\ =\ 0x80\ |\ (\mbox{\hyperlink{mmu_8h_a7436ad149c3b3f2974966d6b546d14d9}{ioRam}}[0x6A]\ +\ 1);}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l02261}02261\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{mmu_8h_a7436ad149c3b3f2974966d6b546d14d9}{ioRam}}[0x6B]\ =\ \mbox{\hyperlink{gbgfx_8h_ac22d8f92fe46c2fe4681159f06c6192a}{sprPaletteData}}[\mbox{\hyperlink{mmu_8h_a7436ad149c3b3f2974966d6b546d14d9}{ioRam}}[0x6A]\ \&\ 0x3F];}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l02262}02262\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return};}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l02263}02263\ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l02264}02264\ \ \ \ \ \textcolor{keywordflow}{default}:}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l02265}02265\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{mmu_8h_a7436ad149c3b3f2974966d6b546d14d9}{ioRam}}[ioReg]\ =\ val;}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l02266}02266\ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l02267}02267\ \}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l02268}02268\ }
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l02275}\mbox{\hyperlink{gbgfx_8h_a496cd2cdb3d9a1f4ca5bf45325ebdc0a}{02275}}\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{gbgfx_8cpp_a496cd2cdb3d9a1f4ca5bf45325ebdc0a}{writeHram}}(u16\ addr,\ u8\ val)}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l02276}02276\ \{}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l02277}02277\ \ \ \ \ \textcolor{comment}{//\ Only\ use\ the\ lower\ 9\ bits\ of\ the\ address,\ as\ that's\ all\ that\ exists\ in\ HRAM.}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l02278}02278\ \ \ \ \ \mbox{\hyperlink{mmu_8h_ac883c44820bf261155e8eb1dc1e6160f}{hram}}[addr\ \&\ 0x1ff]\ =\ val;}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l02279}02279\ }
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l02280}02280\ \ \ \ \ \textcolor{comment}{//\ Indicate\ that\ the\ current\ line\ and\ sprites\ have\ been\ modified.}}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l02281}02281\ \ \ \ \ \mbox{\hyperlink{gbgfx_8cpp_a5823f3af2c35fce45f1b50d16a313df4}{lineModified}}\ =\ \textcolor{keyword}{true};}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l02282}02282\ \ \ \ \ \mbox{\hyperlink{gbgfx_8cpp_a270d6ce2a8e0be18c9b587c22bd0a9b6}{spritesModified}}\ =\ \textcolor{keyword}{true};}
\DoxyCodeLine{\Hypertarget{gbgfx_8cpp_source_l02283}02283\ \}}

\end{DoxyCode}
