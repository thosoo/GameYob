\hypertarget{nifi_8cpp}{}\doxysection{arm9/source/nifi.cpp File Reference}
\label{nifi_8cpp}\index{arm9/source/nifi.cpp@{arm9/source/nifi.cpp}}
{\ttfamily \#include $<$nds.\+h$>$}\newline
{\ttfamily \#include $<$dswifi9.\+h$>$}\newline
{\ttfamily \#include \char`\"{}nifi.\+h\char`\"{}}\newline
{\ttfamily \#include \char`\"{}mmu.\+h\char`\"{}}\newline
{\ttfamily \#include \char`\"{}main.\+h\char`\"{}}\newline
{\ttfamily \#include \char`\"{}gameboy.\+h\char`\"{}}\newline
{\ttfamily \#include \char`\"{}gbcpu.\+h\char`\"{}}\newline
{\ttfamily \#include \char`\"{}console.\+h\char`\"{}}\newline
\doxysubsection*{Functions}
\begin{DoxyCompactItemize}
\item 
void \mbox{\hyperlink{nifi_8cpp_a6032d06d5f744388648e419cebebe9e0}{transfer\+Waiting\+Timeout\+Func}} ()
\begin{DoxyCompactList}\small\item\em Timeout function for handling transfer waiting events. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{nifi_8cpp_a89d48aea186569f8e88ff1c343ac2e89}{packet\+Handler}} (int packet\+ID, int readlength)
\begin{DoxyCompactList}\small\item\em Packet handler function for processing received packets. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{nifi_8cpp_a0a7f425c3694fcef721d52ab5b6a4442}{enable\+Nifi}} ()
\begin{DoxyCompactList}\small\item\em Enables nifi and configures the Wi-\/\+Fi for communication. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{nifi_8cpp_ae9d355d8f542fe7b2706f431ca07980e}{disable\+Nifi}} ()
\begin{DoxyCompactList}\small\item\em Disables nifi and the Wi-\/\+Fi communication. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{nifi_8cpp_a1af7ebf46963e53f2031c91462b5be3d}{send\+Packet\+Byte}} (u8 command, u8 data)
\begin{DoxyCompactList}\small\item\em Sends a packet byte over the network with the specified command and data. \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsection*{Variables}
\begin{DoxyCompactItemize}
\item 
volatile int \mbox{\hyperlink{nifi_8cpp_acc98586687db446cc7631f248dabaedd}{link\+Received\+Data}} = -\/1
\item 
volatile int \mbox{\hyperlink{nifi_8cpp_a8e7ddfa9e5a06dc39e71eeab5da1b978}{link\+Send\+Data}}
\item 
volatile bool \mbox{\hyperlink{nifi_8cpp_a952691097c89a5372cef7aa31056c5f2}{transfer\+Waiting}} = false
\item 
volatile bool \mbox{\hyperlink{nifi_8cpp_acd7fc5e1db44e8f8b10a5fd45df53aa1}{transfer\+Ready}} = false
\item 
volatile int \mbox{\hyperlink{nifi_8cpp_a986667ac77a6f03db6e0bb203903b6be}{nifi\+Sendid}} = 0
\item 
bool \mbox{\hyperlink{nifi_8cpp_af3c60f1353a1aaf418c586a59ea8c1ef}{nifi\+Enabled}} = true
\item 
volatile bool \mbox{\hyperlink{nifi_8cpp_abb8418646a406d658a3fec6889104e0b}{ready\+To\+Send}} = true
\item 
int \mbox{\hyperlink{nifi_8cpp_a17909fff7a4656be0bc1765c8e628acb}{last\+Sendid}} = 0xff
\end{DoxyCompactItemize}


\doxysubsection{Function Documentation}
\mbox{\Hypertarget{nifi_8cpp_ae9d355d8f542fe7b2706f431ca07980e}\label{nifi_8cpp_ae9d355d8f542fe7b2706f431ca07980e}} 
\index{nifi.cpp@{nifi.cpp}!disableNifi@{disableNifi}}
\index{disableNifi@{disableNifi}!nifi.cpp@{nifi.cpp}}
\doxysubsubsection{\texorpdfstring{disableNifi()}{disableNifi()}}
{\footnotesize\ttfamily void disable\+Nifi (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}



Disables nifi and the Wi-\/\+Fi communication. 

This function disables the Wi-\/\+Fi and sets the nifi\+Enabled flag to false. 

Definition at line \mbox{\hyperlink{nifi_8cpp_source_l00191}{191}} of file \mbox{\hyperlink{nifi_8cpp_source}{nifi.\+cpp}}.

\mbox{\Hypertarget{nifi_8cpp_a0a7f425c3694fcef721d52ab5b6a4442}\label{nifi_8cpp_a0a7f425c3694fcef721d52ab5b6a4442}} 
\index{nifi.cpp@{nifi.cpp}!enableNifi@{enableNifi}}
\index{enableNifi@{enableNifi}!nifi.cpp@{nifi.cpp}}
\doxysubsubsection{\texorpdfstring{enableNifi()}{enableNifi()}}
{\footnotesize\ttfamily void enable\+Nifi (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}



Enables nifi and configures the Wi-\/\+Fi for communication. 

This function initializes the Wi-\/\+Fi with default settings, sets it to promiscuous mode, enables Wi-\/\+Fi, and sets a custom packet handler. It also sets the Wi-\/\+Fi channel and enables nifi for communication. 

Definition at line \mbox{\hyperlink{nifi_8cpp_source_l00154}{154}} of file \mbox{\hyperlink{nifi_8cpp_source}{nifi.\+cpp}}.

\mbox{\Hypertarget{nifi_8cpp_a89d48aea186569f8e88ff1c343ac2e89}\label{nifi_8cpp_a89d48aea186569f8e88ff1c343ac2e89}} 
\index{nifi.cpp@{nifi.cpp}!packetHandler@{packetHandler}}
\index{packetHandler@{packetHandler}!nifi.cpp@{nifi.cpp}}
\doxysubsubsection{\texorpdfstring{packetHandler()}{packetHandler()}}
{\footnotesize\ttfamily void packet\+Handler (\begin{DoxyParamCaption}\item[{int}]{packet\+ID,  }\item[{int}]{readlength }\end{DoxyParamCaption})}



Packet handler function for processing received packets. 

This function is called by the Wi-\/\+Fi library when a packet is received. It reads the packet, checks if it is the correct type, processes the command and data, and handles the received data accordingly.

Wifi\+\_\+\+Rx\+Raw\+Read\+Packet\+: Allows user code to read a packet from within the Wifi\+Packet\+Handler function long packet\+ID\+: a non-\/unique identifier which locates the packet specified in the internal buffer long readlength\+: number of bytes to read (actually reads (number+1)\&$\sim$1 bytes) unsigned short $\ast$ data\+: location for the data to be read into


\begin{DoxyParams}{Parameters}
{\em packet\+ID} & A non-\/unique identifier which locates the packet specified in the internal buffer. \\
\hline
{\em readlength} & Number of bytes to read (actually reads (number+1)\&$\sim$1 bytes). \\
\hline
\end{DoxyParams}


Definition at line \mbox{\hyperlink{nifi_8cpp_source_l00053}{53}} of file \mbox{\hyperlink{nifi_8cpp_source}{nifi.\+cpp}}.

\mbox{\Hypertarget{nifi_8cpp_a1af7ebf46963e53f2031c91462b5be3d}\label{nifi_8cpp_a1af7ebf46963e53f2031c91462b5be3d}} 
\index{nifi.cpp@{nifi.cpp}!sendPacketByte@{sendPacketByte}}
\index{sendPacketByte@{sendPacketByte}!nifi.cpp@{nifi.cpp}}
\doxysubsubsection{\texorpdfstring{sendPacketByte()}{sendPacketByte()}}
{\footnotesize\ttfamily void send\+Packet\+Byte (\begin{DoxyParamCaption}\item[{u8}]{command,  }\item[{u8}]{data }\end{DoxyParamCaption})}



Sends a packet byte over the network with the specified command and data. 

This function sends a packet byte with a specific command and data if nifi is enabled. It constructs a packet and sends it using the Wifi\+\_\+\+Raw\+Tx\+Frame function. It also logs any errors that occur during transmission.


\begin{DoxyParams}{Parameters}
{\em command} & The command to be included in the packet. \\
\hline
{\em data} & The data to be included in the packet. \\
\hline
\end{DoxyParams}


Definition at line \mbox{\hyperlink{nifi_8cpp_source_l00215}{215}} of file \mbox{\hyperlink{nifi_8cpp_source}{nifi.\+cpp}}.

\mbox{\Hypertarget{nifi_8cpp_a6032d06d5f744388648e419cebebe9e0}\label{nifi_8cpp_a6032d06d5f744388648e419cebebe9e0}} 
\index{nifi.cpp@{nifi.cpp}!transferWaitingTimeoutFunc@{transferWaitingTimeoutFunc}}
\index{transferWaitingTimeoutFunc@{transferWaitingTimeoutFunc}!nifi.cpp@{nifi.cpp}}
\doxysubsubsection{\texorpdfstring{transferWaitingTimeoutFunc()}{transferWaitingTimeoutFunc()}}
{\footnotesize\ttfamily void transfer\+Waiting\+Timeout\+Func (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}



Timeout function for handling transfer waiting events. 

This function is called when the transfer waiting timer expires. It sets the transfer\+Waiting flag to false and stops the timer. 

Definition at line \mbox{\hyperlink{nifi_8cpp_source_l00028}{28}} of file \mbox{\hyperlink{nifi_8cpp_source}{nifi.\+cpp}}.



\doxysubsection{Variable Documentation}
\mbox{\Hypertarget{nifi_8cpp_a17909fff7a4656be0bc1765c8e628acb}\label{nifi_8cpp_a17909fff7a4656be0bc1765c8e628acb}} 
\index{nifi.cpp@{nifi.cpp}!lastSendid@{lastSendid}}
\index{lastSendid@{lastSendid}!nifi.cpp@{nifi.cpp}}
\doxysubsubsection{\texorpdfstring{lastSendid}{lastSendid}}
{\footnotesize\ttfamily int last\+Sendid = 0xff}



Definition at line \mbox{\hyperlink{nifi_8cpp_source_l00020}{20}} of file \mbox{\hyperlink{nifi_8cpp_source}{nifi.\+cpp}}.

\mbox{\Hypertarget{nifi_8cpp_acc98586687db446cc7631f248dabaedd}\label{nifi_8cpp_acc98586687db446cc7631f248dabaedd}} 
\index{nifi.cpp@{nifi.cpp}!linkReceivedData@{linkReceivedData}}
\index{linkReceivedData@{linkReceivedData}!nifi.cpp@{nifi.cpp}}
\doxysubsubsection{\texorpdfstring{linkReceivedData}{linkReceivedData}}
{\footnotesize\ttfamily volatile int link\+Received\+Data = -\/1}



Definition at line \mbox{\hyperlink{nifi_8cpp_source_l00010}{10}} of file \mbox{\hyperlink{nifi_8cpp_source}{nifi.\+cpp}}.

\mbox{\Hypertarget{nifi_8cpp_a8e7ddfa9e5a06dc39e71eeab5da1b978}\label{nifi_8cpp_a8e7ddfa9e5a06dc39e71eeab5da1b978}} 
\index{nifi.cpp@{nifi.cpp}!linkSendData@{linkSendData}}
\index{linkSendData@{linkSendData}!nifi.cpp@{nifi.cpp}}
\doxysubsubsection{\texorpdfstring{linkSendData}{linkSendData}}
{\footnotesize\ttfamily volatile int link\+Send\+Data}



Definition at line \mbox{\hyperlink{nifi_8cpp_source_l00011}{11}} of file \mbox{\hyperlink{nifi_8cpp_source}{nifi.\+cpp}}.

\mbox{\Hypertarget{nifi_8cpp_af3c60f1353a1aaf418c586a59ea8c1ef}\label{nifi_8cpp_af3c60f1353a1aaf418c586a59ea8c1ef}} 
\index{nifi.cpp@{nifi.cpp}!nifiEnabled@{nifiEnabled}}
\index{nifiEnabled@{nifiEnabled}!nifi.cpp@{nifi.cpp}}
\doxysubsubsection{\texorpdfstring{nifiEnabled}{nifiEnabled}}
{\footnotesize\ttfamily bool nifi\+Enabled = true}



Definition at line \mbox{\hyperlink{nifi_8cpp_source_l00016}{16}} of file \mbox{\hyperlink{nifi_8cpp_source}{nifi.\+cpp}}.

\mbox{\Hypertarget{nifi_8cpp_a986667ac77a6f03db6e0bb203903b6be}\label{nifi_8cpp_a986667ac77a6f03db6e0bb203903b6be}} 
\index{nifi.cpp@{nifi.cpp}!nifiSendid@{nifiSendid}}
\index{nifiSendid@{nifiSendid}!nifi.cpp@{nifi.cpp}}
\doxysubsubsection{\texorpdfstring{nifiSendid}{nifiSendid}}
{\footnotesize\ttfamily volatile int nifi\+Sendid = 0}



Definition at line \mbox{\hyperlink{nifi_8cpp_source_l00014}{14}} of file \mbox{\hyperlink{nifi_8cpp_source}{nifi.\+cpp}}.

\mbox{\Hypertarget{nifi_8cpp_abb8418646a406d658a3fec6889104e0b}\label{nifi_8cpp_abb8418646a406d658a3fec6889104e0b}} 
\index{nifi.cpp@{nifi.cpp}!readyToSend@{readyToSend}}
\index{readyToSend@{readyToSend}!nifi.cpp@{nifi.cpp}}
\doxysubsubsection{\texorpdfstring{readyToSend}{readyToSend}}
{\footnotesize\ttfamily volatile bool ready\+To\+Send = true}



Definition at line \mbox{\hyperlink{nifi_8cpp_source_l00018}{18}} of file \mbox{\hyperlink{nifi_8cpp_source}{nifi.\+cpp}}.

\mbox{\Hypertarget{nifi_8cpp_acd7fc5e1db44e8f8b10a5fd45df53aa1}\label{nifi_8cpp_acd7fc5e1db44e8f8b10a5fd45df53aa1}} 
\index{nifi.cpp@{nifi.cpp}!transferReady@{transferReady}}
\index{transferReady@{transferReady}!nifi.cpp@{nifi.cpp}}
\doxysubsubsection{\texorpdfstring{transferReady}{transferReady}}
{\footnotesize\ttfamily volatile bool transfer\+Ready = false}



Definition at line \mbox{\hyperlink{nifi_8cpp_source_l00013}{13}} of file \mbox{\hyperlink{nifi_8cpp_source}{nifi.\+cpp}}.

\mbox{\Hypertarget{nifi_8cpp_a952691097c89a5372cef7aa31056c5f2}\label{nifi_8cpp_a952691097c89a5372cef7aa31056c5f2}} 
\index{nifi.cpp@{nifi.cpp}!transferWaiting@{transferWaiting}}
\index{transferWaiting@{transferWaiting}!nifi.cpp@{nifi.cpp}}
\doxysubsubsection{\texorpdfstring{transferWaiting}{transferWaiting}}
{\footnotesize\ttfamily volatile bool transfer\+Waiting = false}



Definition at line \mbox{\hyperlink{nifi_8cpp_source_l00012}{12}} of file \mbox{\hyperlink{nifi_8cpp_source}{nifi.\+cpp}}.

